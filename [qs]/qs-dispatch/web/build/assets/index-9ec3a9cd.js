(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(`html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::-moz-placeholder,textarea::-moz-placeholder{color:#6b7280;opacity:1}select:not([size]){background-image:url("data:image/svg+xml,%3csvg aria-hidden='true' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 10 6'%3e %3cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 1 4 4 4-4'/%3e %3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:.75em .75em;padding-right:2.5rem;-webkit-print-color-adjust:exact;print-color-adjust:exact}[type=checkbox],[type=radio]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;-webkit-print-color-adjust:exact;print-color-adjust:exact;display:inline-block;vertical-align:middle;background-origin:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-shrink:0;height:1rem;width:1rem;color:#1c64f2;background-color:#fff;border-color:#6b7280;border-width:1px;--tw-shadow: 0 0 #0000}[type=checkbox]:checked{background-image:url("data:image/svg+xml,%3csvg aria-hidden='true' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 16 12'%3e %3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M1 5.917 5.724 10.5 15 1.5'/%3e %3c/svg%3e");background-repeat:no-repeat;background-size:.55em .55em;-webkit-print-color-adjust:exact;print-color-adjust:exact}[type=radio]:checked{background-image:url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");background-size:1em 1em}.dark [type=radio]:checked{background-image:url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");background-size:1em 1em}[type=checkbox]:indeterminate{background-image:url("data:image/svg+xml,%3csvg aria-hidden='true' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 16 12'%3e %3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M1 5.917 5.724 10.5 15 1.5'/%3e %3c/svg%3e");background-color:currentColor;border-color:transparent;background-position:center;background-repeat:no-repeat;background-size:.55em .55em;-webkit-print-color-adjust:exact;print-color-adjust:exact}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.object-cover{-o-object-fit:cover;object-fit:cover}.placeholder-gray-400::-moz-placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;height:100vh}#root{height:100%;overflow:hidden}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}:is(.dark .dark\\:placeholder-gray-400)::-moz-placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}@font-face{font-family:Adventure;src:url(https://www.quasar-store.com/fonts/Adventure.ttf)}@font-face{font-family:plate;src:url(https://www.quasar-store.com/fonts/plate.ttf)}::-webkit-scrollbar{width:3px;height:3px}::-webkit-scrollbar-track{border-radius:2px}::-webkit-scrollbar-thumb{background:#003b88;border-radius:8px}::-webkit-scrollbar-thumb:hover{background:#003b88}.cdx-button{margin-top:.25rem;margin-bottom:.5rem;display:flex;flex-direction:row;align-items:center;justify-content:center;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(26 86 219 / var(--tw-bg-opacity));padding:.625rem 1.25rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.cdx-button:hover{--tw-bg-opacity: 1;background-color:rgb(30 66 159 / var(--tw-bg-opacity))}.cdx-button:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(164 202 254 / var(--tw-ring-opacity))}:is(.dark .cdx-button){--tw-bg-opacity: 1;background-color:rgb(28 100 242 / var(--tw-bg-opacity))}:is(.dark .cdx-button:hover){--tw-bg-opacity: 1;background-color:rgb(26 86 219 / var(--tw-bg-opacity))}:is(.dark .cdx-button:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(30 66 159 / var(--tw-ring-opacity))}.police-effect{background-color:red;color:#003b88;animation:police-light .5s infinite;z-index:9999}@keyframes police-light{0%{background-color:red;color:#003b88;box-shadow:0 0 7px red,0 0 10px red,0 0 21px red,0 0 42px red,0 0 82px red,0 0 92px red,0 0 102px red,0 0 151px red}50%{background-color:#003b88;color:red;box-shadow:0 0 7px #003b88,0 0 10px #003b88,0 0 21px #003b88,0 0 42px #003b88,0 0 82px #003b88,0 0 92px #003b88,0 0 102px #003b88,0 0 151px #003b88}to{background-color:red;color:#003b88;box-shadow:0 0 7px red,0 0 10px red,0 0 21px red,0 0 42px red,0 0 82px red,0 0 92px red,0 0 102px red,0 0 151px red}}.emergence-effect{background-color:red;color:#003b88;animation:emergence-light .5s infinite}@keyframes emergence-light{0%{background-color:red;color:#003b88}to{background-color:#003b88;color:red}}.pl,.pl__worm{animation-duration:4s;animation-iteration-count:infinite}.pl{animation-name:bump5;animation-timing-function:linear;width:5em;height:5em}.pl__ring{stroke:hsla(var(--hue),10%,10%,.1);transition:stroke .3s}.pl__worm{animation-name:worm5;animation-timing-function:cubic-bezier(.42,.17,.75,.83)}@keyframes bump5{0%,42%,46%,51%,55%,59%,63%,67%,71%,74%,78%,81%,85%,88%,92%,to{transform:translate(0)}44%{transform:translate(1.33%,6.75%)}53%{transform:translate(-16.67%,-.54%)}61%{transform:translate(3.66%,-2.46%)}69%{transform:translate(-.59%,15.27%)}76%{transform:translate(-1.92%,-4.68%)}83%{transform:translate(9.38%,.96%)}90%{transform:translate(-4.55%,1.98%)}}@keyframes worm5{0%{stroke-dashoffset:10}25%{stroke-dashoffset:295}to{stroke-dashoffset:1165}}.centered{width:200px;height:200px;position:absolute;left:50%;transform:translate(-50%)}[v-cloak]{display:none}::-moz-selection{background-color:#2d2d2d;color:#fff}::selection{background-color:#2d2d2d;color:#fff}.parpadea{animation:parpadea 1.5s infinite}.sirens{animation:sirens 1s infinite}@keyframes parpadea{0%{opacity:100%}50%{opacity:0%}to{opacity:100%}}@keyframes sirens{0%{border:2px solid rgb(0,0,255)}50%{border:2px solid rgb(255,0,0)}to{border:2px solid rgb(0,0,255)}}.text-velocity2{color:#0006;text-shadow:.2vw .1vw .2vw rgba(0,0,0,.5)}.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#003D6C;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#293341;color:#fff}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#37414f;color:#fff;display:none}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px;background-color:#1f2937;color:#fff}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px;background-color:#1f2937;color:#fff}.leaflet-control-layers{box-shadow:0 1px 5px #0006;border-radius:.5rem;background-color:#1f2937cc;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}:is(.dark .leaflet-control-layers){background-color:#1f2937cc}.leaflet-control-layers{border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative;padding:.5rem}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#fff;border-radius:.5rem;background-color:#1f2937cc;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}:is(.dark .leaflet-control-layers-expanded){background-color:#1f2937cc}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{height:1rem!important;width:1rem!important;--tw-border-opacity: 1 !important;border-color:rgb(209 213 219 / var(--tw-border-opacity))!important;--tw-bg-opacity: 1 !important;background-color:rgb(243 244 246 / var(--tw-bg-opacity))!important;--tw-text-opacity: 1 !important;color:rgb(28 100 242 / var(--tw-text-opacity))!important}.leaflet-control-layers-selector:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)!important;--tw-ring-opacity: 1 !important;--tw-ring-color: rgb(63 131 248 / var(--tw-ring-opacity)) !important}:is(.dark .leaflet-control-layers-selector){--tw-border-opacity: 1 !important;border-color:rgb(75 85 99 / var(--tw-border-opacity))!important;--tw-bg-opacity: 1 !important;background-color:rgb(55 65 81 / var(--tw-bg-opacity))!important;--tw-ring-offset-color: #1F2937 !important}:is(.dark .leaflet-control-layers-selector:focus){--tw-ring-opacity: 1 !important;--tw-ring-color: rgb(28 100 242 / var(--tw-ring-opacity)) !important}.leaflet-control-layers label{margin-inline-start:.5rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}:is(.dark .leaflet-control-layers label){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.leaflet-control-layers-separator{margin-top:.5rem;margin-bottom:.5rem;height:1px;border-width:0px;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}:is(.dark .leaflet-control-layers-separator){--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity))}.leaflet-default-icon-path{background-image:url(./location-8f316350.png)}.leaflet-container .leaflet-control-attribution{background:#003D6C;margin:0;display:none}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #1F2937;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #1F2937}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity));background-color:#fffc;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}:is(.dark .leaflet-popup-content-wrapper),:is(.dark .leaflet-popup-tip){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity));background-color:#1f2937cc}.leaflet-popup-content-wrapper,.leaflet-popup-tip{box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent;margin-top:.25rem;margin-right:.25rem;margin-inline-start:auto;display:inline-flex;height:2rem;width:2rem;align-items:center;justify-content:center;border-radius:.5rem;background-color:transparent;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.leaflet-container a.leaflet-popup-close-button:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}:is(.dark .leaflet-container a.leaflet-popup-close-button:hover){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(240 82 82 / var(--tw-text-opacity))}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:red}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}[data-tooltip-style^=light]+.leaflet-tooltip>.tooltip-arrow:before{border-style:solid;border-color:#e5e7eb}[data-tooltip-style^=light]+.leaflet-tooltip[data-popper-placement^=top]>.tooltip-arrow:before{border-bottom-width:1px;border-right-width:1px}[data-tooltip-style^=light]+.leaflet-tooltip[data-popper-placement^=right]>.tooltip-arrow:before{border-bottom-width:1px;border-left-width:1px}[data-tooltip-style^=light]+.leaflet-tooltip[data-popper-placement^=bottom]>.tooltip-arrow:before{border-top-width:1px;border-left-width:1px}[data-tooltip-style^=light]+.leaflet-tooltip[data-popper-placement^=left]>.tooltip-arrow:before{border-top-width:1px;border-right-width:1px}.leaflet-tooltip[data-popper-placement^=top]>.tooltip-arrow{bottom:-4px}.leaflet-tooltip[data-popper-placement^=bottom]>.tooltip-arrow{top:-4px}.leaflet-tooltip[data-popper-placement^=left]>.tooltip-arrow{right:-4px}.leaflet-tooltip[data-popper-placement^=right]>.tooltip-arrow{left:-4px}.leaflet-tooltip.invisible>.tooltip-arrow:before{visibility:hidden}.leaflet-tooltip{position:absolute;z-index:10;display:inline-block;white-space:nowrap;border-radius:.5rem;background-color:#11182780;padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));opacity:0;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}:is(.dark .leaflet-tooltip){background-color:#37415180}.leaflet-tooltip{left:-20px}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#1f2937}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#1f2937}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}.ce-toolbar__settings-btn,.ce-toolbar__plus svg{color:#fff!important}.ce-toolbar__settings-btn:hover svg,.ce-toolbar__plus:hover svg{color:#000!important}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg,.ce-inline-tool svg{color:#000!important}.ce-conversion-tool,.tc-popover{color:#000!important}::-moz-selection{background:#1f1b1b!important}::selection{background:#1f1b1b!important}.ce-block--selected .ce-block__content{background:#545353!important;border-radius:8px!important;padding:6px!important}.cdx-search-field__input{color:#000!important}.link-tool__input{padding-left:38px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' strokeLinecap='round' strokeWidth='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' strokeLinecap='round' strokeWidth='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.link-tool__input-holder--error{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' strokeLinecap='round' strokeWidth='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' strokeLinecap='round' strokeWidth='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-color:#fff3f6;border-color:#f3e0e0;color:#a95a5a;box-shadow:inset 0 1px 3px #923e3e0d}.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb;&__image{border-radius:3px;overflow:hidden;margin-bottom:10px;&-picture{max-width:100%;vertical-align:bottom;display:block}&-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center;&:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}}}&__caption{&[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}&[contentEditable=true][data-placeholder]:empty{&:before{display:block}&:focus:before{display:none}}}&--empty{^&__image {display: none;}}&--empty,&--loading{^&__caption {display: none;}}&--filled{.cdx-button{display:none}^&__image {&-preloader {display: none;}}}&--loading{^&__image {min-height: 200px; display: flex; border: 1px solid var(--border-color); background-color: #fff; &-picture {display: none;}} .cdx-button {display: none;}}&--withBorder{^&__image {border: 1px solid var(--border-color);}}&--withBackground{^&__image {padding: 15px; background: var(--bg-color); &-picture {max-width: 60%; margin: 0 auto;}}}&--stretched{^&__image {&-picture {width: 100%;}}}}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center;svg {height: auto; margin: 0 6px 0 0;}}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}.ce-header[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;display:none;cursor:text}.ce-header[contentEditable=true][data-placeholder]:empty:before{display:block}.ce-header[contentEditable=true][data-placeholder]:empty:focus:before{display:none}h1.ce-header{font-size:1.875rem;line-height:2.25rem;font-weight:700}h2.ce-header{font-size:1.5rem;line-height:2rem;font-weight:600}h3.ce-header{font-size:1.25rem;line-height:1.75rem;font-weight:600}h4.ce-header{font-size:1.125rem;line-height:1.75rem;font-weight:600}h5.ce-header,h6.ce-header{font-size:1rem;line-height:1.5rem;font-weight:600}.nui-wrapper{text-align:center;height:100%;display:flex;justify-content:center;align-items:center}pre{counter-reset:line-numbering;background:#2c3e50;padding:12px 0 14px;color:#ecf0f1;line-height:140%}.popup-thing{background:#282c34;border-radius:10px;width:500px;height:400px;display:flex;justify-content:center;align-items:center;color:#fff}.tablet{background:#000;box-shadow:0 0 .1em .5vh #39334d,0 0 0 .4em #d3cde4;border-radius:6vh}.cam{position:absolute;z-index:99999999;background:#000;box-shadow:0 0 .1em .5vh #39334d,0 0 0 .5vh #d3cde4;border-radius:6vh;height:.5vh;width:.5vh;left:13.8vw;opacity:.4}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}[data-popper-arrow],[data-popper-arrow]:before{position:absolute;width:8px;height:8px;background:inherit}[data-popper-arrow]{visibility:hidden}[data-popper-arrow]:before{content:"";visibility:visible;transform:rotate(45deg)}[data-popper-arrow]:after{content:"";visibility:visible;transform:rotate(45deg);position:absolute;width:9px;height:9px;background:inherit}[role=tooltip]>[data-popper-arrow]:before{border-style:solid;border-color:#e5e7eb}.dark [role=tooltip]>[data-popper-arrow]:before{border-style:solid;border-color:#4b5563}[role=tooltip]>[data-popper-arrow]:after{border-style:solid;border-color:#e5e7eb}.dark [role=tooltip]>[data-popper-arrow]:after{border-style:solid;border-color:#4b5563}[data-popover][role=tooltip][data-popper-placement^=top]>[data-popper-arrow]:before{border-bottom-width:1px;border-right-width:1px}[data-popover][role=tooltip][data-popper-placement^=top]>[data-popper-arrow]:after{border-bottom-width:1px;border-right-width:1px}[data-popover][role=tooltip][data-popper-placement^=right]>[data-popper-arrow]:before{border-bottom-width:1px;border-left-width:1px}[data-popover][role=tooltip][data-popper-placement^=right]>[data-popper-arrow]:after{border-bottom-width:1px;border-left-width:1px}[data-popover][role=tooltip][data-popper-placement^=bottom]>[data-popper-arrow]:before{border-top-width:1px;border-left-width:1px}[data-popover][role=tooltip][data-popper-placement^=bottom]>[data-popper-arrow]:after{border-top-width:1px;border-left-width:1px}[data-popover][role=tooltip][data-popper-placement^=left]>[data-popper-arrow]:before{border-top-width:1px;border-right-width:1px}[data-popover][role=tooltip][data-popper-placement^=left]>[data-popper-arrow]:after{border-top-width:1px;border-right-width:1px}[data-popover][role=tooltip][data-popper-placement^=top]>[data-popper-arrow]{bottom:-5px}[data-popover][role=tooltip][data-popper-placement^=bottom]>[data-popper-arrow]{top:-5px}[data-popover][role=tooltip][data-popper-placement^=left]>[data-popper-arrow]{right:-5px}[data-popover][role=tooltip][data-popper-placement^=right]>[data-popper-arrow]{left:-5px}[type=text],[type=email],[type=url],[type=password],[type=number],[type=date],[type=datetime-local],[type=month],[type=search],[type=tel],[type=time],[type=week],[multiple],textarea,select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#6b7280;border-width:1px;border-radius:0;padding:.5rem .75rem;font-size:1rem;line-height:1.5rem;--tw-shadow: 0 0 #0000}[type=text]:focus,[type=email]:focus,[type=url]:focus,[type=password]:focus,[type=number]:focus,[type=date]:focus,[type=datetime-local]:focus,[type=month]:focus,[type=search]:focus,[type=tel]:focus,[type=time]:focus,[type=week]:focus,[multiple]:focus,textarea:focus,select:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset: var(--tw-empty, );--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: #1C64F2;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);border-color:#1c64f2}input::placeholder,textarea::placeholder{color:#6b7280;opacity:1}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-date-and-time-value{min-height:1.5em}select:not([size]){background-image:url("data:image/svg+xml,%3csvg aria-hidden='true' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 10 6'%3e %3cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 1 4 4 4-4'/%3e %3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:.75em .75em;padding-right:2.5rem;-webkit-print-color-adjust:exact;print-color-adjust:exact}[multiple]{background-image:initial;background-position:initial;background-repeat:unset;background-size:initial;padding-right:.75rem;-webkit-print-color-adjust:unset;print-color-adjust:unset}[type=checkbox],[type=radio]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;-webkit-print-color-adjust:exact;print-color-adjust:exact;display:inline-block;vertical-align:middle;background-origin:border-box;-webkit-user-select:none;user-select:none;flex-shrink:0;height:1rem;width:1rem;color:#1c64f2;background-color:#fff;border-color:#6b7280;border-width:1px;--tw-shadow: 0 0 #0000}[type=checkbox]{border-radius:0}[type=radio]{border-radius:100%}[type=checkbox]:focus,[type=radio]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset: var(--tw-empty, );--tw-ring-offset-width: 2px;--tw-ring-offset-color: #fff;--tw-ring-color: #1C64F2;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}[type=checkbox]:checked,[type=radio]:checked,.dark [type=checkbox]:checked,.dark [type=radio]:checked{border-color:transparent;background-color:currentColor;background-size:.55em .55em;background-position:center;background-repeat:no-repeat}[type=checkbox]:checked{background-image:url("data:image/svg+xml,%3csvg aria-hidden='true' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 16 12'%3e %3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M1 5.917 5.724 10.5 15 1.5'/%3e %3c/svg%3e");background-repeat:no-repeat;background-size:.55em .55em;-webkit-print-color-adjust:exact;print-color-adjust:exact}[type=radio]:checked{background-image:url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");background-size:1em 1em}.dark [type=radio]:checked{background-image:url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");background-size:1em 1em}[type=checkbox]:indeterminate{background-image:url("data:image/svg+xml,%3csvg aria-hidden='true' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 16 12'%3e %3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M1 5.917 5.724 10.5 15 1.5'/%3e %3c/svg%3e");background-color:currentColor;border-color:transparent;background-position:center;background-repeat:no-repeat;background-size:.55em .55em;-webkit-print-color-adjust:exact;print-color-adjust:exact}[type=checkbox]:indeterminate:hover,[type=checkbox]:indeterminate:focus{border-color:transparent;background-color:currentColor}[type=file]{background:unset;border-color:inherit;border-width:0;border-radius:0;padding:0;font-size:unset;line-height:inherit}[type=file]:focus{outline:1px auto inherit}input[type=file]::file-selector-button{color:#fff;background:#1F2937;border:0;font-weight:500;font-size:.875rem;cursor:pointer;padding:.625rem 1rem .625rem 2rem;margin-inline-start:-1rem;margin-inline-end:1rem}input[type=file]::file-selector-button:hover{background:#374151}.dark input[type=file]::file-selector-button{color:#fff;background:#4B5563}.dark input[type=file]::file-selector-button:hover{background:#6B7280}input[type=range]::-webkit-slider-thumb{height:1.25rem;width:1.25rem;background:#1C64F2;border-radius:9999px;border:0;appearance:none;-moz-appearance:none;-webkit-appearance:none;cursor:pointer}input[type=range]:disabled::-webkit-slider-thumb{background:#9CA3AF}.dark input[type=range]:disabled::-webkit-slider-thumb{background:#6B7280}input[type=range]:focus::-webkit-slider-thumb{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1px;--tw-ring-color: rgb(164 202 254 / var(--tw-ring-opacity))}input[type=range]::-moz-range-thumb{height:1.25rem;width:1.25rem;background:#1C64F2;border-radius:9999px;border:0;appearance:none;-moz-appearance:none;-webkit-appearance:none;cursor:pointer}input[type=range]:disabled::-moz-range-thumb{background:#9CA3AF}.dark input[type=range]:disabled::-moz-range-thumb{background:#6B7280}input[type=range]::-moz-range-progress{background:#3F83F8}input[type=range]::-ms-fill-lower{background:#3F83F8}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(63 131 248 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(63 131 248 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 3000px){.container{max-width:3000px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.\\!visible{visibility:visible!important}.visible{visibility:visible}.collapse{visibility:collapse}.static{position:static}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-y-0{top:0;bottom:0}.left-0{left:0}.left-\\[0\\.319rem\\]{left:.319rem}.left-\\[19vw\\]{left:19vw}.left-\\[20vw\\]{left:20vw}.left-\\[65vw\\]{left:65vw}.left-\\[7\\.1vh\\]{left:7.1vh}.right-0{right:0}.right-\\[-0vw\\]{right:-0vw}.start-0{inset-inline-start:0px}.top-0{top:0}.top-4{top:1rem}.top-8{top:2rem}.top-\\[-\\.4vh\\]{top:-.4vh}.top-\\[-3\\%\\]{top:-3%}.top-\\[30vh\\]{top:30vh}.top-\\[35vh\\]{top:35vh}.top-\\[46vh\\]{top:46vh}.top-\\[6\\.5vh\\]{top:6.5vh}.top-\\[60vh\\]{top:60vh}.top-\\[85\\%\\]{top:85%}.z-0{z-index:0}.z-50{z-index:50}.z-\\[0\\]{z-index:0}.z-\\[51\\]{z-index:51}.z-\\[99999\\]{z-index:99999}.float-right{float:right}.float-left{float:left}.m-0{margin:0}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-2\\.5{margin:.625rem}.m-4{margin:1rem}.m-8{margin:2rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.-mt-20{margin-top:-5rem}.mb-2{margin-bottom:.5rem}.mb-2\\.5{margin-bottom:.625rem}.mb-4{margin-bottom:1rem}.mb-48{margin-bottom:12rem}.mb-5{margin-bottom:1.25rem}.mb-8{margin-bottom:2rem}.mb-9{margin-bottom:2.25rem}.mb-\\[\\.5vh\\]{margin-bottom:.5vh}.mb-\\[1\\.5vh\\]{margin-bottom:1.5vh}.mb-\\[1vh\\]{margin-bottom:1vh}.mb-\\[2vh\\]{margin-bottom:2vh}.me-1{margin-inline-end:.25rem}.me-2{margin-inline-end:.5rem}.me-3{margin-inline-end:.75rem}.ml-0{margin-left:0}.ml-2{margin-left:.5rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-2{margin-right:.5rem}.mr-4{margin-right:1rem}.mr-6{margin-right:1.5rem}.mr-\\[-1vw\\]{margin-right:-1vw}.mr-auto{margin-right:auto}.ms-2{margin-inline-start:.5rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-20{margin-top:5rem}.mt-4{margin-top:1rem}.mt-40{margin-top:10rem}.mt-6{margin-top:1.5rem}.mt-\\[-1\\.1vh\\]{margin-top:-1.1vh}.mt-\\[-2\\.5vh\\]{margin-top:-2.5vh}.mt-\\[-3vh\\]{margin-top:-3vh}.mt-\\[-4\\.3vh\\]{margin-top:-4.3vh}.mt-\\[\\.09vh\\]{margin-top:.09vh}.block{display:block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-0{height:0px}.h-10{height:2.5rem}.h-14{height:3.5rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-20{height:5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-36{height:9rem}.h-4{height:1rem}.h-40{height:10rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-72{height:18rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-\\[\\.45vh\\]{height:.45vh}.h-\\[\\.4vh\\]{height:.4vh}.h-\\[120\\%\\]{height:120%}.h-\\[13\\.5rem\\]{height:13.5rem}.h-\\[2\\.1vh\\]{height:2.1vh}.h-\\[3\\.5vh\\]{height:3.5vh}.h-\\[30rem\\]{height:30rem}.h-\\[38vh\\]{height:38vh}.h-\\[40rem\\]{height:40rem}.h-\\[45vh\\]{height:45vh}.h-\\[5\\.3vh\\]{height:5.3vh}.h-\\[500vh\\]{height:500vh}.h-\\[50vh\\]{height:50vh}.h-\\[6\\.39vh\\]{height:6.39vh}.h-\\[60\\%\\]{height:60%}.h-\\[60vh\\]{height:60vh}.h-\\[65vh\\]{height:65vh}.h-\\[80\\%\\]{height:80%}.h-\\[82\\%\\]{height:82%}.h-\\[90vh\\]{height:90vh}.h-\\[97\\.5\\%\\]{height:97.5%}.h-\\[9rem\\]{height:9rem}.h-full{height:100%}.h-screen{height:100vh}.max-h-96{max-height:24rem}.max-h-\\[20vh\\]{max-height:20vh}.max-h-\\[22rem\\]{max-height:22rem}.max-h-\\[35vh\\]{max-height:35vh}.max-h-\\[50vh\\]{max-height:50vh}.max-h-\\[55vh\\]{max-height:55vh}.max-h-\\[5vh\\]{max-height:5vh}.max-h-\\[80\\%\\]{max-height:80%}.max-h-\\[80vh\\]{max-height:80vh}.max-h-screen{max-height:100vh}.min-h-\\[20\\%\\]{min-height:20%}.w-0{width:0px}.w-1\\/2{width:50%}.w-1\\/4{width:25%}.w-1\\/5{width:20%}.w-12{width:3rem}.w-14{width:3.5rem}.w-2{width:.5rem}.w-2\\/3{width:66.666667%}.w-24{width:6rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-32{width:8rem}.w-36{width:9rem}.w-4{width:1rem}.w-40{width:10rem}.w-5{width:1.25rem}.w-52{width:13rem}.w-64{width:16rem}.w-72{width:18rem}.w-8{width:2rem}.w-80{width:20rem}.w-\\[100vw\\]{width:100vw}.w-\\[13vw\\]{width:13vw}.w-\\[17vw\\]{width:17vw}.w-\\[20vw\\]{width:20vw}.w-\\[2vw\\]{width:2vw}.w-\\[500vw\\]{width:500vw}.w-\\[50vw\\]{width:50vw}.w-\\[56vw\\]{width:56vw}.w-\\[68vw\\]{width:68vw}.w-\\[70\\%\\]{width:70%}.w-\\[74vw\\]{width:74vw}.w-\\[90\\%\\]{width:90%}.w-\\[97\\%\\]{width:97%}.w-auto{width:auto}.w-full{width:100%}.w-screen{width:100vw}.min-w-0{min-width:0px}.min-w-\\[50\\%\\]{min-width:50%}.min-w-\\[7vw\\]{min-width:7vw}.max-w-2xl{max-width:42rem}.max-w-\\[20vw\\]{max-width:20vw}.max-w-\\[30\\%\\]{max-width:30%}.max-w-\\[50\\%\\]{max-width:50%}.max-w-\\[75\\%\\]{max-width:75%}.max-w-full{max-width:100%}.max-w-lg{max-width:32rem}.max-w-sm{max-width:24rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.shrink{flex-shrink:1}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-90{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-move{cursor:move}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;user-select:none}.resize{resize:both}.list-disc{list-style-type:disc}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.content-center{align-content:center}.items-start{align-items:flex-start}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-4{gap:1rem}.-space-x-px>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(-1px * var(--tw-space-x-reverse));margin-left:calc(-1px * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-0>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(0px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0px * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-\\[10px\\]{border-radius:10px}.rounded-\\[12px\\]{border-radius:12px}.rounded-\\[1vh\\]{border-radius:1vh}.rounded-\\[3vh\\]{border-radius:3vh}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b-lg{border-bottom-right-radius:.5rem;border-bottom-left-radius:.5rem}.rounded-l-lg{border-top-left-radius:.5rem;border-bottom-left-radius:.5rem}.rounded-l-xl{border-top-left-radius:.75rem;border-bottom-left-radius:.75rem}.rounded-r-lg{border-top-right-radius:.5rem;border-bottom-right-radius:.5rem}.rounded-r-xl{border-top-right-radius:.75rem;border-bottom-right-radius:.75rem}.rounded-t-lg{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-8{border-width:8px}.border-b{border-bottom-width:1px}.border-dashed{border-style:dashed}.border-black{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity))}.border-blue-300{--tw-border-opacity: 1;border-color:rgb(164 202 254 / var(--tw-border-opacity))}.border-blue-700{--tw-border-opacity: 1;border-color:rgb(26 86 219 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity))}.border-gray-600{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity))}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}.border-gray-900{--tw-border-opacity: 1;border-color:rgb(17 24 39 / var(--tw-border-opacity))}.border-green-300{--tw-border-opacity: 1;border-color:rgb(132 225 188 / var(--tw-border-opacity))}.border-green-400{--tw-border-opacity: 1;border-color:rgb(49 196 141 / var(--tw-border-opacity))}.border-red-300{--tw-border-opacity: 1;border-color:rgb(248 180 180 / var(--tw-border-opacity))}.border-red-700{--tw-border-opacity: 1;border-color:rgb(200 30 30 / var(--tw-border-opacity))}.border-red-800{--tw-border-opacity: 1;border-color:rgb(155 28 28 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.border-yellow-300{--tw-border-opacity: 1;border-color:rgb(250 202 21 / var(--tw-border-opacity))}.bg-\\[\\#111828\\]{--tw-bg-opacity: 1;background-color:rgb(17 24 40 / var(--tw-bg-opacity))}.bg-\\[rgba\\(0\\,0\\,0\\,0\\.17\\)\\]{background-color:#0000002b}.bg-\\[rgba\\(0\\,0\\,0\\,0\\.5\\)\\],.bg-black\\/50{background-color:#00000080}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(235 245 255 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(63 131 248 / var(--tw-bg-opacity))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(28 100 242 / var(--tw-bg-opacity))}.bg-blue-700{--tw-bg-opacity: 1;background-color:rgb(26 86 219 / var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.bg-gray-700{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.bg-gray-700\\/70{background-color:#374151b3}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-gray-800\\/80{background-color:#1f2937cc}.bg-gray-800\\/95{background-color:#1f2937f2}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-gray-900\\/70{background-color:#111827b3}.bg-gray-950{--tw-bg-opacity: 1;background-color:rgb(3 7 18 / var(--tw-bg-opacity))}.bg-gray-950\\/80{background-color:#030712cc}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(243 250 247 / var(--tw-bg-opacity))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(14 159 110 / var(--tw-bg-opacity))}.bg-green-700{--tw-bg-opacity: 1;background-color:rgb(4 108 78 / var(--tw-bg-opacity))}.bg-orange-600{--tw-bg-opacity: 1;background-color:rgb(208 56 1 / var(--tw-bg-opacity))}.bg-primary-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.bg-primary-700{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(253 242 242 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(240 82 82 / var(--tw-bg-opacity))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(224 36 36 / var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(253 253 234 / var(--tw-bg-opacity))}.fill-blue-600{fill:#1c64f2}.object-cover{object-fit:cover}.p-0{padding:0}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-2{padding:.5rem}.p-2\\.5{padding:.625rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-\\[0\\.3vw\\]{padding:.3vw}.p-\\[1\\.5vh\\]{padding:1.5vh}.p-\\[1vh\\]{padding:1vh}.p-\\[1vw\\]{padding:1vw}.p-\\[2vh\\]{padding:2vh}.p-\\[5px\\]{padding:5px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-2{padding-bottom:.5rem}.pb-3{padding-bottom:.75rem}.pb-4{padding-bottom:1rem}.pb-6{padding-bottom:1.5rem}.pl-10{padding-left:2.5rem}.pl-2{padding-left:.5rem}.pl-3{padding-left:.75rem}.pl-4{padding-left:1rem}.pr-2{padding-right:.5rem}.ps-10{padding-inline-start:2.5rem}.ps-3{padding-inline-start:.75rem}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.pt-4{padding-top:1rem}.pt-5{padding-top:1.25rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.align-middle{vertical-align:middle}.font-\\[Adventure\\]{font-family:Adventure}.font-\\[plate\\]{font-family:plate}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-6xl{font-size:3.75rem;line-height:1}.text-7xl{font-size:4.5rem;line-height:1}.text-\\[\\.8vh\\]{font-size:.8vh}.text-\\[1\\.2vh\\]{font-size:1.2vh}.text-\\[1vh\\]{font-size:1vh}.text-\\[2vh\\]{font-size:2vh}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-light{font-weight:300}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.leading-6{line-height:1.5rem}.leading-9{line-height:2.25rem}.leading-tight{line-height:1.25}.tracking-tight{letter-spacing:-.025em}.text-blue-600{--tw-text-opacity: 1;color:rgb(28 100 242 / var(--tw-text-opacity))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 66 159 / var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-green-300{--tw-text-opacity: 1;color:rgb(132 225 188 / var(--tw-text-opacity))}.text-green-500{--tw-text-opacity: 1;color:rgb(14 159 110 / var(--tw-text-opacity))}.text-green-600{--tw-text-opacity: 1;color:rgb(5 122 85 / var(--tw-text-opacity))}.text-green-800{--tw-text-opacity: 1;color:rgb(3 84 63 / var(--tw-text-opacity))}.text-primary-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-red-400{--tw-text-opacity: 1;color:rgb(249 128 128 / var(--tw-text-opacity))}.text-red-600{--tw-text-opacity: 1;color:rgb(224 36 36 / var(--tw-text-opacity))}.text-red-700{--tw-text-opacity: 1;color:rgb(200 30 30 / var(--tw-text-opacity))}.text-red-800{--tw-text-opacity: 1;color:rgb(155 28 28 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-yellow-800{--tw-text-opacity: 1;color:rgb(114 59 19 / var(--tw-text-opacity))}.placeholder-gray-400::placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}.opacity-0{opacity:0}.opacity-90{opacity:.9}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-black{--tw-shadow-color: #000000;--tw-shadow: var(--tw-shadow-colored)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-2{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-gray-300{--tw-ring-opacity: 1;--tw-ring-color: rgb(209 213 219 / var(--tw-ring-opacity))}.ring-offset-gray-800{--tw-ring-offset-color: #1F2937}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-3xl{--tw-backdrop-blur: blur(64px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-lg{--tw-backdrop-blur: blur(16px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.\\[grid-area\\:aside\\]{grid-area:aside}.\\[grid-area\\:bills\\]{grid-area:bills}.\\[grid-area\\:buttons\\]{grid-area:buttons}.\\[grid-area\\:companions\\]{grid-area:companions}.\\[grid-area\\:houses\\]{grid-area:houses}.\\[grid-area\\:licenses\\]{grid-area:licenses}.\\[grid-area\\:main\\]{grid-area:main}.\\[grid-area\\:manage\\]{grid-area:manage}.\\[grid-area\\:notes\\]{grid-area:notes}.\\[grid-area\\:playerList\\]{grid-area:playerList}.\\[grid-area\\:pp\\]{grid-area:pp}.\\[grid-area\\:properties\\]{grid-area:properties}.\\[grid-area\\:rawPenalCode\\]{grid-area:rawPenalCode}.\\[grid-area\\:results\\]{grid-area:results}.\\[grid-area\\:search\\]{grid-area:search}.\\[grid-area\\:tags\\]{grid-area:tags}.\\[grid-area\\:title\\]{grid-area:title}.\\[grid-area\\:vehicles\\]{grid-area:vehicles}.hover\\:cursor-pointer:hover{cursor:pointer}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(28 100 242 / var(--tw-bg-opacity))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(26 86 219 / var(--tw-bg-opacity))}.hover\\:bg-blue-800:hover{--tw-bg-opacity: 1;background-color:rgb(30 66 159 / var(--tw-bg-opacity))}.hover\\:bg-gray-500:hover{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity))}.hover\\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.hover\\:bg-primary-800:hover{--tw-bg-opacity: 1;background-color:rgb(30 64 175 / var(--tw-bg-opacity))}.hover\\:bg-red-700:hover{--tw-bg-opacity: 1;background-color:rgb(200 30 30 / var(--tw-bg-opacity))}.hover\\:p-3:hover{padding:.75rem}.hover\\:text-gray-300:hover{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.hover\\:text-gray-500:hover{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.hover\\:text-green-300:hover{--tw-text-opacity: 1;color:rgb(132 225 188 / var(--tw-text-opacity))}.hover\\:text-red-500:hover{--tw-text-opacity: 1;color:rgb(240 82 82 / var(--tw-text-opacity))}.hover\\:text-white:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.hover\\:opacity-75:hover{opacity:.75}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(63 131 248 / var(--tw-border-opacity))}.focus\\:border-gray-300:focus{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.focus\\:border-primary-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-4:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-300:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(164 202 254 / var(--tw-ring-opacity))}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(63 131 248 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(28 100 242 / var(--tw-ring-opacity))}.focus\\:ring-blue-800:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(30 66 159 / var(--tw-ring-opacity))}.focus\\:ring-blue-900:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(35 56 118 / var(--tw-ring-opacity))}.focus\\:ring-primary-200:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(191 219 254 / var(--tw-ring-opacity))}.focus\\:ring-primary-300:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(147 197 253 / var(--tw-ring-opacity))}.focus\\:ring-primary-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-red-300:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(248 180 180 / var(--tw-ring-opacity))}.focus\\:ring-red-900:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(119 29 29 / var(--tw-ring-opacity))}:is([dir=rtl] .rtl\\:rotate-180){--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}:is([dir=rtl] .rtl\\:space-x-reverse)>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}:is(.dark .dark\\:border-blue-800){--tw-border-opacity: 1;border-color:rgb(30 66 159 / var(--tw-border-opacity))}:is(.dark .dark\\:border-gray-600){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity))}:is(.dark .dark\\:border-green-800){--tw-border-opacity: 1;border-color:rgb(3 84 63 / var(--tw-border-opacity))}:is(.dark .dark\\:border-red-500){--tw-border-opacity: 1;border-color:rgb(240 82 82 / var(--tw-border-opacity))}:is(.dark .dark\\:border-red-800){--tw-border-opacity: 1;border-color:rgb(155 28 28 / var(--tw-border-opacity))}:is(.dark .dark\\:border-yellow-800){--tw-border-opacity: 1;border-color:rgb(114 59 19 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-blue-600){--tw-bg-opacity: 1;background-color:rgb(28 100 242 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-gray-600){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-gray-700){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:text-blue-400){--tw-text-opacity: 1;color:rgb(118 169 250 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-300){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-600){--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}:is(.dark .dark\\:text-green-400){--tw-text-opacity: 1;color:rgb(49 196 141 / var(--tw-text-opacity))}:is(.dark .dark\\:text-red-400){--tw-text-opacity: 1;color:rgb(249 128 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-red-500){--tw-text-opacity: 1;color:rgb(240 82 82 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:text-yellow-300){--tw-text-opacity: 1;color:rgb(250 202 21 / var(--tw-text-opacity))}:is(.dark .dark\\:placeholder-gray-400)::placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity))}:is(.dark .dark\\:ring-gray-500){--tw-ring-opacity: 1;--tw-ring-color: rgb(107 114 128 / var(--tw-ring-opacity))}:is(.dark .dark\\:hover\\:bg-blue-700:hover){--tw-bg-opacity: 1;background-color:rgb(26 86 219 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-red-500:hover){--tw-bg-opacity: 1;background-color:rgb(240 82 82 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:border-blue-500:focus){--tw-border-opacity: 1;border-color:rgb(63 131 248 / var(--tw-border-opacity))}:is(.dark .dark\\:focus\\:ring-blue-500:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(63 131 248 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-blue-800:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(30 66 159 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-primary-900:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(30 58 138 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-red-800:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(155 28 28 / var(--tw-ring-opacity))}:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: #e74c3c;--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-toast-width: 320px;--toastify-toast-background: #fff;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient( to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55 );--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error)}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;padding:4px;width:var(--toastify-toast-width);box-sizing:border-box;color:#fff}.Toastify__toast-container--top-left{top:1em;left:1em}.Toastify__toast-container--top-center{top:1em;left:50%;transform:translate(-50%)}.Toastify__toast-container--top-right{top:1em;right:1em}.Toastify__toast-container--bottom-left{bottom:1em;left:1em}.Toastify__toast-container--bottom-center{bottom:1em;left:50%;transform:translate(-50%)}.Toastify__toast-container--bottom-right{bottom:1em;right:1em}@media only screen and (max-width : 480px){.Toastify__toast-container{width:100vw;padding:0;left:0;margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:0;transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:0;transform:translate(0)}.Toastify__toast-container--rtl{right:0;left:initial}}.Toastify__toast{position:relative;min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:8px;border-radius:4px;box-shadow:0 1px 10px #0000001a,0 2px 15px #0000000d;display:flex;justify-content:space-between;max-height:var(--toastify-toast-max-height);overflow:hidden;font-family:var(--toastify-font-family);cursor:default;direction:ltr;z-index:0}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-body{margin:auto 0;flex:1 1 auto;padding:6px;display:flex;align-items:center}.Toastify__toast-body>div:last-child{word-break:break-word;flex:1}.Toastify__toast-icon{margin-inline-end:10px;width:20px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.7s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}@media only screen and (max-width : 480px){.Toastify__toast{margin-bottom:0;border-radius:0}}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;align-self:flex-start}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:5px;z-index:var(--toastify-z-index);opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateX(-20deg);opacity:1}to{transform:perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(110%,0,0)}}@keyframes Toastify__slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-110%,0,0)}}@keyframes Toastify__slideOutDown{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.link-tool{position:relative}.link-tool__input{padding-left:38px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' strokeLinecap='round' strokeWidth='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' strokeLinecap='round' strokeWidth='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.link-tool__input-holder{position:relative}.link-tool__input-holder--error{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' strokeLinecap='round' strokeWidth='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' strokeLinecap='round' strokeWidth='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-color:#fff3f6;border-color:#f3e0e0;color:#a95a5a;box-shadow:inset 0 1px 3px #923e3e0d}.link-tool__input[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.link-tool__input[contentEditable=true][data-placeholder]:empty:before{opacity:1}.link-tool__input[contentEditable=true][data-placeholder]:focus:before{opacity:0}.link-tool__progress{position:absolute;box-shadow:inset 0 1px 3px #66556b0a;height:100%;width:0;background-color:#1c64f2;z-index:-1}.link-tool__progress--loading{animation:progress .5s ease-in;animation-fill-mode:forwards}.link-tool__progress--loaded{width:100%}.link-tool__content{display:block;padding:25px;border-radius:2px;box-shadow:0 0 0 2px #2e2727;color:initial!important;text-decoration:none!important}.link-tool__content:after{content:"";clear:both;display:table}.link-tool__content--rendered{background:#1F2937;border:1px solid rgba(201,201,204,.48);box-shadow:0 1px 3px #0000001a;border-radius:6px;will-change:filter;animation:link-in .45s 1 cubic-bezier(.215,.61,.355,1);transition:all .2s ease-in-out}.link-tool__content--rendered:hover{box-shadow:0 0 3px #00000029;background:#141a22;transition:all .2s ease-in-out}.link-tool__image{background-position:center center;background-repeat:no-repeat;background-size:cover;margin:0 0 0 30px;width:65px;height:65px;border-radius:3px;float:right}.link-tool__title{font-size:15px;font-weight:600;line-height:1.5em;margin:0 0 10px;color:#fff}.link-tool__title+.link-tool__anchor{margin-top:25px}.link-tool__description{margin:0 0 20px;font-size:12px;line-height:1.55em;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;color:#fff}.link-tool__anchor{display:block;font-size:15px;line-height:1em;color:#888!important;border:0!important;padding:0!important}@keyframes link-in{0%{filter:blur(5px)}to{filter:none}}.codex-editor--narrow .link-tool__image{display:none}`)),document.head.appendChild(t)}}catch(r){console.error("vite-plugin-css-injected-by-js",r)}})();
var M6=Object.defineProperty;var L6=(e,t,n)=>t in e?M6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pk=(e,t,n)=>(L6(e,typeof t!="symbol"?t+"":t,n),n);function P6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var AO={exports:{}},Wy={},kO={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm=Symbol.for("react.element"),R6=Symbol.for("react.portal"),O6=Symbol.for("react.fragment"),I6=Symbol.for("react.strict_mode"),N6=Symbol.for("react.profiler"),D6=Symbol.for("react.provider"),B6=Symbol.for("react.context"),F6=Symbol.for("react.forward_ref"),j6=Symbol.for("react.suspense"),z6=Symbol.for("react.memo"),U6=Symbol.for("react.lazy"),mk=Symbol.iterator;function H6(e){return e===null||typeof e!="object"?null:(e=mk&&e[mk]||e["@@iterator"],typeof e=="function"?e:null)}var MO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LO=Object.assign,PO={};function Xd(e,t,n){this.props=e,this.context=t,this.refs=PO,this.updater=n||MO}Xd.prototype.isReactComponent={};Xd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RO(){}RO.prototype=Xd.prototype;function LS(e,t,n){this.props=e,this.context=t,this.refs=PO,this.updater=n||MO}var PS=LS.prototype=new RO;PS.constructor=LS;LO(PS,Xd.prototype);PS.isPureReactComponent=!0;var gk=Array.isArray,OO=Object.prototype.hasOwnProperty,RS={current:null},IO={key:!0,ref:!0,__self:!0,__source:!0};function NO(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)OO.call(t,r)&&!IO.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gm,type:e,key:o,ref:s,props:i,_owner:RS.current}}function G6(e,t){return{$$typeof:gm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function OS(e){return typeof e=="object"&&e!==null&&e.$$typeof===gm}function V6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vk=/\/+/g;function u1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V6(""+e.key):t.toString(36)}function cv(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case gm:case R6:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+u1(s,0):r,gk(i)?(n="",e!=null&&(n=e.replace(vk,"$&/")+"/"),cv(i,t,n,"",function(c){return c})):i!=null&&(OS(i)&&(i=G6(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(vk,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",gk(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+u1(o,a);s+=cv(o,t,n,l,i)}else if(l=H6(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+u1(o,a++),s+=cv(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function gg(e,t,n){if(e==null)return e;var r=[],i=0;return cv(e,r,"","",function(o){return t.call(n,o,i++)}),r}function W6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ti={current:null},uv={transition:null},$6={ReactCurrentDispatcher:ti,ReactCurrentBatchConfig:uv,ReactCurrentOwner:RS};kt.Children={map:gg,forEach:function(e,t,n){gg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gg(e,function(){t++}),t},toArray:function(e){return gg(e,function(t){return t})||[]},only:function(e){if(!OS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kt.Component=Xd;kt.Fragment=O6;kt.Profiler=N6;kt.PureComponent=LS;kt.StrictMode=I6;kt.Suspense=j6;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$6;kt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=LO({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=RS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)OO.call(t,l)&&!IO.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gm,type:e.type,key:i,ref:o,props:r,_owner:s}};kt.createContext=function(e){return e={$$typeof:B6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:D6,_context:e},e.Consumer=e};kt.createElement=NO;kt.createFactory=function(e){var t=NO.bind(null,e);return t.type=e,t};kt.createRef=function(){return{current:null}};kt.forwardRef=function(e){return{$$typeof:F6,render:e}};kt.isValidElement=OS;kt.lazy=function(e){return{$$typeof:U6,_payload:{_status:-1,_result:e},_init:W6}};kt.memo=function(e,t){return{$$typeof:z6,type:e,compare:t===void 0?null:t}};kt.startTransition=function(e){var t=uv.transition;uv.transition={};try{e()}finally{uv.transition=t}};kt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};kt.useCallback=function(e,t){return ti.current.useCallback(e,t)};kt.useContext=function(e){return ti.current.useContext(e)};kt.useDebugValue=function(){};kt.useDeferredValue=function(e){return ti.current.useDeferredValue(e)};kt.useEffect=function(e,t){return ti.current.useEffect(e,t)};kt.useId=function(){return ti.current.useId()};kt.useImperativeHandle=function(e,t,n){return ti.current.useImperativeHandle(e,t,n)};kt.useInsertionEffect=function(e,t){return ti.current.useInsertionEffect(e,t)};kt.useLayoutEffect=function(e,t){return ti.current.useLayoutEffect(e,t)};kt.useMemo=function(e,t){return ti.current.useMemo(e,t)};kt.useReducer=function(e,t,n){return ti.current.useReducer(e,t,n)};kt.useRef=function(e){return ti.current.useRef(e)};kt.useState=function(e){return ti.current.useState(e)};kt.useSyncExternalStore=function(e,t,n){return ti.current.useSyncExternalStore(e,t,n)};kt.useTransition=function(){return ti.current.useTransition()};kt.version="18.2.0";kO.exports=kt;var R=kO.exports;const _e=Fc(R),Ww=P6({__proto__:null,default:_e},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y6=R,q6=Symbol.for("react.element"),Z6=Symbol.for("react.fragment"),X6=Object.prototype.hasOwnProperty,K6=Y6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J6={key:!0,ref:!0,__self:!0,__source:!0};function DO(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)X6.call(t,r)&&!J6.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:q6,type:e,key:o,ref:s,props:i,_owner:K6.current}}Wy.Fragment=Z6;Wy.jsx=DO;Wy.jsxs=DO;AO.exports=Wy;var v=AO.exports,BO={exports:{}},Ui={},FO={exports:{}},jO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,B){var D=V.length;V.push(B);e:for(;0<D;){var J=D-1>>>1,j=V[J];if(0<i(j,B))V[J]=B,V[D]=j,D=J;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],D=V.pop();if(D!==B){V[0]=D;e:for(var J=0,j=V.length,oe=j>>>1;J<oe;){var q=2*(J+1)-1,te=V[q],ne=q+1,le=V[ne];if(0>i(te,D))ne<j&&0>i(le,te)?(V[J]=le,V[ne]=D,J=ne):(V[J]=te,V[q]=D,J=q);else if(ne<j&&0>i(le,D))V[J]=le,V[ne]=D,J=ne;else break e}}return B}function i(V,B){var D=V.sortIndex-B.sortIndex;return D!==0?D:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=V)r(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(c)}}function _(V){if(y=!1,S(V),!g)if(n(l)!==null)g=!0,Z(T);else{var B=n(c);B!==null&&ee(_,B.startTime-V)}}function T(V,B){g=!1,y&&(y=!1,x(k),k=-1),m=!0;var D=f;try{for(S(B),h=n(l);h!==null&&(!(h.expirationTime>B)||V&&!N());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var j=J(h.expirationTime<=B);B=e.unstable_now(),typeof j=="function"?h.callback=j:h===n(l)&&r(l),S(B)}else r(l);h=n(l)}if(h!==null)var oe=!0;else{var q=n(c);q!==null&&ee(_,q.startTime-B),oe=!1}return oe}finally{h=null,f=D,m=!1}}var A=!1,P=null,k=-1,M=5,I=-1;function N(){return!(e.unstable_now()-I<M)}function U(){if(P!==null){var V=e.unstable_now();I=V;var B=!0;try{B=P(!0,V)}finally{B?Y():(A=!1,P=null)}}else A=!1}var Y;if(typeof w=="function")Y=function(){w(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=U,Y=function(){G.postMessage(null)}}else Y=function(){b(U,0)};function Z(V){P=V,A||(A=!0,Y())}function ee(V,B){k=b(function(){V(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,Z(T))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var D=f;f=B;try{return V()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var D=f;f=V;try{return B()}finally{f=D}},e.unstable_scheduleCallback=function(V,B,D){var J=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?J+D:J):D=J,V){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=D+j,V={id:d++,callback:B,priorityLevel:V,startTime:D,expirationTime:j,sortIndex:-1},D>J?(V.sortIndex=D,t(c,V),n(l)===null&&V===n(c)&&(y?(x(k),k=-1):y=!0,ee(_,D-J))):(V.sortIndex=j,t(l,V),g||m||(g=!0,Z(T))),V},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(V){var B=f;return function(){var D=f;f=B;try{return V.apply(this,arguments)}finally{f=D}}}})(jO);FO.exports=jO;var Q6=FO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO=R,Ni=Q6;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UO=new Set,Uf={};function jc(e,t){ad(e,t),ad(e+"Capture",t)}function ad(e,t){for(Uf[e]=t,e=0;e<t.length;e++)UO.add(t[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$w=Object.prototype.hasOwnProperty,e9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yk={},xk={};function t9(e){return $w.call(xk,e)?!0:$w.call(yk,e)?!1:e9.test(e)?xk[e]=!0:(yk[e]=!0,!1)}function n9(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r9(e,t,n,r){if(t===null||typeof t>"u"||n9(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ni(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xr[e]=new ni(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xr[t]=new ni(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xr[e]=new ni(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xr[e]=new ni(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xr[e]=new ni(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xr[e]=new ni(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xr[e]=new ni(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xr[e]=new ni(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xr[e]=new ni(e,5,!1,e.toLowerCase(),null,!1,!1)});var IS=/[\-:]([a-z])/g;function NS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(IS,NS);xr[t]=new ni(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(IS,NS);xr[t]=new ni(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(IS,NS);xr[t]=new ni(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xr[e]=new ni(e,1,!1,e.toLowerCase(),null,!1,!1)});xr.xlinkHref=new ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xr[e]=new ni(e,1,!1,e.toLowerCase(),null,!0,!0)});function DS(e,t,n,r){var i=xr.hasOwnProperty(t)?xr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r9(t,n,i,r)&&(n=null),r||i===null?t9(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var va=zO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vg=Symbol.for("react.element"),Cu=Symbol.for("react.portal"),Au=Symbol.for("react.fragment"),BS=Symbol.for("react.strict_mode"),Yw=Symbol.for("react.profiler"),HO=Symbol.for("react.provider"),GO=Symbol.for("react.context"),FS=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Zw=Symbol.for("react.suspense_list"),jS=Symbol.for("react.memo"),Oa=Symbol.for("react.lazy"),VO=Symbol.for("react.offscreen"),bk=Symbol.iterator;function Ah(e){return e===null||typeof e!="object"?null:(e=bk&&e[bk]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,d1;function Jh(e){if(d1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);d1=t&&t[1]||""}return`
`+d1+e}var h1=!1;function f1(e,t){if(!e||h1)return"";h1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{h1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jh(e):""}function i9(e){switch(e.tag){case 5:return Jh(e.type);case 16:return Jh("Lazy");case 13:return Jh("Suspense");case 19:return Jh("SuspenseList");case 0:case 2:case 15:return e=f1(e.type,!1),e;case 11:return e=f1(e.type.render,!1),e;case 1:return e=f1(e.type,!0),e;default:return""}}function Xw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Au:return"Fragment";case Cu:return"Portal";case Yw:return"Profiler";case BS:return"StrictMode";case qw:return"Suspense";case Zw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case GO:return(e.displayName||"Context")+".Consumer";case HO:return(e._context.displayName||"Context")+".Provider";case FS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jS:return t=e.displayName||null,t!==null?t:Xw(e.type)||"Memo";case Oa:t=e._payload,e=e._init;try{return Xw(e(t))}catch{}}return null}function o9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xw(t);case 8:return t===BS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s9(e){var t=WO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yg(e){e._valueTracker||(e._valueTracker=s9(e))}function $O(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=WO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kw(e,t){var n=t.checked;return An({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wk(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function YO(e,t){t=t.checked,t!=null&&DS(e,"checked",t,!1)}function Jw(e,t){YO(e,t);var n=vl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qw(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qw(e,t.type,vl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _k(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qw(e,t,n){(t!=="number"||zv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qh=Array.isArray;function Wu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function e_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return An({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ek(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(xe(92));if(Qh(n)){if(1<n.length)throw Error(xe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vl(n)}}function qO(e,t){var n=vl(t.value),r=vl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ZO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ZO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xg,XO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xg=xg||document.createElement("div"),xg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var df={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a9=["Webkit","ms","Moz","O"];Object.keys(df).forEach(function(e){a9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),df[t]=df[e]})});function KO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||df.hasOwnProperty(e)&&df[e]?(""+t).trim():t+"px"}function JO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var l9=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n_(e,t){if(t){if(l9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function r_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i_=null;function zS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var o_=null,$u=null,Yu=null;function Tk(e){if(e=xm(e)){if(typeof o_!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=Xy(t),o_(e.stateNode,e.type,t))}}function QO(e){$u?Yu?Yu.push(e):Yu=[e]:$u=e}function eI(){if($u){var e=$u,t=Yu;if(Yu=$u=null,Tk(e),t)for(e=0;e<t.length;e++)Tk(t[e])}}function tI(e,t){return e(t)}function nI(){}var p1=!1;function rI(e,t,n){if(p1)return e(t,n);p1=!0;try{return tI(e,t,n)}finally{p1=!1,($u!==null||Yu!==null)&&(nI(),eI())}}function Gf(e,t){var n=e.stateNode;if(n===null)return null;var r=Xy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xe(231,t,typeof n));return n}var s_=!1;if(ia)try{var kh={};Object.defineProperty(kh,"passive",{get:function(){s_=!0}}),window.addEventListener("test",kh,kh),window.removeEventListener("test",kh,kh)}catch{s_=!1}function c9(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var hf=!1,Uv=null,Hv=!1,a_=null,u9={onError:function(e){hf=!0,Uv=e}};function d9(e,t,n,r,i,o,s,a,l){hf=!1,Uv=null,c9.apply(u9,arguments)}function h9(e,t,n,r,i,o,s,a,l){if(d9.apply(this,arguments),hf){if(hf){var c=Uv;hf=!1,Uv=null}else throw Error(xe(198));Hv||(Hv=!0,a_=c)}}function zc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ck(e){if(zc(e)!==e)throw Error(xe(188))}function f9(e){var t=e.alternate;if(!t){if(t=zc(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ck(i),e;if(o===r)return Ck(i),t;o=o.sibling}throw Error(xe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?e:t}function oI(e){return e=f9(e),e!==null?sI(e):null}function sI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sI(e);if(t!==null)return t;e=e.sibling}return null}var aI=Ni.unstable_scheduleCallback,Ak=Ni.unstable_cancelCallback,p9=Ni.unstable_shouldYield,m9=Ni.unstable_requestPaint,Fn=Ni.unstable_now,g9=Ni.unstable_getCurrentPriorityLevel,US=Ni.unstable_ImmediatePriority,lI=Ni.unstable_UserBlockingPriority,Gv=Ni.unstable_NormalPriority,v9=Ni.unstable_LowPriority,cI=Ni.unstable_IdlePriority,$y=null,hs=null;function y9(e){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot($y,e,void 0,(e.current.flags&128)===128)}catch{}}var Uo=Math.clz32?Math.clz32:w9,x9=Math.log,b9=Math.LN2;function w9(e){return e>>>=0,e===0?32:31-(x9(e)/b9|0)|0}var bg=64,wg=4194304;function ef(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ef(a):(o&=s,o!==0&&(r=ef(o)))}else s=n&~i,s!==0?r=ef(s):o!==0&&(r=ef(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Uo(t),i=1<<n,r|=e[n],t&=~i;return r}function _9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E9(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Uo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=_9(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function l_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uI(){var e=bg;return bg<<=1,!(bg&4194240)&&(bg=64),e}function m1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Uo(t),e[t]=n}function S9(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Uo(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function HS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Uo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tn=0;function dI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hI,GS,fI,pI,mI,c_=!1,_g=[],tl=null,nl=null,rl=null,Vf=new Map,Wf=new Map,ja=[],T9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kk(e,t){switch(e){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":rl=null;break;case"pointerover":case"pointerout":Vf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(t.pointerId)}}function Mh(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=xm(t),t!==null&&GS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function C9(e,t,n,r,i){switch(t){case"focusin":return tl=Mh(tl,e,t,n,r,i),!0;case"dragenter":return nl=Mh(nl,e,t,n,r,i),!0;case"mouseover":return rl=Mh(rl,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vf.set(o,Mh(Vf.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Wf.set(o,Mh(Wf.get(o)||null,e,t,n,r,i)),!0}return!1}function gI(e){var t=rc(e.target);if(t!==null){var n=zc(t);if(n!==null){if(t=n.tag,t===13){if(t=iI(n),t!==null){e.blockedOn=t,mI(e.priority,function(){fI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=u_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);i_=r,n.target.dispatchEvent(r),i_=null}else return t=xm(n),t!==null&&GS(t),e.blockedOn=n,!1;t.shift()}return!0}function Mk(e,t,n){dv(e)&&n.delete(t)}function A9(){c_=!1,tl!==null&&dv(tl)&&(tl=null),nl!==null&&dv(nl)&&(nl=null),rl!==null&&dv(rl)&&(rl=null),Vf.forEach(Mk),Wf.forEach(Mk)}function Lh(e,t){e.blockedOn===t&&(e.blockedOn=null,c_||(c_=!0,Ni.unstable_scheduleCallback(Ni.unstable_NormalPriority,A9)))}function $f(e){function t(i){return Lh(i,e)}if(0<_g.length){Lh(_g[0],e);for(var n=1;n<_g.length;n++){var r=_g[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tl!==null&&Lh(tl,e),nl!==null&&Lh(nl,e),rl!==null&&Lh(rl,e),Vf.forEach(t),Wf.forEach(t),n=0;n<ja.length;n++)r=ja[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ja.length&&(n=ja[0],n.blockedOn===null);)gI(n),n.blockedOn===null&&ja.shift()}var qu=va.ReactCurrentBatchConfig,Wv=!0;function k9(e,t,n,r){var i=tn,o=qu.transition;qu.transition=null;try{tn=1,VS(e,t,n,r)}finally{tn=i,qu.transition=o}}function M9(e,t,n,r){var i=tn,o=qu.transition;qu.transition=null;try{tn=4,VS(e,t,n,r)}finally{tn=i,qu.transition=o}}function VS(e,t,n,r){if(Wv){var i=u_(e,t,n,r);if(i===null)T1(e,t,r,$v,n),kk(e,r);else if(C9(i,e,t,n,r))r.stopPropagation();else if(kk(e,r),t&4&&-1<T9.indexOf(e)){for(;i!==null;){var o=xm(i);if(o!==null&&hI(o),o=u_(e,t,n,r),o===null&&T1(e,t,r,$v,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else T1(e,t,r,null,n)}}var $v=null;function u_(e,t,n,r){if($v=null,e=zS(r),e=rc(e),e!==null)if(t=zc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $v=e,null}function vI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g9()){case US:return 1;case lI:return 4;case Gv:case v9:return 16;case cI:return 536870912;default:return 16}default:return 16}}var Ga=null,WS=null,hv=null;function yI(){if(hv)return hv;var e,t=WS,n=t.length,r,i="value"in Ga?Ga.value:Ga.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return hv=i.slice(e,1<r?1-r:void 0)}function fv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eg(){return!0}function Lk(){return!1}function Hi(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Eg:Lk,this.isPropagationStopped=Lk,this}return An(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eg)},persist:function(){},isPersistent:Eg}),t}var Kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$S=Hi(Kd),ym=An({},Kd,{view:0,detail:0}),L9=Hi(ym),g1,v1,Ph,Yy=An({},ym,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ph&&(Ph&&e.type==="mousemove"?(g1=e.screenX-Ph.screenX,v1=e.screenY-Ph.screenY):v1=g1=0,Ph=e),g1)},movementY:function(e){return"movementY"in e?e.movementY:v1}}),Pk=Hi(Yy),P9=An({},Yy,{dataTransfer:0}),R9=Hi(P9),O9=An({},ym,{relatedTarget:0}),y1=Hi(O9),I9=An({},Kd,{animationName:0,elapsedTime:0,pseudoElement:0}),N9=Hi(I9),D9=An({},Kd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B9=Hi(D9),F9=An({},Kd,{data:0}),Rk=Hi(F9),j9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=U9[e])?!!t[e]:!1}function YS(){return H9}var G9=An({},ym,{key:function(e){if(e.key){var t=j9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YS,charCode:function(e){return e.type==="keypress"?fv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V9=Hi(G9),W9=An({},Yy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ok=Hi(W9),$9=An({},ym,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YS}),Y9=Hi($9),q9=An({},Kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z9=Hi(q9),X9=An({},Yy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K9=Hi(X9),J9=[9,13,27,32],qS=ia&&"CompositionEvent"in window,ff=null;ia&&"documentMode"in document&&(ff=document.documentMode);var Q9=ia&&"TextEvent"in window&&!ff,xI=ia&&(!qS||ff&&8<ff&&11>=ff),Ik=String.fromCharCode(32),Nk=!1;function bI(e,t){switch(e){case"keyup":return J9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ku=!1;function ej(e,t){switch(e){case"compositionend":return wI(t);case"keypress":return t.which!==32?null:(Nk=!0,Ik);case"textInput":return e=t.data,e===Ik&&Nk?null:e;default:return null}}function tj(e,t){if(ku)return e==="compositionend"||!qS&&bI(e,t)?(e=yI(),hv=WS=Ga=null,ku=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xI&&t.locale!=="ko"?null:t.data;default:return null}}var nj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nj[e.type]:t==="textarea"}function _I(e,t,n,r){QO(r),t=Yv(t,"onChange"),0<t.length&&(n=new $S("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pf=null,Yf=null;function rj(e){OI(e,0)}function qy(e){var t=Pu(e);if($O(t))return e}function ij(e,t){if(e==="change")return t}var EI=!1;if(ia){var x1;if(ia){var b1="oninput"in document;if(!b1){var Bk=document.createElement("div");Bk.setAttribute("oninput","return;"),b1=typeof Bk.oninput=="function"}x1=b1}else x1=!1;EI=x1&&(!document.documentMode||9<document.documentMode)}function Fk(){pf&&(pf.detachEvent("onpropertychange",SI),Yf=pf=null)}function SI(e){if(e.propertyName==="value"&&qy(Yf)){var t=[];_I(t,Yf,e,zS(e)),rI(rj,t)}}function oj(e,t,n){e==="focusin"?(Fk(),pf=t,Yf=n,pf.attachEvent("onpropertychange",SI)):e==="focusout"&&Fk()}function sj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qy(Yf)}function aj(e,t){if(e==="click")return qy(t)}function lj(e,t){if(e==="input"||e==="change")return qy(t)}function cj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vo=typeof Object.is=="function"?Object.is:cj;function qf(e,t){if(Vo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$w.call(t,i)||!Vo(e[i],t[i]))return!1}return!0}function jk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zk(e,t){var n=jk(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jk(n)}}function TI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?TI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CI(){for(var e=window,t=zv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zv(e.document)}return t}function ZS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uj(e){var t=CI(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&TI(n.ownerDocument.documentElement,n)){if(r!==null&&ZS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=zk(n,o);var s=zk(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dj=ia&&"documentMode"in document&&11>=document.documentMode,Mu=null,d_=null,mf=null,h_=!1;function Uk(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;h_||Mu==null||Mu!==zv(r)||(r=Mu,"selectionStart"in r&&ZS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mf&&qf(mf,r)||(mf=r,r=Yv(d_,"onSelect"),0<r.length&&(t=new $S("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mu)))}function Sg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lu={animationend:Sg("Animation","AnimationEnd"),animationiteration:Sg("Animation","AnimationIteration"),animationstart:Sg("Animation","AnimationStart"),transitionend:Sg("Transition","TransitionEnd")},w1={},AI={};ia&&(AI=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function Zy(e){if(w1[e])return w1[e];if(!Lu[e])return e;var t=Lu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in AI)return w1[e]=t[n];return e}var kI=Zy("animationend"),MI=Zy("animationiteration"),LI=Zy("animationstart"),PI=Zy("transitionend"),RI=new Map,Hk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ml(e,t){RI.set(e,t),jc(t,[e])}for(var _1=0;_1<Hk.length;_1++){var E1=Hk[_1],hj=E1.toLowerCase(),fj=E1[0].toUpperCase()+E1.slice(1);Ml(hj,"on"+fj)}Ml(kI,"onAnimationEnd");Ml(MI,"onAnimationIteration");Ml(LI,"onAnimationStart");Ml("dblclick","onDoubleClick");Ml("focusin","onFocus");Ml("focusout","onBlur");Ml(PI,"onTransitionEnd");ad("onMouseEnter",["mouseout","mouseover"]);ad("onMouseLeave",["mouseout","mouseover"]);ad("onPointerEnter",["pointerout","pointerover"]);ad("onPointerLeave",["pointerout","pointerover"]);jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pj=new Set("cancel close invalid load scroll toggle".split(" ").concat(tf));function Gk(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,h9(r,t,void 0,e),e.currentTarget=null}function OI(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Gk(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Gk(i,a,c),o=l}}}if(Hv)throw e=a_,Hv=!1,a_=null,e}function hn(e,t){var n=t[v_];n===void 0&&(n=t[v_]=new Set);var r=e+"__bubble";n.has(r)||(II(t,e,2,!1),n.add(r))}function S1(e,t,n){var r=0;t&&(r|=4),II(n,e,r,t)}var Tg="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[Tg]){e[Tg]=!0,UO.forEach(function(n){n!=="selectionchange"&&(pj.has(n)||S1(n,!1,e),S1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tg]||(t[Tg]=!0,S1("selectionchange",!1,t))}}function II(e,t,n,r){switch(vI(t)){case 1:var i=k9;break;case 4:i=M9;break;default:i=VS}n=i.bind(null,t,n,e),i=void 0,!s_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function T1(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=rc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}rI(function(){var c=o,d=zS(n),h=[];e:{var f=RI.get(e);if(f!==void 0){var m=$S,g=e;switch(e){case"keypress":if(fv(n)===0)break e;case"keydown":case"keyup":m=V9;break;case"focusin":g="focus",m=y1;break;case"focusout":g="blur",m=y1;break;case"beforeblur":case"afterblur":m=y1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Pk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=R9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Y9;break;case kI:case MI:case LI:m=N9;break;case PI:m=Z9;break;case"scroll":m=L9;break;case"wheel":m=K9;break;case"copy":case"cut":case"paste":m=B9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ok}var y=(t&4)!==0,b=!y&&e==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var w=c,S;w!==null;){S=w;var _=S.stateNode;if(S.tag===5&&_!==null&&(S=_,x!==null&&(_=Gf(w,x),_!=null&&y.push(Xf(w,_,S)))),b)break;w=w.return}0<y.length&&(f=new m(f,g,null,n,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==i_&&(g=n.relatedTarget||n.fromElement)&&(rc(g)||g[oa]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?rc(g):null,g!==null&&(b=zc(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=Pk,_="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ok,_="onPointerLeave",x="onPointerEnter",w="pointer"),b=m==null?f:Pu(m),S=g==null?f:Pu(g),f=new y(_,w+"leave",m,n,d),f.target=b,f.relatedTarget=S,_=null,rc(d)===c&&(y=new y(x,w+"enter",g,n,d),y.target=S,y.relatedTarget=b,_=y),b=_,m&&g)t:{for(y=m,x=g,w=0,S=y;S;S=nu(S))w++;for(S=0,_=x;_;_=nu(_))S++;for(;0<w-S;)y=nu(y),w--;for(;0<S-w;)x=nu(x),S--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=nu(y),x=nu(x)}y=null}else y=null;m!==null&&Vk(h,f,m,y,!1),g!==null&&b!==null&&Vk(h,b,g,y,!0)}}e:{if(f=c?Pu(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=ij;else if(Dk(f))if(EI)T=lj;else{T=sj;var A=oj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=aj);if(T&&(T=T(e,c))){_I(h,T,n,d);break e}A&&A(e,f,c),e==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Qw(f,"number",f.value)}switch(A=c?Pu(c):window,e){case"focusin":(Dk(A)||A.contentEditable==="true")&&(Mu=A,d_=c,mf=null);break;case"focusout":mf=d_=Mu=null;break;case"mousedown":h_=!0;break;case"contextmenu":case"mouseup":case"dragend":h_=!1,Uk(h,n,d);break;case"selectionchange":if(dj)break;case"keydown":case"keyup":Uk(h,n,d)}var P;if(qS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ku?bI(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(xI&&n.locale!=="ko"&&(ku||k!=="onCompositionStart"?k==="onCompositionEnd"&&ku&&(P=yI()):(Ga=d,WS="value"in Ga?Ga.value:Ga.textContent,ku=!0)),A=Yv(c,k),0<A.length&&(k=new Rk(k,e,null,n,d),h.push({event:k,listeners:A}),P?k.data=P:(P=wI(n),P!==null&&(k.data=P)))),(P=Q9?ej(e,n):tj(e,n))&&(c=Yv(c,"onBeforeInput"),0<c.length&&(d=new Rk("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=P))}OI(h,t)})}function Xf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Gf(e,n),o!=null&&r.unshift(Xf(e,o,i)),o=Gf(e,t),o!=null&&r.push(Xf(e,o,i))),e=e.return}return r}function nu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vk(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Gf(n,o),l!=null&&s.unshift(Xf(n,l,a))):i||(l=Gf(n,o),l!=null&&s.push(Xf(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var mj=/\r\n?/g,gj=/\u0000|\uFFFD/g;function Wk(e){return(typeof e=="string"?e:""+e).replace(mj,`
`).replace(gj,"")}function Cg(e,t,n){if(t=Wk(t),Wk(e)!==t&&n)throw Error(xe(425))}function qv(){}var f_=null,p_=null;function m_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var g_=typeof setTimeout=="function"?setTimeout:void 0,vj=typeof clearTimeout=="function"?clearTimeout:void 0,$k=typeof Promise=="function"?Promise:void 0,yj=typeof queueMicrotask=="function"?queueMicrotask:typeof $k<"u"?function(e){return $k.resolve(null).then(e).catch(xj)}:g_;function xj(e){setTimeout(function(){throw e})}function C1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),$f(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$f(t)}function il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jd=Math.random().toString(36).slice(2),ss="__reactFiber$"+Jd,Kf="__reactProps$"+Jd,oa="__reactContainer$"+Jd,v_="__reactEvents$"+Jd,bj="__reactListeners$"+Jd,wj="__reactHandles$"+Jd;function rc(e){var t=e[ss];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oa]||n[ss]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yk(e);e!==null;){if(n=e[ss])return n;e=Yk(e)}return t}e=n,n=e.parentNode}return null}function xm(e){return e=e[ss]||e[oa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function Xy(e){return e[Kf]||null}var y_=[],Ru=-1;function Ll(e){return{current:e}}function mn(e){0>Ru||(e.current=y_[Ru],y_[Ru]=null,Ru--)}function dn(e,t){Ru++,y_[Ru]=e.current,e.current=t}var yl={},Or=Ll(yl),pi=Ll(!1),xc=yl;function ld(e,t){var n=e.type.contextTypes;if(!n)return yl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mi(e){return e=e.childContextTypes,e!=null}function Zv(){mn(pi),mn(Or)}function qk(e,t,n){if(Or.current!==yl)throw Error(xe(168));dn(Or,t),dn(pi,n)}function NI(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(xe(108,o9(e)||"Unknown",i));return An({},n,r)}function Xv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yl,xc=Or.current,dn(Or,e),dn(pi,pi.current),!0}function Zk(e,t,n){var r=e.stateNode;if(!r)throw Error(xe(169));n?(e=NI(e,t,xc),r.__reactInternalMemoizedMergedChildContext=e,mn(pi),mn(Or),dn(Or,e)):mn(pi),dn(pi,n)}var $s=null,Ky=!1,A1=!1;function DI(e){$s===null?$s=[e]:$s.push(e)}function _j(e){Ky=!0,DI(e)}function Pl(){if(!A1&&$s!==null){A1=!0;var e=0,t=tn;try{var n=$s;for(tn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$s=null,Ky=!1}catch(i){throw $s!==null&&($s=$s.slice(e+1)),aI(US,Pl),i}finally{tn=t,A1=!1}}return null}var Ou=[],Iu=0,Kv=null,Jv=0,to=[],no=0,bc=null,Xs=1,Ks="";function $l(e,t){Ou[Iu++]=Jv,Ou[Iu++]=Kv,Kv=e,Jv=t}function BI(e,t,n){to[no++]=Xs,to[no++]=Ks,to[no++]=bc,bc=e;var r=Xs;e=Ks;var i=32-Uo(r)-1;r&=~(1<<i),n+=1;var o=32-Uo(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xs=1<<32-Uo(t)+i|n<<i|r,Ks=o+e}else Xs=1<<o|n<<i|r,Ks=e}function XS(e){e.return!==null&&($l(e,1),BI(e,1,0))}function KS(e){for(;e===Kv;)Kv=Ou[--Iu],Ou[Iu]=null,Jv=Ou[--Iu],Ou[Iu]=null;for(;e===bc;)bc=to[--no],to[no]=null,Ks=to[--no],to[no]=null,Xs=to[--no],to[no]=null}var Li=null,ki=null,bn=!1,Io=null;function FI(e,t){var n=so(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xk(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Li=e,ki=il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Li=e,ki=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bc!==null?{id:Xs,overflow:Ks}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=so(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Li=e,ki=null,!0):!1;default:return!1}}function x_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function b_(e){if(bn){var t=ki;if(t){var n=t;if(!Xk(e,t)){if(x_(e))throw Error(xe(418));t=il(n.nextSibling);var r=Li;t&&Xk(e,t)?FI(r,n):(e.flags=e.flags&-4097|2,bn=!1,Li=e)}}else{if(x_(e))throw Error(xe(418));e.flags=e.flags&-4097|2,bn=!1,Li=e}}}function Kk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Li=e}function Ag(e){if(e!==Li)return!1;if(!bn)return Kk(e),bn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!m_(e.type,e.memoizedProps)),t&&(t=ki)){if(x_(e))throw jI(),Error(xe(418));for(;t;)FI(e,t),t=il(t.nextSibling)}if(Kk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ki=il(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ki=null}}else ki=Li?il(e.stateNode.nextSibling):null;return!0}function jI(){for(var e=ki;e;)e=il(e.nextSibling)}function cd(){ki=Li=null,bn=!1}function JS(e){Io===null?Io=[e]:Io.push(e)}var Ej=va.ReactCurrentBatchConfig;function Ro(e,t){if(e&&e.defaultProps){t=An({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Qv=Ll(null),e0=null,Nu=null,QS=null;function e2(){QS=Nu=e0=null}function t2(e){var t=Qv.current;mn(Qv),e._currentValue=t}function w_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zu(e,t){e0=e,QS=Nu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(di=!0),e.firstContext=null)}function po(e){var t=e._currentValue;if(QS!==e)if(e={context:e,memoizedValue:t,next:null},Nu===null){if(e0===null)throw Error(xe(308));Nu=e,e0.dependencies={lanes:0,firstContext:e}}else Nu=Nu.next=e;return t}var ic=null;function n2(e){ic===null?ic=[e]:ic.push(e)}function zI(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,n2(t)):(n.next=i.next,i.next=n),t.interleaved=n,sa(e,r)}function sa(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ia=!1;function r2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ol(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ut&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,sa(e,n)}return i=r.interleaved,i===null?(t.next=t,n2(r)):(t.next=i.next,i.next=t),r.interleaved=t,sa(e,n)}function pv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,HS(e,n)}}function Jk(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function t0(e,t,n,r){var i=e.updateQueue;Ia=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,d=c=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,y=a;switch(f=t,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=An({},h,f);break e;case 2:Ia=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);_c|=s,e.lanes=s,e.memoizedState=h}}function Qk(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xe(191,i));i.call(r)}}}var HI=new zO.Component().refs;function __(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:An({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jy={isMounted:function(e){return(e=e._reactInternals)?zc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kr(),i=al(e),o=ta(r,i);o.payload=t,n!=null&&(o.callback=n),t=ol(e,o,i),t!==null&&(Ho(t,e,i,r),pv(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kr(),i=al(e),o=ta(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ol(e,o,i),t!==null&&(Ho(t,e,i,r),pv(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kr(),r=al(e),i=ta(n,r);i.tag=2,t!=null&&(i.callback=t),t=ol(e,i,r),t!==null&&(Ho(t,e,r,n),pv(t,e,r))}};function eM(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!qf(n,r)||!qf(i,o):!0}function GI(e,t,n){var r=!1,i=yl,o=t.contextType;return typeof o=="object"&&o!==null?o=po(o):(i=mi(t)?xc:Or.current,r=t.contextTypes,o=(r=r!=null)?ld(e,i):yl),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jy,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function tM(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jy.enqueueReplaceState(t,t.state,null)}function E_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=HI,r2(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=po(o):(o=mi(t)?xc:Or.current,i.context=ld(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(__(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Jy.enqueueReplaceState(i,i.state,null),t0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Rh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===HI&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,e))}return e}function kg(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nM(e){var t=e._init;return t(e._payload)}function VI(e){function t(x,w){if(e){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=ll(x,w),x.index=0,x.sibling=null,x}function o(x,w,S){return x.index=S,e?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,w,S,_){return w===null||w.tag!==6?(w=I1(S,x.mode,_),w.return=x,w):(w=i(w,S),w.return=x,w)}function l(x,w,S,_){var T=S.type;return T===Au?d(x,w,S.props.children,_,S.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Oa&&nM(T)===w.type)?(_=i(w,S.props),_.ref=Rh(x,w,S),_.return=x,_):(_=bv(S.type,S.key,S.props,null,x.mode,_),_.ref=Rh(x,w,S),_.return=x,_)}function c(x,w,S,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=N1(S,x.mode,_),w.return=x,w):(w=i(w,S.children||[]),w.return=x,w)}function d(x,w,S,_,T){return w===null||w.tag!==7?(w=hc(S,x.mode,_,T),w.return=x,w):(w=i(w,S),w.return=x,w)}function h(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=I1(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vg:return S=bv(w.type,w.key,w.props,null,x.mode,S),S.ref=Rh(x,null,w),S.return=x,S;case Cu:return w=N1(w,x.mode,S),w.return=x,w;case Oa:var _=w._init;return h(x,_(w._payload),S)}if(Qh(w)||Ah(w))return w=hc(w,x.mode,S,null),w.return=x,w;kg(x,w)}return null}function f(x,w,S,_){var T=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(x,w,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vg:return S.key===T?l(x,w,S,_):null;case Cu:return S.key===T?c(x,w,S,_):null;case Oa:return T=S._init,f(x,w,T(S._payload),_)}if(Qh(S)||Ah(S))return T!==null?null:d(x,w,S,_,null);kg(x,S)}return null}function m(x,w,S,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(S)||null,a(w,x,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vg:return x=x.get(_.key===null?S:_.key)||null,l(w,x,_,T);case Cu:return x=x.get(_.key===null?S:_.key)||null,c(w,x,_,T);case Oa:var A=_._init;return m(x,w,S,A(_._payload),T)}if(Qh(_)||Ah(_))return x=x.get(S)||null,d(w,x,_,T,null);kg(w,_)}return null}function g(x,w,S,_){for(var T=null,A=null,P=w,k=w=0,M=null;P!==null&&k<S.length;k++){P.index>k?(M=P,P=null):M=P.sibling;var I=f(x,P,S[k],_);if(I===null){P===null&&(P=M);break}e&&P&&I.alternate===null&&t(x,P),w=o(I,w,k),A===null?T=I:A.sibling=I,A=I,P=M}if(k===S.length)return n(x,P),bn&&$l(x,k),T;if(P===null){for(;k<S.length;k++)P=h(x,S[k],_),P!==null&&(w=o(P,w,k),A===null?T=P:A.sibling=P,A=P);return bn&&$l(x,k),T}for(P=r(x,P);k<S.length;k++)M=m(P,x,k,S[k],_),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?k:M.key),w=o(M,w,k),A===null?T=M:A.sibling=M,A=M);return e&&P.forEach(function(N){return t(x,N)}),bn&&$l(x,k),T}function y(x,w,S,_){var T=Ah(S);if(typeof T!="function")throw Error(xe(150));if(S=T.call(S),S==null)throw Error(xe(151));for(var A=T=null,P=w,k=w=0,M=null,I=S.next();P!==null&&!I.done;k++,I=S.next()){P.index>k?(M=P,P=null):M=P.sibling;var N=f(x,P,I.value,_);if(N===null){P===null&&(P=M);break}e&&P&&N.alternate===null&&t(x,P),w=o(N,w,k),A===null?T=N:A.sibling=N,A=N,P=M}if(I.done)return n(x,P),bn&&$l(x,k),T;if(P===null){for(;!I.done;k++,I=S.next())I=h(x,I.value,_),I!==null&&(w=o(I,w,k),A===null?T=I:A.sibling=I,A=I);return bn&&$l(x,k),T}for(P=r(x,P);!I.done;k++,I=S.next())I=m(P,x,k,I.value,_),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?k:I.key),w=o(I,w,k),A===null?T=I:A.sibling=I,A=I);return e&&P.forEach(function(U){return t(x,U)}),bn&&$l(x,k),T}function b(x,w,S,_){if(typeof S=="object"&&S!==null&&S.type===Au&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case vg:e:{for(var T=S.key,A=w;A!==null;){if(A.key===T){if(T=S.type,T===Au){if(A.tag===7){n(x,A.sibling),w=i(A,S.props.children),w.return=x,x=w;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Oa&&nM(T)===A.type){n(x,A.sibling),w=i(A,S.props),w.ref=Rh(x,A,S),w.return=x,x=w;break e}n(x,A);break}else t(x,A);A=A.sibling}S.type===Au?(w=hc(S.props.children,x.mode,_,S.key),w.return=x,x=w):(_=bv(S.type,S.key,S.props,null,x.mode,_),_.ref=Rh(x,w,S),_.return=x,x=_)}return s(x);case Cu:e:{for(A=S.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(x,w.sibling),w=i(w,S.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=N1(S,x.mode,_),w.return=x,x=w}return s(x);case Oa:return A=S._init,b(x,w,A(S._payload),_)}if(Qh(S))return g(x,w,S,_);if(Ah(S))return y(x,w,S,_);kg(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,S),w.return=x,x=w):(n(x,w),w=I1(S,x.mode,_),w.return=x,x=w),s(x)):n(x,w)}return b}var ud=VI(!0),WI=VI(!1),bm={},fs=Ll(bm),Jf=Ll(bm),Qf=Ll(bm);function oc(e){if(e===bm)throw Error(xe(174));return e}function i2(e,t){switch(dn(Qf,t),dn(Jf,e),dn(fs,bm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:t_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=t_(t,e)}mn(fs),dn(fs,t)}function dd(){mn(fs),mn(Jf),mn(Qf)}function $I(e){oc(Qf.current);var t=oc(fs.current),n=t_(t,e.type);t!==n&&(dn(Jf,e),dn(fs,n))}function o2(e){Jf.current===e&&(mn(fs),mn(Jf))}var Tn=Ll(0);function n0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var k1=[];function s2(){for(var e=0;e<k1.length;e++)k1[e]._workInProgressVersionPrimary=null;k1.length=0}var mv=va.ReactCurrentDispatcher,M1=va.ReactCurrentBatchConfig,wc=0,Cn=null,Zn=null,rr=null,r0=!1,gf=!1,ep=0,Sj=0;function Sr(){throw Error(xe(321))}function a2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vo(e[n],t[n]))return!1;return!0}function l2(e,t,n,r,i,o){if(wc=o,Cn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mv.current=e===null||e.memoizedState===null?kj:Mj,e=n(r,i),gf){o=0;do{if(gf=!1,ep=0,25<=o)throw Error(xe(301));o+=1,rr=Zn=null,t.updateQueue=null,mv.current=Lj,e=n(r,i)}while(gf)}if(mv.current=i0,t=Zn!==null&&Zn.next!==null,wc=0,rr=Zn=Cn=null,r0=!1,t)throw Error(xe(300));return e}function c2(){var e=ep!==0;return ep=0,e}function ns(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?Cn.memoizedState=rr=e:rr=rr.next=e,rr}function mo(){if(Zn===null){var e=Cn.alternate;e=e!==null?e.memoizedState:null}else e=Zn.next;var t=rr===null?Cn.memoizedState:rr.next;if(t!==null)rr=t,Zn=e;else{if(e===null)throw Error(xe(310));Zn=e,e={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},rr===null?Cn.memoizedState=rr=e:rr=rr.next=e}return rr}function tp(e,t){return typeof t=="function"?t(e):t}function L1(e){var t=mo(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=Zn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((wc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Cn.lanes|=d,_c|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Vo(r,t.memoizedState)||(di=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Cn.lanes|=o,_c|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function P1(e){var t=mo(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Vo(o,t.memoizedState)||(di=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function YI(){}function qI(e,t){var n=Cn,r=mo(),i=t(),o=!Vo(r.memoizedState,i);if(o&&(r.memoizedState=i,di=!0),r=r.queue,u2(KI.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||rr!==null&&rr.memoizedState.tag&1){if(n.flags|=2048,np(9,XI.bind(null,n,r,i,t),void 0,null),sr===null)throw Error(xe(349));wc&30||ZI(n,t,i)}return i}function ZI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function XI(e,t,n,r){t.value=n,t.getSnapshot=r,JI(t)&&QI(e)}function KI(e,t,n){return n(function(){JI(t)&&QI(e)})}function JI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vo(e,n)}catch{return!0}}function QI(e){var t=sa(e,1);t!==null&&Ho(t,e,1,-1)}function rM(e){var t=ns();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:e},t.queue=e,e=e.dispatch=Aj.bind(null,Cn,e),[t.memoizedState,e]}function np(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function eN(){return mo().memoizedState}function gv(e,t,n,r){var i=ns();Cn.flags|=e,i.memoizedState=np(1|t,n,void 0,r===void 0?null:r)}function Qy(e,t,n,r){var i=mo();r=r===void 0?null:r;var o=void 0;if(Zn!==null){var s=Zn.memoizedState;if(o=s.destroy,r!==null&&a2(r,s.deps)){i.memoizedState=np(t,n,o,r);return}}Cn.flags|=e,i.memoizedState=np(1|t,n,o,r)}function iM(e,t){return gv(8390656,8,e,t)}function u2(e,t){return Qy(2048,8,e,t)}function tN(e,t){return Qy(4,2,e,t)}function nN(e,t){return Qy(4,4,e,t)}function rN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iN(e,t,n){return n=n!=null?n.concat([e]):null,Qy(4,4,rN.bind(null,t,e),n)}function d2(){}function oN(e,t){var n=mo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&a2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sN(e,t){var n=mo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&a2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function aN(e,t,n){return wc&21?(Vo(n,t)||(n=uI(),Cn.lanes|=n,_c|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,di=!0),e.memoizedState=n)}function Tj(e,t){var n=tn;tn=n!==0&&4>n?n:4,e(!0);var r=M1.transition;M1.transition={};try{e(!1),t()}finally{tn=n,M1.transition=r}}function lN(){return mo().memoizedState}function Cj(e,t,n){var r=al(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cN(e))uN(t,n);else if(n=zI(e,t,n,r),n!==null){var i=Kr();Ho(n,e,r,i),dN(n,t,r)}}function Aj(e,t,n){var r=al(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cN(e))uN(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Vo(a,s)){var l=t.interleaved;l===null?(i.next=i,n2(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=zI(e,t,i,r),n!==null&&(i=Kr(),Ho(n,e,r,i),dN(n,t,r))}}function cN(e){var t=e.alternate;return e===Cn||t!==null&&t===Cn}function uN(e,t){gf=r0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dN(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,HS(e,n)}}var i0={readContext:po,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},kj={readContext:po,useCallback:function(e,t){return ns().memoizedState=[e,t===void 0?null:t],e},useContext:po,useEffect:iM,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gv(4194308,4,rN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gv(4194308,4,e,t)},useInsertionEffect:function(e,t){return gv(4,2,e,t)},useMemo:function(e,t){var n=ns();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ns();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cj.bind(null,Cn,e),[r.memoizedState,e]},useRef:function(e){var t=ns();return e={current:e},t.memoizedState=e},useState:rM,useDebugValue:d2,useDeferredValue:function(e){return ns().memoizedState=e},useTransition:function(){var e=rM(!1),t=e[0];return e=Tj.bind(null,e[1]),ns().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Cn,i=ns();if(bn){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=t(),sr===null)throw Error(xe(349));wc&30||ZI(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,iM(KI.bind(null,r,o,e),[e]),r.flags|=2048,np(9,XI.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ns(),t=sr.identifierPrefix;if(bn){var n=Ks,r=Xs;n=(r&~(1<<32-Uo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ep++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mj={readContext:po,useCallback:oN,useContext:po,useEffect:u2,useImperativeHandle:iN,useInsertionEffect:tN,useLayoutEffect:nN,useMemo:sN,useReducer:L1,useRef:eN,useState:function(){return L1(tp)},useDebugValue:d2,useDeferredValue:function(e){var t=mo();return aN(t,Zn.memoizedState,e)},useTransition:function(){var e=L1(tp)[0],t=mo().memoizedState;return[e,t]},useMutableSource:YI,useSyncExternalStore:qI,useId:lN,unstable_isNewReconciler:!1},Lj={readContext:po,useCallback:oN,useContext:po,useEffect:u2,useImperativeHandle:iN,useInsertionEffect:tN,useLayoutEffect:nN,useMemo:sN,useReducer:P1,useRef:eN,useState:function(){return P1(tp)},useDebugValue:d2,useDeferredValue:function(e){var t=mo();return Zn===null?t.memoizedState=e:aN(t,Zn.memoizedState,e)},useTransition:function(){var e=P1(tp)[0],t=mo().memoizedState;return[e,t]},useMutableSource:YI,useSyncExternalStore:qI,useId:lN,unstable_isNewReconciler:!1};function hd(e,t){try{var n="",r=t;do n+=i9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function R1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function S_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pj=typeof WeakMap=="function"?WeakMap:Map;function hN(e,t,n){n=ta(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){s0||(s0=!0,I_=r),S_(e,t)},n}function fN(e,t,n){n=ta(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){S_(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){S_(e,t),typeof r!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function oM(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wj.bind(null,e,t,n),t.then(e,e))}function sM(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aM(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ta(-1,1),t.tag=2,ol(n,t,1))),n.lanes|=1),e)}var Rj=va.ReactCurrentOwner,di=!1;function Vr(e,t,n,r){t.child=e===null?WI(t,null,n,r):ud(t,e.child,n,r)}function lM(e,t,n,r,i){n=n.render;var o=t.ref;return Zu(t,i),r=l2(e,t,n,r,o,i),n=c2(),e!==null&&!di?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i)):(bn&&n&&XS(t),t.flags|=1,Vr(e,t,r,i),t.child)}function cM(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!x2(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,pN(e,t,o,r,i)):(e=bv(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:qf,n(s,r)&&e.ref===t.ref)return aa(e,t,i)}return t.flags|=1,e=ll(o,r),e.ref=t.ref,e.return=t,t.child=e}function pN(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(qf(o,r)&&e.ref===t.ref)if(di=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(di=!0);else return t.lanes=e.lanes,aa(e,t,i)}return T_(e,t,n,r,i)}function mN(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn(Bu,Si),Si|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dn(Bu,Si),Si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,dn(Bu,Si),Si|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,dn(Bu,Si),Si|=r;return Vr(e,t,i,n),t.child}function gN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function T_(e,t,n,r,i){var o=mi(n)?xc:Or.current;return o=ld(t,o),Zu(t,i),n=l2(e,t,n,r,o,i),r=c2(),e!==null&&!di?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i)):(bn&&r&&XS(t),t.flags|=1,Vr(e,t,n,i),t.child)}function uM(e,t,n,r,i){if(mi(n)){var o=!0;Xv(t)}else o=!1;if(Zu(t,i),t.stateNode===null)vv(e,t),GI(t,n,r),E_(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=po(c):(c=mi(n)?xc:Or.current,c=ld(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tM(t,s,r,c),Ia=!1;var f=t.memoizedState;s.state=f,t0(t,r,s,i),l=t.memoizedState,a!==r||f!==l||pi.current||Ia?(typeof d=="function"&&(__(t,n,d,r),l=t.memoizedState),(a=Ia||eM(t,n,a,r,f,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,UI(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ro(t.type,a),s.props=c,h=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=po(l):(l=mi(n)?xc:Or.current,l=ld(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&tM(t,s,r,l),Ia=!1,f=t.memoizedState,s.state=f,t0(t,r,s,i);var g=t.memoizedState;a!==h||f!==g||pi.current||Ia?(typeof m=="function"&&(__(t,n,m,r),g=t.memoizedState),(c=Ia||eM(t,n,c,r,f,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return C_(e,t,n,r,o,i)}function C_(e,t,n,r,i,o){gN(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Zk(t,n,!1),aa(e,t,o);r=t.stateNode,Rj.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ud(t,e.child,null,o),t.child=ud(t,null,a,o)):Vr(e,t,a,o),t.memoizedState=r.state,i&&Zk(t,n,!0),t.child}function vN(e){var t=e.stateNode;t.pendingContext?qk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qk(e,t.context,!1),i2(e,t.containerInfo)}function dM(e,t,n,r,i){return cd(),JS(i),t.flags|=256,Vr(e,t,n,r),t.child}var A_={dehydrated:null,treeContext:null,retryLane:0};function k_(e){return{baseLanes:e,cachePool:null,transitions:null}}function yN(e,t,n){var r=t.pendingProps,i=Tn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),dn(Tn,i&1),e===null)return b_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=nx(s,r,0,null),e=hc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=k_(n),t.memoizedState=A_,e):h2(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Oj(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ll(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ll(a,o):(o=hc(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?k_(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=A_,r}return o=e.child,e=o.sibling,r=ll(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function h2(e,t){return t=nx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mg(e,t,n,r){return r!==null&&JS(r),ud(t,e.child,null,n),e=h2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Oj(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=R1(Error(xe(422))),Mg(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=nx({mode:"visible",children:r.children},i,0,null),o=hc(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ud(t,e.child,null,s),t.child.memoizedState=k_(s),t.memoizedState=A_,o);if(!(t.mode&1))return Mg(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(xe(419)),r=R1(o,r,void 0),Mg(e,t,s,r)}if(a=(s&e.childLanes)!==0,di||a){if(r=sr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,sa(e,i),Ho(r,e,i,-1))}return y2(),r=R1(Error(xe(421))),Mg(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=$j.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ki=il(i.nextSibling),Li=t,bn=!0,Io=null,e!==null&&(to[no++]=Xs,to[no++]=Ks,to[no++]=bc,Xs=e.id,Ks=e.overflow,bc=t),t=h2(t,r.children),t.flags|=4096,t)}function hM(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),w_(e.return,t,n)}function O1(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function xN(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Vr(e,t,r.children,n),r=Tn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hM(e,n,t);else if(e.tag===19)hM(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(dn(Tn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&n0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),O1(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&n0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}O1(t,!0,n,null,o);break;case"together":O1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_c|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,n=ll(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ll(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ij(e,t,n){switch(t.tag){case 3:vN(t),cd();break;case 5:$I(t);break;case 1:mi(t.type)&&Xv(t);break;case 4:i2(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;dn(Qv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(dn(Tn,Tn.current&1),t.flags|=128,null):n&t.child.childLanes?yN(e,t,n):(dn(Tn,Tn.current&1),e=aa(e,t,n),e!==null?e.sibling:null);dn(Tn,Tn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xN(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dn(Tn,Tn.current),r)break;return null;case 22:case 23:return t.lanes=0,mN(e,t,n)}return aa(e,t,n)}var bN,M_,wN,_N;bN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};M_=function(){};wN=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,oc(fs.current);var o=null;switch(n){case"input":i=Kw(e,i),r=Kw(e,r),o=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),o=[];break;case"textarea":i=e_(e,i),r=e_(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qv)}n_(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Uf.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Uf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&hn("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};_N=function(e,t,n,r){n!==r&&(t.flags|=4)};function Oh(e,t){if(!bn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Nj(e,t,n){var r=t.pendingProps;switch(KS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(t),null;case 1:return mi(t.type)&&Zv(),Tr(t),null;case 3:return r=t.stateNode,dd(),mn(pi),mn(Or),s2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ag(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Io!==null&&(B_(Io),Io=null))),M_(e,t),Tr(t),null;case 5:o2(t);var i=oc(Qf.current);if(n=t.type,e!==null&&t.stateNode!=null)wN(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(xe(166));return Tr(t),null}if(e=oc(fs.current),Ag(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ss]=t,r[Kf]=o,e=(t.mode&1)!==0,n){case"dialog":hn("cancel",r),hn("close",r);break;case"iframe":case"object":case"embed":hn("load",r);break;case"video":case"audio":for(i=0;i<tf.length;i++)hn(tf[i],r);break;case"source":hn("error",r);break;case"img":case"image":case"link":hn("error",r),hn("load",r);break;case"details":hn("toggle",r);break;case"input":wk(r,o),hn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},hn("invalid",r);break;case"textarea":Ek(r,o),hn("invalid",r)}n_(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Cg(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Cg(r.textContent,a,e),i=["children",""+a]):Uf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&hn("scroll",r)}switch(n){case"input":yg(r),_k(r,o,!0);break;case"textarea":yg(r),Sk(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ZO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ss]=t,e[Kf]=r,bN(e,t,!1,!1),t.stateNode=e;e:{switch(s=r_(n,r),n){case"dialog":hn("cancel",e),hn("close",e),i=r;break;case"iframe":case"object":case"embed":hn("load",e),i=r;break;case"video":case"audio":for(i=0;i<tf.length;i++)hn(tf[i],e);i=r;break;case"source":hn("error",e),i=r;break;case"img":case"image":case"link":hn("error",e),hn("load",e),i=r;break;case"details":hn("toggle",e),i=r;break;case"input":wk(e,r),i=Kw(e,r),hn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),hn("invalid",e);break;case"textarea":Ek(e,r),i=e_(e,r),hn("invalid",e);break;default:i=r}n_(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?JO(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XO(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hf(e,l):typeof l=="number"&&Hf(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&hn("scroll",e):l!=null&&DS(e,o,l,s))}switch(n){case"input":yg(e),_k(e,r,!1);break;case"textarea":yg(e),Sk(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vl(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Wu(e,!!r.multiple,o,!1):r.defaultValue!=null&&Wu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tr(t),null;case 6:if(e&&t.stateNode!=null)_N(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(xe(166));if(n=oc(Qf.current),oc(fs.current),Ag(t)){if(r=t.stateNode,n=t.memoizedProps,r[ss]=t,(o=r.nodeValue!==n)&&(e=Li,e!==null))switch(e.tag){case 3:Cg(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cg(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ss]=t,t.stateNode=r}return Tr(t),null;case 13:if(mn(Tn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bn&&ki!==null&&t.mode&1&&!(t.flags&128))jI(),cd(),t.flags|=98560,o=!1;else if(o=Ag(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(xe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(xe(317));o[ss]=t}else cd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tr(t),o=!1}else Io!==null&&(B_(Io),Io=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Tn.current&1?Xn===0&&(Xn=3):y2())),t.updateQueue!==null&&(t.flags|=4),Tr(t),null);case 4:return dd(),M_(e,t),e===null&&Zf(t.stateNode.containerInfo),Tr(t),null;case 10:return t2(t.type._context),Tr(t),null;case 17:return mi(t.type)&&Zv(),Tr(t),null;case 19:if(mn(Tn),o=t.memoizedState,o===null)return Tr(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Oh(o,!1);else{if(Xn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=n0(e),s!==null){for(t.flags|=128,Oh(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dn(Tn,Tn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Fn()>fd&&(t.flags|=128,r=!0,Oh(o,!1),t.lanes=4194304)}else{if(!r)if(e=n0(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Oh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!bn)return Tr(t),null}else 2*Fn()-o.renderingStartTime>fd&&n!==1073741824&&(t.flags|=128,r=!0,Oh(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fn(),t.sibling=null,n=Tn.current,dn(Tn,r?n&1|2:n&1),t):(Tr(t),null);case 22:case 23:return v2(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Si&1073741824&&(Tr(t),t.subtreeFlags&6&&(t.flags|=8192)):Tr(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function Dj(e,t){switch(KS(t),t.tag){case 1:return mi(t.type)&&Zv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dd(),mn(pi),mn(Or),s2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return o2(t),null;case 13:if(mn(Tn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));cd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mn(Tn),null;case 4:return dd(),null;case 10:return t2(t.type._context),null;case 22:case 23:return v2(),null;case 24:return null;default:return null}}var Lg=!1,Mr=!1,Bj=typeof WeakSet=="function"?WeakSet:Set,De=null;function Du(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rn(e,t,r)}else n.current=null}function L_(e,t,n){try{n()}catch(r){Rn(e,t,r)}}var fM=!1;function Fj(e,t){if(f_=Wv,e=CI(),ZS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++c===i&&(a=s),f===o&&++d===r&&(l=s),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(p_={focusedElem:e,selectionRange:n},Wv=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ro(t.type,y),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(_){Rn(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return g=fM,fM=!1,g}function vf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&L_(t,n,o)}i=i.next}while(i!==r)}}function ex(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function P_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function EN(e){var t=e.alternate;t!==null&&(e.alternate=null,EN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ss],delete t[Kf],delete t[v_],delete t[bj],delete t[wj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function SN(e){return e.tag===5||e.tag===3||e.tag===4}function pM(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function R_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qv));else if(r!==4&&(e=e.child,e!==null))for(R_(e,t,n),e=e.sibling;e!==null;)R_(e,t,n),e=e.sibling}function O_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(O_(e,t,n),e=e.sibling;e!==null;)O_(e,t,n),e=e.sibling}var fr=null,Oo=!1;function Ca(e,t,n){for(n=n.child;n!==null;)TN(e,t,n),n=n.sibling}function TN(e,t,n){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount($y,n)}catch{}switch(n.tag){case 5:Mr||Du(n,t);case 6:var r=fr,i=Oo;fr=null,Ca(e,t,n),fr=r,Oo=i,fr!==null&&(Oo?(e=fr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fr.removeChild(n.stateNode));break;case 18:fr!==null&&(Oo?(e=fr,n=n.stateNode,e.nodeType===8?C1(e.parentNode,n):e.nodeType===1&&C1(e,n),$f(e)):C1(fr,n.stateNode));break;case 4:r=fr,i=Oo,fr=n.stateNode.containerInfo,Oo=!0,Ca(e,t,n),fr=r,Oo=i;break;case 0:case 11:case 14:case 15:if(!Mr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&L_(n,t,s),i=i.next}while(i!==r)}Ca(e,t,n);break;case 1:if(!Mr&&(Du(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rn(n,t,a)}Ca(e,t,n);break;case 21:Ca(e,t,n);break;case 22:n.mode&1?(Mr=(r=Mr)||n.memoizedState!==null,Ca(e,t,n),Mr=r):Ca(e,t,n);break;default:Ca(e,t,n)}}function mM(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bj),t.forEach(function(r){var i=Yj.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ko(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:fr=a.stateNode,Oo=!1;break e;case 3:fr=a.stateNode.containerInfo,Oo=!0;break e;case 4:fr=a.stateNode.containerInfo,Oo=!0;break e}a=a.return}if(fr===null)throw Error(xe(160));TN(o,s,i),fr=null,Oo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Rn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)CN(t,e),t=t.sibling}function CN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ko(t,e),ts(e),r&4){try{vf(3,e,e.return),ex(3,e)}catch(y){Rn(e,e.return,y)}try{vf(5,e,e.return)}catch(y){Rn(e,e.return,y)}}break;case 1:ko(t,e),ts(e),r&512&&n!==null&&Du(n,n.return);break;case 5:if(ko(t,e),ts(e),r&512&&n!==null&&Du(n,n.return),e.flags&32){var i=e.stateNode;try{Hf(i,"")}catch(y){Rn(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&YO(i,o),r_(a,s);var c=r_(a,o);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?JO(i,h):d==="dangerouslySetInnerHTML"?XO(i,h):d==="children"?Hf(i,h):DS(i,d,h,c)}switch(a){case"input":Jw(i,o);break;case"textarea":qO(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Wu(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Wu(i,!!o.multiple,o.defaultValue,!0):Wu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Kf]=o}catch(y){Rn(e,e.return,y)}}break;case 6:if(ko(t,e),ts(e),r&4){if(e.stateNode===null)throw Error(xe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Rn(e,e.return,y)}}break;case 3:if(ko(t,e),ts(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$f(t.containerInfo)}catch(y){Rn(e,e.return,y)}break;case 4:ko(t,e),ts(e);break;case 13:ko(t,e),ts(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(m2=Fn())),r&4&&mM(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Mr=(c=Mr)||d,ko(t,e),Mr=c):ko(t,e),ts(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(De=e,d=e.child;d!==null;){for(h=De=d;De!==null;){switch(f=De,m=f.child,f.tag){case 0:case 11:case 14:case 15:vf(4,f,f.return);break;case 1:Du(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Rn(r,n,y)}}break;case 5:Du(f,f.return);break;case 22:if(f.memoizedState!==null){vM(h);continue}}m!==null?(m.return=f,De=m):vM(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=KO("display",s))}catch(y){Rn(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Rn(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ko(t,e),ts(e),r&4&&mM(e);break;case 21:break;default:ko(t,e),ts(e)}}function ts(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(SN(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hf(i,""),r.flags&=-33);var o=pM(e);O_(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=pM(e);R_(e,a,s);break;default:throw Error(xe(161))}}catch(l){Rn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jj(e,t,n){De=e,AN(e)}function AN(e,t,n){for(var r=(e.mode&1)!==0;De!==null;){var i=De,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Lg;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Mr;a=Lg;var c=Mr;if(Lg=s,(Mr=l)&&!c)for(De=i;De!==null;)s=De,l=s.child,s.tag===22&&s.memoizedState!==null?yM(i):l!==null?(l.return=s,De=l):yM(i);for(;o!==null;)De=o,AN(o),o=o.sibling;De=i,Lg=a,Mr=c}gM(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,De=o):gM(e)}}function gM(e){for(;De!==null;){var t=De;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mr||ex(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Mr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ro(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Qk(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qk(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$f(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Mr||t.flags&512&&P_(t)}catch(f){Rn(t,t.return,f)}}if(t===e){De=null;break}if(n=t.sibling,n!==null){n.return=t.return,De=n;break}De=t.return}}function vM(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var n=t.sibling;if(n!==null){n.return=t.return,De=n;break}De=t.return}}function yM(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ex(4,t)}catch(l){Rn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Rn(t,i,l)}}var o=t.return;try{P_(t)}catch(l){Rn(t,o,l)}break;case 5:var s=t.return;try{P_(t)}catch(l){Rn(t,s,l)}}}catch(l){Rn(t,t.return,l)}if(t===e){De=null;break}var a=t.sibling;if(a!==null){a.return=t.return,De=a;break}De=t.return}}var zj=Math.ceil,o0=va.ReactCurrentDispatcher,f2=va.ReactCurrentOwner,co=va.ReactCurrentBatchConfig,Ut=0,sr=null,Yn=null,gr=0,Si=0,Bu=Ll(0),Xn=0,rp=null,_c=0,tx=0,p2=0,yf=null,ui=null,m2=0,fd=1/0,Hs=null,s0=!1,I_=null,sl=null,Pg=!1,Va=null,a0=0,xf=0,N_=null,yv=-1,xv=0;function Kr(){return Ut&6?Fn():yv!==-1?yv:yv=Fn()}function al(e){return e.mode&1?Ut&2&&gr!==0?gr&-gr:Ej.transition!==null?(xv===0&&(xv=uI()),xv):(e=tn,e!==0||(e=window.event,e=e===void 0?16:vI(e.type)),e):1}function Ho(e,t,n,r){if(50<xf)throw xf=0,N_=null,Error(xe(185));vm(e,n,r),(!(Ut&2)||e!==sr)&&(e===sr&&(!(Ut&2)&&(tx|=n),Xn===4&&za(e,gr)),gi(e,r),n===1&&Ut===0&&!(t.mode&1)&&(fd=Fn()+500,Ky&&Pl()))}function gi(e,t){var n=e.callbackNode;E9(e,t);var r=Vv(e,e===sr?gr:0);if(r===0)n!==null&&Ak(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ak(n),t===1)e.tag===0?_j(xM.bind(null,e)):DI(xM.bind(null,e)),yj(function(){!(Ut&6)&&Pl()}),n=null;else{switch(dI(r)){case 1:n=US;break;case 4:n=lI;break;case 16:n=Gv;break;case 536870912:n=cI;break;default:n=Gv}n=NN(n,kN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kN(e,t){if(yv=-1,xv=0,Ut&6)throw Error(xe(327));var n=e.callbackNode;if(Xu()&&e.callbackNode!==n)return null;var r=Vv(e,e===sr?gr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=l0(e,r);else{t=r;var i=Ut;Ut|=2;var o=LN();(sr!==e||gr!==t)&&(Hs=null,fd=Fn()+500,dc(e,t));do try{Gj();break}catch(a){MN(e,a)}while(1);e2(),o0.current=o,Ut=i,Yn!==null?t=0:(sr=null,gr=0,t=Xn)}if(t!==0){if(t===2&&(i=l_(e),i!==0&&(r=i,t=D_(e,i))),t===1)throw n=rp,dc(e,0),za(e,r),gi(e,Fn()),n;if(t===6)za(e,r);else{if(i=e.current.alternate,!(r&30)&&!Uj(i)&&(t=l0(e,r),t===2&&(o=l_(e),o!==0&&(r=o,t=D_(e,o))),t===1))throw n=rp,dc(e,0),za(e,r),gi(e,Fn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(xe(345));case 2:Yl(e,ui,Hs);break;case 3:if(za(e,r),(r&130023424)===r&&(t=m2+500-Fn(),10<t)){if(Vv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Kr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=g_(Yl.bind(null,e,ui,Hs),t);break}Yl(e,ui,Hs);break;case 4:if(za(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Uo(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zj(r/1960))-r,10<r){e.timeoutHandle=g_(Yl.bind(null,e,ui,Hs),r);break}Yl(e,ui,Hs);break;case 5:Yl(e,ui,Hs);break;default:throw Error(xe(329))}}}return gi(e,Fn()),e.callbackNode===n?kN.bind(null,e):null}function D_(e,t){var n=yf;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),e=l0(e,t),e!==2&&(t=ui,ui=n,t!==null&&B_(t)),e}function B_(e){ui===null?ui=e:ui.push.apply(ui,e)}function Uj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Vo(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function za(e,t){for(t&=~p2,t&=~tx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Uo(t),r=1<<n;e[n]=-1,t&=~r}}function xM(e){if(Ut&6)throw Error(xe(327));Xu();var t=Vv(e,0);if(!(t&1))return gi(e,Fn()),null;var n=l0(e,t);if(e.tag!==0&&n===2){var r=l_(e);r!==0&&(t=r,n=D_(e,r))}if(n===1)throw n=rp,dc(e,0),za(e,t),gi(e,Fn()),n;if(n===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yl(e,ui,Hs),gi(e,Fn()),null}function g2(e,t){var n=Ut;Ut|=1;try{return e(t)}finally{Ut=n,Ut===0&&(fd=Fn()+500,Ky&&Pl())}}function Ec(e){Va!==null&&Va.tag===0&&!(Ut&6)&&Xu();var t=Ut;Ut|=1;var n=co.transition,r=tn;try{if(co.transition=null,tn=1,e)return e()}finally{tn=r,co.transition=n,Ut=t,!(Ut&6)&&Pl()}}function v2(){Si=Bu.current,mn(Bu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vj(n)),Yn!==null)for(n=Yn.return;n!==null;){var r=n;switch(KS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zv();break;case 3:dd(),mn(pi),mn(Or),s2();break;case 5:o2(r);break;case 4:dd();break;case 13:mn(Tn);break;case 19:mn(Tn);break;case 10:t2(r.type._context);break;case 22:case 23:v2()}n=n.return}if(sr=e,Yn=e=ll(e.current,null),gr=Si=t,Xn=0,rp=null,p2=tx=_c=0,ui=yf=null,ic!==null){for(t=0;t<ic.length;t++)if(n=ic[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ic=null}return e}function MN(e,t){do{var n=Yn;try{if(e2(),mv.current=i0,r0){for(var r=Cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}r0=!1}if(wc=0,rr=Zn=Cn=null,gf=!1,ep=0,f2.current=null,n===null||n.return===null){Xn=1,rp=t,Yn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=gr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=sM(s);if(m!==null){m.flags&=-257,aM(m,s,a,o,t),m.mode&1&&oM(o,c,t),t=m,l=c;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){oM(o,c,t),y2();break e}l=Error(xe(426))}}else if(bn&&a.mode&1){var b=sM(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),aM(b,s,a,o,t),JS(hd(l,a));break e}}o=l=hd(l,a),Xn!==4&&(Xn=2),yf===null?yf=[o]:yf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=hN(o,l,t);Jk(o,x);break e;case 1:a=l;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(sl===null||!sl.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=fN(o,a,t);Jk(o,_);break e}}o=o.return}while(o!==null)}RN(n)}catch(T){t=T,Yn===n&&n!==null&&(Yn=n=n.return);continue}break}while(1)}function LN(){var e=o0.current;return o0.current=i0,e===null?i0:e}function y2(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),sr===null||!(_c&268435455)&&!(tx&268435455)||za(sr,gr)}function l0(e,t){var n=Ut;Ut|=2;var r=LN();(sr!==e||gr!==t)&&(Hs=null,dc(e,t));do try{Hj();break}catch(i){MN(e,i)}while(1);if(e2(),Ut=n,o0.current=r,Yn!==null)throw Error(xe(261));return sr=null,gr=0,Xn}function Hj(){for(;Yn!==null;)PN(Yn)}function Gj(){for(;Yn!==null&&!p9();)PN(Yn)}function PN(e){var t=IN(e.alternate,e,Si);e.memoizedProps=e.pendingProps,t===null?RN(e):Yn=t,f2.current=null}function RN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dj(n,t),n!==null){n.flags&=32767,Yn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xn=6,Yn=null;return}}else if(n=Nj(n,t,Si),n!==null){Yn=n;return}if(t=t.sibling,t!==null){Yn=t;return}Yn=t=e}while(t!==null);Xn===0&&(Xn=5)}function Yl(e,t,n){var r=tn,i=co.transition;try{co.transition=null,tn=1,Vj(e,t,n,r)}finally{co.transition=i,tn=r}return null}function Vj(e,t,n,r){do Xu();while(Va!==null);if(Ut&6)throw Error(xe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(S9(e,o),e===sr&&(Yn=sr=null,gr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pg||(Pg=!0,NN(Gv,function(){return Xu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=co.transition,co.transition=null;var s=tn;tn=1;var a=Ut;Ut|=4,f2.current=null,Fj(e,n),CN(n,e),uj(p_),Wv=!!f_,p_=f_=null,e.current=n,jj(n),m9(),Ut=a,tn=s,co.transition=o}else e.current=n;if(Pg&&(Pg=!1,Va=e,a0=i),o=e.pendingLanes,o===0&&(sl=null),y9(n.stateNode),gi(e,Fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(s0)throw s0=!1,e=I_,I_=null,e;return a0&1&&e.tag!==0&&Xu(),o=e.pendingLanes,o&1?e===N_?xf++:(xf=0,N_=e):xf=0,Pl(),null}function Xu(){if(Va!==null){var e=dI(a0),t=co.transition,n=tn;try{if(co.transition=null,tn=16>e?16:e,Va===null)var r=!1;else{if(e=Va,Va=null,a0=0,Ut&6)throw Error(xe(331));var i=Ut;for(Ut|=4,De=e.current;De!==null;){var o=De,s=o.child;if(De.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(De=c;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:vf(8,d,o)}var h=d.child;if(h!==null)h.return=d,De=h;else for(;De!==null;){d=De;var f=d.sibling,m=d.return;if(EN(d),d===c){De=null;break}if(f!==null){f.return=m,De=f;break}De=m}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}De=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,De=s;else e:for(;De!==null;){if(o=De,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vf(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,De=x;break e}De=o.return}}var w=e.current;for(De=w;De!==null;){s=De;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,De=S;else e:for(s=w;De!==null;){if(a=De,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ex(9,a)}}catch(T){Rn(a,a.return,T)}if(a===s){De=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,De=_;break e}De=a.return}}if(Ut=i,Pl(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot($y,e)}catch{}r=!0}return r}finally{tn=n,co.transition=t}}return!1}function bM(e,t,n){t=hd(n,t),t=hN(e,t,1),e=ol(e,t,1),t=Kr(),e!==null&&(vm(e,1,t),gi(e,t))}function Rn(e,t,n){if(e.tag===3)bM(e,e,n);else for(;t!==null;){if(t.tag===3){bM(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sl===null||!sl.has(r))){e=hd(n,e),e=fN(t,e,1),t=ol(t,e,1),e=Kr(),t!==null&&(vm(t,1,e),gi(t,e));break}}t=t.return}}function Wj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Kr(),e.pingedLanes|=e.suspendedLanes&n,sr===e&&(gr&n)===n&&(Xn===4||Xn===3&&(gr&130023424)===gr&&500>Fn()-m2?dc(e,0):p2|=n),gi(e,t)}function ON(e,t){t===0&&(e.mode&1?(t=wg,wg<<=1,!(wg&130023424)&&(wg=4194304)):t=1);var n=Kr();e=sa(e,t),e!==null&&(vm(e,t,n),gi(e,n))}function $j(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ON(e,n)}function Yj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(t),ON(e,n)}var IN;IN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pi.current)di=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return di=!1,Ij(e,t,n);di=!!(e.flags&131072)}else di=!1,bn&&t.flags&1048576&&BI(t,Jv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vv(e,t),e=t.pendingProps;var i=ld(t,Or.current);Zu(t,n),i=l2(null,t,r,e,i,n);var o=c2();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)?(o=!0,Xv(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,r2(t),i.updater=Jy,t.stateNode=i,i._reactInternals=t,E_(t,r,e,n),t=C_(null,t,r,!0,o,n)):(t.tag=0,bn&&o&&XS(t),Vr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vv(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Zj(r),e=Ro(r,e),i){case 0:t=T_(null,t,r,e,n);break e;case 1:t=uM(null,t,r,e,n);break e;case 11:t=lM(null,t,r,e,n);break e;case 14:t=cM(null,t,r,Ro(r.type,e),n);break e}throw Error(xe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ro(r,i),T_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ro(r,i),uM(e,t,r,i,n);case 3:e:{if(vN(t),e===null)throw Error(xe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,UI(e,t),t0(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=hd(Error(xe(423)),t),t=dM(e,t,r,n,i);break e}else if(r!==i){i=hd(Error(xe(424)),t),t=dM(e,t,r,n,i);break e}else for(ki=il(t.stateNode.containerInfo.firstChild),Li=t,bn=!0,Io=null,n=WI(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cd(),r===i){t=aa(e,t,n);break e}Vr(e,t,r,n)}t=t.child}return t;case 5:return $I(t),e===null&&b_(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,m_(r,i)?s=null:o!==null&&m_(r,o)&&(t.flags|=32),gN(e,t),Vr(e,t,s,n),t.child;case 6:return e===null&&b_(t),null;case 13:return yN(e,t,n);case 4:return i2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ud(t,null,r,n):Vr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ro(r,i),lM(e,t,r,i,n);case 7:return Vr(e,t,t.pendingProps,n),t.child;case 8:return Vr(e,t,t.pendingProps.children,n),t.child;case 12:return Vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,dn(Qv,r._currentValue),r._currentValue=s,o!==null)if(Vo(o.value,s)){if(o.children===i.children&&!pi.current){t=aa(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ta(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),w_(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(xe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),w_(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Vr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Zu(t,n),i=po(i),r=r(i),t.flags|=1,Vr(e,t,r,n),t.child;case 14:return r=t.type,i=Ro(r,t.pendingProps),i=Ro(r.type,i),cM(e,t,r,i,n);case 15:return pN(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ro(r,i),vv(e,t),t.tag=1,mi(r)?(e=!0,Xv(t)):e=!1,Zu(t,n),GI(t,r,i),E_(t,r,i,n),C_(null,t,r,!0,e,n);case 19:return xN(e,t,n);case 22:return mN(e,t,n)}throw Error(xe(156,t.tag))};function NN(e,t){return aI(e,t)}function qj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function so(e,t,n,r){return new qj(e,t,n,r)}function x2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zj(e){if(typeof e=="function")return x2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===FS)return 11;if(e===jS)return 14}return 2}function ll(e,t){var n=e.alternate;return n===null?(n=so(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bv(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")x2(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Au:return hc(n.children,i,o,t);case BS:s=8,i|=8;break;case Yw:return e=so(12,n,t,i|2),e.elementType=Yw,e.lanes=o,e;case qw:return e=so(13,n,t,i),e.elementType=qw,e.lanes=o,e;case Zw:return e=so(19,n,t,i),e.elementType=Zw,e.lanes=o,e;case VO:return nx(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HO:s=10;break e;case GO:s=9;break e;case FS:s=11;break e;case jS:s=14;break e;case Oa:s=16,r=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=so(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function hc(e,t,n,r){return e=so(7,e,r,t),e.lanes=n,e}function nx(e,t,n,r){return e=so(22,e,r,t),e.elementType=VO,e.lanes=n,e.stateNode={isHidden:!1},e}function I1(e,t,n){return e=so(6,e,null,t),e.lanes=n,e}function N1(e,t,n){return t=so(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xj(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=m1(0),this.expirationTimes=m1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=m1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function b2(e,t,n,r,i,o,s,a,l){return e=new Xj(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=so(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},r2(o),e}function Kj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function DN(e){if(!e)return yl;e=e._reactInternals;e:{if(zc(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var n=e.type;if(mi(n))return NI(e,n,t)}return t}function BN(e,t,n,r,i,o,s,a,l){return e=b2(n,r,!0,e,i,o,s,a,l),e.context=DN(null),n=e.current,r=Kr(),i=al(n),o=ta(r,i),o.callback=t??null,ol(n,o,i),e.current.lanes=i,vm(e,i,r),gi(e,r),e}function rx(e,t,n,r){var i=t.current,o=Kr(),s=al(i);return n=DN(n),t.context===null?t.context=n:t.pendingContext=n,t=ta(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ol(i,t,s),e!==null&&(Ho(e,i,s,o),pv(e,i,s)),s}function c0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function w2(e,t){wM(e,t),(e=e.alternate)&&wM(e,t)}function Jj(){return null}var FN=typeof reportError=="function"?reportError:function(e){console.error(e)};function _2(e){this._internalRoot=e}ix.prototype.render=_2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));rx(e,t,null,null)};ix.prototype.unmount=_2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ec(function(){rx(null,e,null,null)}),t[oa]=null}};function ix(e){this._internalRoot=e}ix.prototype.unstable_scheduleHydration=function(e){if(e){var t=pI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ja.length&&t!==0&&t<ja[n].priority;n++);ja.splice(n,0,e),n===0&&gI(e)}};function E2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ox(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _M(){}function Qj(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=c0(s);o.call(c)}}var s=BN(t,r,e,0,null,!1,!1,"",_M);return e._reactRootContainer=s,e[oa]=s.current,Zf(e.nodeType===8?e.parentNode:e),Ec(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=c0(l);a.call(c)}}var l=b2(e,0,!1,null,null,!1,!1,"",_M);return e._reactRootContainer=l,e[oa]=l.current,Zf(e.nodeType===8?e.parentNode:e),Ec(function(){rx(t,l,n,r)}),l}function sx(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=c0(s);a.call(l)}}rx(t,s,e,i)}else s=Qj(n,t,e,i,r);return c0(s)}hI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ef(t.pendingLanes);n!==0&&(HS(t,n|1),gi(t,Fn()),!(Ut&6)&&(fd=Fn()+500,Pl()))}break;case 13:Ec(function(){var r=sa(e,1);if(r!==null){var i=Kr();Ho(r,e,1,i)}}),w2(e,1)}};GS=function(e){if(e.tag===13){var t=sa(e,134217728);if(t!==null){var n=Kr();Ho(t,e,134217728,n)}w2(e,134217728)}};fI=function(e){if(e.tag===13){var t=al(e),n=sa(e,t);if(n!==null){var r=Kr();Ho(n,e,t,r)}w2(e,t)}};pI=function(){return tn};mI=function(e,t){var n=tn;try{return tn=e,t()}finally{tn=n}};o_=function(e,t,n){switch(t){case"input":if(Jw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Xy(r);if(!i)throw Error(xe(90));$O(r),Jw(r,i)}}}break;case"textarea":qO(e,n);break;case"select":t=n.value,t!=null&&Wu(e,!!n.multiple,t,!1)}};tI=g2;nI=Ec;var ez={usingClientEntryPoint:!1,Events:[xm,Pu,Xy,QO,eI,g2]},Ih={findFiberByHostInstance:rc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tz={bundleType:Ih.bundleType,version:Ih.version,rendererPackageName:Ih.rendererPackageName,rendererConfig:Ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:va.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oI(e),e===null?null:e.stateNode},findFiberByHostInstance:Ih.findFiberByHostInstance||Jj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rg.isDisabled&&Rg.supportsFiber)try{$y=Rg.inject(tz),hs=Rg}catch{}}Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ez;Ui.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E2(t))throw Error(xe(200));return Kj(e,t,null,n)};Ui.createRoot=function(e,t){if(!E2(e))throw Error(xe(299));var n=!1,r="",i=FN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=b2(e,1,!1,null,null,n,!1,r,i),e[oa]=t.current,Zf(e.nodeType===8?e.parentNode:e),new _2(t)};Ui.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=oI(t),e=e===null?null:e.stateNode,e};Ui.flushSync=function(e){return Ec(e)};Ui.hydrate=function(e,t,n){if(!ox(t))throw Error(xe(200));return sx(null,e,t,!0,n)};Ui.hydrateRoot=function(e,t,n){if(!E2(e))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=FN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=BN(t,null,e,1,n??null,i,!1,o,s),e[oa]=t.current,Zf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ix(t)};Ui.render=function(e,t,n){if(!ox(t))throw Error(xe(200));return sx(null,e,t,!1,n)};Ui.unmountComponentAtNode=function(e){if(!ox(e))throw Error(xe(40));return e._reactRootContainer?(Ec(function(){sx(null,null,e,!1,function(){e._reactRootContainer=null,e[oa]=null})}),!0):!1};Ui.unstable_batchedUpdates=g2;Ui.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ox(n))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return sx(e,t,n,!1,r)};Ui.version="18.2.0-next-9e3b772b8-20220608";function jN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jN)}catch(e){console.error(e)}}jN(),BO.exports=Ui;var Rl=BO.exports;const nf=Fc(Rl);var zN,EM=Rl;zN=EM.createRoot,EM.hydrateRoot;const S2=()=>!window.invokeNative,nz=()=>{},rz=(e,t=1e3)=>{if(S2())for(const n of e)setTimeout(()=>{window.dispatchEvent(new MessageEvent("message",{data:{action:n.action,data:n.data}}))},t)},fn=(e,t)=>{const n=R.useRef(nz);R.useEffect(()=>{n.current=t},[t]),R.useEffect(()=>{const r=i=>{const{action:o,data:s}=i.data;n.current&&o===e&&n.current(s)};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[e])};var ax={exports:{}},UN={},HN={exports:{}},iz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oz=iz,sz=oz;function GN(){}function VN(){}VN.resetWarningCache=GN;var az=function(){function e(r,i,o,s,a,l){if(l!==sz){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:VN,resetWarningCache:GN};return n.PropTypes=n,n};HN.exports=az();var rn=HN.exports;function WN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=WN(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function SM(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=WN(e))&&(r&&(r+=" "),r+=t);return r}const lz=Object.freeze(Object.defineProperty({__proto__:null,clsx:SM,default:SM},Symbol.toStringTag,{value:"Module"})),cz=mm(lz);var In={},Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.dontSetMe=pz;Cs.findInArray=uz;Cs.int=fz;Cs.isFunction=dz;Cs.isNum=hz;function uz(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function dz(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function hz(e){return typeof e=="number"&&!isNaN(e)}function fz(e){return parseInt(e,10)}function pz(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.browserPrefixToKey=YN;Uc.browserPrefixToStyle=mz;Uc.default=void 0;Uc.getPrefix=$N;const D1=["Moz","Webkit","O","ms"];function $N(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<D1.length;r++)if(YN(t,D1[r])in n)return D1[r];return""}function YN(e,t){return t?"".concat(t).concat(gz(e)):e}function mz(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function gz(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Uc.default=$N();Object.defineProperty(In,"__esModule",{value:!0});In.addClassName=XN;In.addEvent=xz;In.addUserSelectStyles=Lz;In.createCSSTransform=Cz;In.createSVGTransform=Az;In.getTouch=kz;In.getTouchIdentifier=Mz;In.getTranslation=T2;In.innerHeight=Ez;In.innerWidth=Sz;In.matchesSelector=ZN;In.matchesSelectorAndParentsTo=yz;In.offsetXYFromParent=Tz;In.outerHeight=wz;In.outerWidth=_z;In.removeClassName=KN;In.removeEvent=bz;In.removeUserSelectStyles=Pz;var Pi=Cs,TM=vz(Uc);function qN(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(qN=function(r){return r?n:t})(e)}function vz(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=qN(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let Og="";function ZN(e,t){return Og||(Og=(0,Pi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Pi.isFunction)(e[n])})),(0,Pi.isFunction)(e[Og])?e[Og](t):!1}function yz(e,t,n){let r=e;do{if(ZN(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function xz(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function bz(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function wz(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Pi.int)(n.borderTopWidth),t+=(0,Pi.int)(n.borderBottomWidth),t}function _z(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Pi.int)(n.borderLeftWidth),t+=(0,Pi.int)(n.borderRightWidth),t}function Ez(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Pi.int)(n.paddingTop),t-=(0,Pi.int)(n.paddingBottom),t}function Sz(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Pi.int)(n.paddingLeft),t-=(0,Pi.int)(n.paddingRight),t}function Tz(e,t,n){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/n,s=(e.clientY+t.scrollTop-i.top)/n;return{x:o,y:s}}function Cz(e,t){const n=T2(e,t,"px");return{[(0,TM.browserPrefixToKey)("transform",TM.default)]:n}}function Az(e,t){return T2(e,t,"")}function T2(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const s="".concat(typeof t.x=="string"?t.x:t.x+n),a="".concat(typeof t.y=="string"?t.y:t.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function kz(e,t){return e.targetTouches&&(0,Pi.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,Pi.findInArray)(e.changedTouches,n=>t===n.identifier)}function Mz(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Lz(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&XN(e.body,"react-draggable-transparent-selection")}function Pz(e){if(e)try{if(e.body&&KN(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function XN(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function KN(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var As={};Object.defineProperty(As,"__esModule",{value:!0});As.canDragX=Iz;As.canDragY=Nz;As.createCoreData=Bz;As.createDraggableData=Fz;As.getBoundPosition=Rz;As.getControlPosition=Dz;As.snapToGrid=Oz;var wi=Cs,Fu=In;function Rz(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:jz(r);const i=C2(e);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=s.getComputedStyle(i),d=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,wi.int)(d.paddingLeft)+(0,wi.int)(c.marginLeft),top:-i.offsetTop+(0,wi.int)(d.paddingTop)+(0,wi.int)(c.marginTop),right:(0,Fu.innerWidth)(l)-(0,Fu.outerWidth)(i)-i.offsetLeft+(0,wi.int)(d.paddingRight)-(0,wi.int)(c.marginRight),bottom:(0,Fu.innerHeight)(l)-(0,Fu.outerHeight)(i)-i.offsetTop+(0,wi.int)(d.paddingBottom)-(0,wi.int)(c.marginBottom)}}return(0,wi.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,wi.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,wi.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,wi.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function Oz(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function Iz(e){return e.props.axis==="both"||e.props.axis==="x"}function Nz(e){return e.props.axis==="both"||e.props.axis==="y"}function Dz(e,t,n){const r=typeof t=="number"?(0,Fu.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const i=C2(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Fu.offsetXYFromParent)(r||e,o,n.props.scale)}function Bz(e,t,n){const r=!(0,wi.isNum)(e.lastX),i=C2(e);return r?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function Fz(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function jz(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function C2(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var lx={},cx={};Object.defineProperty(cx,"__esModule",{value:!0});cx.default=zz;function zz(){}Object.defineProperty(lx,"__esModule",{value:!0});lx.default=void 0;var B1=Hz(R),ii=A2(rn),Uz=A2(Rl),Cr=In,Aa=As,F1=Cs,Nh=A2(cx);function A2(e){return e&&e.__esModule?e:{default:e}}function JN(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(JN=function(r){return r?n:t})(e)}function Hz(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=JN(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function Gr(e,t,n){return t=Gz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gz(e){var t=Vz(e,"string");return typeof t=="symbol"?t:String(t)}function Vz(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Lo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ka=Lo.mouse,ux=class extends B1.Component{constructor(){super(...arguments),Gr(this,"dragging",!1),Gr(this,"lastX",NaN),Gr(this,"lastY",NaN),Gr(this,"touchIdentifier",null),Gr(this,"mounted",!1),Gr(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Cr.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Cr.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const i=(0,Cr.getTouchIdentifier)(t);this.touchIdentifier=i;const o=(0,Aa.getControlPosition)(t,i,this);if(o==null)return;const{x:s,y:a}=o,l=(0,Aa.createCoreData)(this,s,a);(0,Nh.default)("DraggableCore: handleDragStart: %j",l),(0,Nh.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Cr.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Cr.addEvent)(r,ka.move,this.handleDrag),(0,Cr.addEvent)(r,ka.stop,this.handleDragStop))}),Gr(this,"handleDrag",t=>{const n=(0,Aa.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,Aa.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const o=(0,Aa.createCoreData)(this,r,i);if((0,Nh.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),Gr(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,Aa.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,Aa.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const o=(0,Aa.createCoreData)(this,r,i);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Cr.removeUserSelectStyles)(a.ownerDocument),(0,Nh.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Nh.default)("DraggableCore: Removing handlers"),(0,Cr.removeEvent)(a.ownerDocument,ka.move,this.handleDrag),(0,Cr.removeEvent)(a.ownerDocument,ka.stop,this.handleDragStop))}),Gr(this,"onMouseDown",t=>(ka=Lo.mouse,this.handleDragStart(t))),Gr(this,"onMouseUp",t=>(ka=Lo.mouse,this.handleDragStop(t))),Gr(this,"onTouchStart",t=>(ka=Lo.touch,this.handleDragStart(t))),Gr(this,"onTouchEnd",t=>(ka=Lo.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Cr.addEvent)(t,Lo.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Cr.removeEvent)(n,Lo.mouse.move,this.handleDrag),(0,Cr.removeEvent)(n,Lo.touch.move,this.handleDrag),(0,Cr.removeEvent)(n,Lo.mouse.stop,this.handleDragStop),(0,Cr.removeEvent)(n,Lo.touch.stop,this.handleDragStop),(0,Cr.removeEvent)(t,Lo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Cr.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Uz.default.findDOMNode(this)}render(){return B1.cloneElement(B1.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};lx.default=ux;Gr(ux,"displayName","DraggableCore");Gr(ux,"propTypes",{allowAnyClick:ii.default.bool,children:ii.default.node.isRequired,disabled:ii.default.bool,enableUserSelectHack:ii.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ii.default.arrayOf(ii.default.number),handle:ii.default.string,cancel:ii.default.string,nodeRef:ii.default.object,onStart:ii.default.func,onDrag:ii.default.func,onStop:ii.default.func,onMouseDown:ii.default.func,scale:ii.default.number,className:F1.dontSetMe,style:F1.dontSetMe,transform:F1.dontSetMe});Gr(ux,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=f(R),n=d(rn),r=d(Rl),i=d(cz),o=In,s=As,a=Cs,l=d(lx),c=d(cx);function d(w){return w&&w.__esModule?w:{default:w}}function h(w){if(typeof WeakMap!="function")return null;var S=new WeakMap,_=new WeakMap;return(h=function(T){return T?_:S})(w)}function f(w,S){if(!S&&w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var _=h(S);if(_&&_.has(w))return _.get(w);var T={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in w)if(P!=="default"&&Object.prototype.hasOwnProperty.call(w,P)){var k=A?Object.getOwnPropertyDescriptor(w,P):null;k&&(k.get||k.set)?Object.defineProperty(T,P,k):T[P]=w[P]}return T.default=w,_&&_.set(w,T),T}function m(){return m=Object.assign?Object.assign.bind():function(w){for(var S=1;S<arguments.length;S++){var _=arguments[S];for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(w[T]=_[T])}return w},m.apply(this,arguments)}function g(w,S,_){return S=y(S),S in w?Object.defineProperty(w,S,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[S]=_,w}function y(w){var S=b(w,"string");return typeof S=="symbol"?S:String(S)}function b(w,S){if(typeof w!="object"||w===null)return w;var _=w[Symbol.toPrimitive];if(_!==void 0){var T=_.call(w,S||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(w)}class x extends t.Component{static getDerivedStateFromProps(S,_){let{position:T}=S,{prevPropsPosition:A}=_;return T&&(!A||T.x!==A.x||T.y!==A.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:T,prevPropsPosition:A}),{x:T.x,y:T.y,prevPropsPosition:{...T}}):null}constructor(S){super(S),g(this,"onDragStart",(_,T)=>{if((0,c.default)("Draggable: onDragStart: %j",T),this.props.onStart(_,(0,s.createDraggableData)(this,T))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(_,T)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",T);const A=(0,s.createDraggableData)(this,T),P={x:A.x,y:A.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:I}=P;P.x+=this.state.slackX,P.y+=this.state.slackY;const[N,U]=(0,s.getBoundPosition)(this,P.x,P.y);P.x=N,P.y=U,P.slackX=this.state.slackX+(M-P.x),P.slackY=this.state.slackY+(I-P.y),A.x=P.x,A.y=P.y,A.deltaX=P.x-this.state.x,A.deltaY=P.y-this.state.y}if(this.props.onDrag(_,A)===!1)return!1;this.setState(P)}),g(this,"onDragStop",(_,T)=>{if(!this.state.dragging||this.props.onStop(_,(0,s.createDraggableData)(this,T))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",T);const P={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:M,y:I}=this.props.position;P.x=M,P.y=I}this.setState(P)}),this.state={dragging:!1,dragged:!1,x:S.position?S.position.x:S.defaultPosition.x,y:S.position?S.position.y:S.defaultPosition.y,prevPropsPosition:{...S.position},slackX:0,slackY:0,isElementSVG:!1},S.position&&!(S.onDrag||S.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var S,_;return(S=(_=this.props)===null||_===void 0||(_=_.nodeRef)===null||_===void 0?void 0:_.current)!==null&&S!==void 0?S:r.default.findDOMNode(this)}render(){const{axis:S,bounds:_,children:T,defaultPosition:A,defaultClassName:P,defaultClassNameDragging:k,defaultClassNameDragged:M,position:I,positionOffset:N,scale:U,...Y}=this.props;let H={},G=null;const ee=!!!I||this.state.dragging,V=I||A,B={x:(0,s.canDragX)(this)&&ee?this.state.x:V.x,y:(0,s.canDragY)(this)&&ee?this.state.y:V.y};this.state.isElementSVG?G=(0,o.createSVGTransform)(B,N):H=(0,o.createCSSTransform)(B,N);const D=(0,i.default)(T.props.className||"",P,{[k]:this.state.dragging,[M]:this.state.dragged});return t.createElement(l.default,m({},Y,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(T),{className:D,style:{...T.props.style,...H},transform:G}))}}e.default=x,g(x,"displayName","Draggable"),g(x,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),g(x,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(UN);const{default:QN,DraggableCore:Wz}=UN;ax.exports=QN;ax.exports.default=QN;ax.exports.DraggableCore=Wz;var $z=ax.exports;const e3=Fc($z);async function Se(e,t,n){const r={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};if(S2()&&n)return n;const i=window.GetParentResourceName?window.GetParentResourceName():"qs-dispatch";return await(await fetch(`https://${i}/${e}`,r).catch(a=>{console.warn(`Error in fetchNui[${e}]: ${a}`)})).json()}async function wm(e,t,n=1e3){}const Yz={black:"#000",white:"#fff"},ip=Yz,qz={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ru=qz,Zz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},iu=Zz,Xz={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ou=Xz,Kz={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},su=Kz,Jz={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},au=Jz,Qz={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Dh=Qz,e7={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},t7=e7;function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function Ua(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function t3(e){if(!Ua(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=t3(e[n])}),t}function Go(e,t,n={clone:!0}){const r=n.clone?Q({},e):e;return Ua(e)&&Ua(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Ua(t[i])&&i in e&&Ua(e[i])?r[i]=Go(e[i],t[i],n):n.clone?r[i]=Ua(t[i])?t3(t[i]):t[i]:r[i]=t[i])}),r}function pd(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}var on={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2=Symbol.for("react.element"),M2=Symbol.for("react.portal"),dx=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),fx=Symbol.for("react.profiler"),px=Symbol.for("react.provider"),mx=Symbol.for("react.context"),n7=Symbol.for("react.server_context"),gx=Symbol.for("react.forward_ref"),vx=Symbol.for("react.suspense"),yx=Symbol.for("react.suspense_list"),xx=Symbol.for("react.memo"),bx=Symbol.for("react.lazy"),r7=Symbol.for("react.offscreen"),n3;n3=Symbol.for("react.module.reference");function bo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case k2:switch(e=e.type,e){case dx:case fx:case hx:case vx:case yx:return e;default:switch(e=e&&e.$$typeof,e){case n7:case mx:case gx:case bx:case xx:case px:return e;default:return t}}case M2:return t}}}on.ContextConsumer=mx;on.ContextProvider=px;on.Element=k2;on.ForwardRef=gx;on.Fragment=dx;on.Lazy=bx;on.Memo=xx;on.Portal=M2;on.Profiler=fx;on.StrictMode=hx;on.Suspense=vx;on.SuspenseList=yx;on.isAsyncMode=function(){return!1};on.isConcurrentMode=function(){return!1};on.isContextConsumer=function(e){return bo(e)===mx};on.isContextProvider=function(e){return bo(e)===px};on.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===k2};on.isForwardRef=function(e){return bo(e)===gx};on.isFragment=function(e){return bo(e)===dx};on.isLazy=function(e){return bo(e)===bx};on.isMemo=function(e){return bo(e)===xx};on.isPortal=function(e){return bo(e)===M2};on.isProfiler=function(e){return bo(e)===fx};on.isStrictMode=function(e){return bo(e)===hx};on.isSuspense=function(e){return bo(e)===vx};on.isSuspenseList=function(e){return bo(e)===yx};on.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dx||e===fx||e===hx||e===vx||e===yx||e===r7||typeof e=="object"&&e!==null&&(e.$$typeof===bx||e.$$typeof===xx||e.$$typeof===px||e.$$typeof===mx||e.$$typeof===gx||e.$$typeof===n3||e.getModuleId!==void 0)};on.typeOf=bo;function Nt(e){if(typeof e!="string")throw new Error(pd(7));return e.charAt(0).toUpperCase()+e.slice(1)}function F_(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function r3(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function i7(e,t){return()=>null}function o7(e,t){var n,r;return R.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Jr(e){return e&&e.ownerDocument||document}function md(e){return Jr(e).defaultView||window}function s7(e,t){return()=>null}function u0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const a7=typeof window<"u"?R.useLayoutEffect:R.useEffect,xl=a7;let CM=0;function l7(e){const[t,n]=R.useState(e),r=e||t;return R.useEffect(()=>{t==null&&(CM+=1,n(`mui-${CM}`))},[t]),r}const AM=Ww["useId".toString()];function i3(e){if(AM!==void 0){const t=AM();return e??t}return l7(e)}function c7(e,t,n,r,i){return null}function o3({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=R.useRef(e!==void 0),[o,s]=R.useState(t),a=i?e:o,l=R.useCallback(c=>{i||s(c)},[]);return[a,l]}function Wa(e){const t=R.useRef(e);return xl(()=>{t.current=e}),R.useRef((...n)=>(0,t.current)(...n)).current}function ei(...e){return R.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{u0(n,t)})},e)}let wx=!0,j_=!1,kM;const u7={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function d7(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&u7[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function h7(e){e.metaKey||e.altKey||e.ctrlKey||(wx=!0)}function j1(){wx=!1}function f7(){this.visibilityState==="hidden"&&j_&&(wx=!0)}function p7(e){e.addEventListener("keydown",h7,!0),e.addEventListener("mousedown",j1,!0),e.addEventListener("pointerdown",j1,!0),e.addEventListener("touchstart",j1,!0),e.addEventListener("visibilitychange",f7,!0)}function m7(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return wx||d7(t)}function L2(){const e=R.useCallback(i=>{i!=null&&p7(i.ownerDocument)},[]),t=R.useRef(!1);function n(){return t.current?(j_=!0,window.clearTimeout(kM),kM=window.setTimeout(()=>{j_=!1},100),t.current=!1,!0):!1}function r(i){return m7(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function s3(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function P2(e,t){const n=Q({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Q({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=Q({},o),Object.keys(i).forEach(s=>{n[r][s]=P2(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Dr(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const MM=e=>e,g7=()=>{let e=MM;return{configure(t){e=t},generate(t){return e(t)},reset(){e=MM}}},v7=g7(),a3=v7,y7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function wr(e,t,n="Mui"){const r=y7[t];return r?`${n}-${r}`:`${a3.generate(e)}-${t}`}function Jn(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=wr(e,i,n)}),r}const op="$$material";function mt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function l3(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var x7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,b7=l3(function(e){return x7.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function w7(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function _7(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var E7=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_7(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=w7(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Ar="-ms-",d0="-moz-",qt="-webkit-",c3="comm",R2="rule",O2="decl",S7="@import",u3="@keyframes",T7="@layer",C7=Math.abs,_x=String.fromCharCode,A7=Object.assign;function k7(e,t){return pr(e,0)^45?(((t<<2^pr(e,0))<<2^pr(e,1))<<2^pr(e,2))<<2^pr(e,3):0}function d3(e){return e.trim()}function M7(e,t){return(e=t.exec(e))?e[0]:e}function Zt(e,t,n){return e.replace(t,n)}function z_(e,t){return e.indexOf(t)}function pr(e,t){return e.charCodeAt(t)|0}function sp(e,t,n){return e.slice(t,n)}function is(e){return e.length}function I2(e){return e.length}function Ig(e,t){return t.push(e),e}function L7(e,t){return e.map(t).join("")}var Ex=1,gd=1,h3=0,xi=0,Wn=0,Qd="";function Sx(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Ex,column:gd,length:s,return:""}}function Bh(e,t){return A7(Sx("",null,null,"",null,null,0),e,{length:-e.length},t)}function P7(){return Wn}function R7(){return Wn=xi>0?pr(Qd,--xi):0,gd--,Wn===10&&(gd=1,Ex--),Wn}function Ri(){return Wn=xi<h3?pr(Qd,xi++):0,gd++,Wn===10&&(gd=1,Ex++),Wn}function ps(){return pr(Qd,xi)}function wv(){return xi}function _m(e,t){return sp(Qd,e,t)}function ap(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function f3(e){return Ex=gd=1,h3=is(Qd=e),xi=0,[]}function p3(e){return Qd="",e}function _v(e){return d3(_m(xi-1,U_(e===91?e+2:e===40?e+1:e)))}function O7(e){for(;(Wn=ps())&&Wn<33;)Ri();return ap(e)>2||ap(Wn)>3?"":" "}function I7(e,t){for(;--t&&Ri()&&!(Wn<48||Wn>102||Wn>57&&Wn<65||Wn>70&&Wn<97););return _m(e,wv()+(t<6&&ps()==32&&Ri()==32))}function U_(e){for(;Ri();)switch(Wn){case e:return xi;case 34:case 39:e!==34&&e!==39&&U_(Wn);break;case 40:e===41&&U_(e);break;case 92:Ri();break}return xi}function N7(e,t){for(;Ri()&&e+Wn!==47+10;)if(e+Wn===42+42&&ps()===47)break;return"/*"+_m(t,xi-1)+"*"+_x(e===47?e:Ri())}function D7(e){for(;!ap(ps());)Ri();return _m(e,xi)}function B7(e){return p3(Ev("",null,null,null,[""],e=f3(e),0,[0],e))}function Ev(e,t,n,r,i,o,s,a,l){for(var c=0,d=0,h=s,f=0,m=0,g=0,y=1,b=1,x=1,w=0,S="",_=i,T=o,A=r,P=S;b;)switch(g=w,w=Ri()){case 40:if(g!=108&&pr(P,h-1)==58){z_(P+=Zt(_v(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:P+=_v(w);break;case 9:case 10:case 13:case 32:P+=O7(g);break;case 92:P+=I7(wv()-1,7);continue;case 47:switch(ps()){case 42:case 47:Ig(F7(N7(Ri(),wv()),t,n),l);break;default:P+="/"}break;case 123*y:a[c++]=is(P)*x;case 125*y:case 59:case 0:switch(w){case 0:case 125:b=0;case 59+d:x==-1&&(P=Zt(P,/\f/g,"")),m>0&&is(P)-h&&Ig(m>32?PM(P+";",r,n,h-1):PM(Zt(P," ","")+";",r,n,h-2),l);break;case 59:P+=";";default:if(Ig(A=LM(P,t,n,c,d,i,a,S,_=[],T=[],h),o),w===123)if(d===0)Ev(P,t,A,A,_,o,h,a,T);else switch(f===99&&pr(P,3)===110?100:f){case 100:case 108:case 109:case 115:Ev(e,A,A,r&&Ig(LM(e,A,A,0,0,i,a,S,i,_=[],h),T),i,T,h,a,r?_:T);break;default:Ev(P,A,A,A,[""],T,0,a,T)}}c=d=m=0,y=x=1,S=P="",h=s;break;case 58:h=1+is(P),m=g;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&R7()==125)continue}switch(P+=_x(w),w*y){case 38:x=d>0?1:(P+="\f",-1);break;case 44:a[c++]=(is(P)-1)*x,x=1;break;case 64:ps()===45&&(P+=_v(Ri())),f=ps(),d=h=is(S=P+=D7(wv())),w++;break;case 45:g===45&&is(P)==2&&(y=0)}}return o}function LM(e,t,n,r,i,o,s,a,l,c,d){for(var h=i-1,f=i===0?o:[""],m=I2(f),g=0,y=0,b=0;g<r;++g)for(var x=0,w=sp(e,h+1,h=C7(y=s[g])),S=e;x<m;++x)(S=d3(y>0?f[x]+" "+w:Zt(w,/&\f/g,f[x])))&&(l[b++]=S);return Sx(e,t,n,i===0?R2:a,l,c,d)}function F7(e,t,n){return Sx(e,t,n,c3,_x(P7()),sp(e,2,-2),0)}function PM(e,t,n,r){return Sx(e,t,n,O2,sp(e,0,r),sp(e,r+1,-1),r)}function Ku(e,t){for(var n="",r=I2(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function j7(e,t,n,r){switch(e.type){case T7:if(e.children.length)break;case S7:case O2:return e.return=e.return||e.value;case c3:return"";case u3:return e.return=e.value+"{"+Ku(e.children,r)+"}";case R2:e.value=e.props.join(",")}return is(n=Ku(e.children,r))?e.return=e.value+"{"+n+"}":""}function z7(e){var t=I2(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function U7(e){return function(t){t.root||(t=t.return)&&e(t)}}var H7=function(t,n,r){for(var i=0,o=0;i=o,o=ps(),i===38&&o===12&&(n[r]=1),!ap(o);)Ri();return _m(t,xi)},G7=function(t,n){var r=-1,i=44;do switch(ap(i)){case 0:i===38&&ps()===12&&(n[r]=1),t[r]+=H7(xi-1,n,r);break;case 2:t[r]+=_v(i);break;case 4:if(i===44){t[++r]=ps()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=_x(i)}while(i=Ri());return t},V7=function(t,n){return p3(G7(f3(t),n))},RM=new WeakMap,W7=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!RM.get(r))&&!i){RM.set(t,!0);for(var o=[],s=V7(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var d=0;d<a.length;d++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[d]):a[d]+" "+s[l]}}},$7=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function m3(e,t){switch(k7(e,t)){case 5103:return qt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qt+e+d0+e+Ar+e+e;case 6828:case 4268:return qt+e+Ar+e+e;case 6165:return qt+e+Ar+"flex-"+e+e;case 5187:return qt+e+Zt(e,/(\w+).+(:[^]+)/,qt+"box-$1$2"+Ar+"flex-$1$2")+e;case 5443:return qt+e+Ar+"flex-item-"+Zt(e,/flex-|-self/,"")+e;case 4675:return qt+e+Ar+"flex-line-pack"+Zt(e,/align-content|flex-|-self/,"")+e;case 5548:return qt+e+Ar+Zt(e,"shrink","negative")+e;case 5292:return qt+e+Ar+Zt(e,"basis","preferred-size")+e;case 6060:return qt+"box-"+Zt(e,"-grow","")+qt+e+Ar+Zt(e,"grow","positive")+e;case 4554:return qt+Zt(e,/([^-])(transform)/g,"$1"+qt+"$2")+e;case 6187:return Zt(Zt(Zt(e,/(zoom-|grab)/,qt+"$1"),/(image-set)/,qt+"$1"),e,"")+e;case 5495:case 3959:return Zt(e,/(image-set\([^]*)/,qt+"$1$`$1");case 4968:return Zt(Zt(e,/(.+:)(flex-)?(.*)/,qt+"box-pack:$3"+Ar+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qt+e+e;case 4095:case 3583:case 4068:case 2532:return Zt(e,/(.+)-inline(.+)/,qt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(is(e)-1-t>6)switch(pr(e,t+1)){case 109:if(pr(e,t+4)!==45)break;case 102:return Zt(e,/(.+:)(.+)-([^]+)/,"$1"+qt+"$2-$3$1"+d0+(pr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~z_(e,"stretch")?m3(Zt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(pr(e,t+1)!==115)break;case 6444:switch(pr(e,is(e)-3-(~z_(e,"!important")&&10))){case 107:return Zt(e,":",":"+qt)+e;case 101:return Zt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qt+(pr(e,14)===45?"inline-":"")+"box$3$1"+qt+"$2$3$1"+Ar+"$2box$3")+e}break;case 5936:switch(pr(e,t+11)){case 114:return qt+e+Ar+Zt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qt+e+Ar+Zt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qt+e+Ar+Zt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return qt+e+Ar+e+e}return e}var Y7=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case O2:t.return=m3(t.value,t.length);break;case u3:return Ku([Bh(t,{value:Zt(t.value,"@","@"+qt)})],i);case R2:if(t.length)return L7(t.props,function(o){switch(M7(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ku([Bh(t,{props:[Zt(o,/:(read-\w+)/,":"+d0+"$1")]})],i);case"::placeholder":return Ku([Bh(t,{props:[Zt(o,/:(plac\w+)/,":"+qt+"input-$1")]}),Bh(t,{props:[Zt(o,/:(plac\w+)/,":"+d0+"$1")]}),Bh(t,{props:[Zt(o,/:(plac\w+)/,Ar+"input-$1")]})],i)}return""})}},q7=[Y7],Z7=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||q7,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),x=1;x<b.length;x++)o[b[x]]=!0;a.push(y)});var l,c=[W7,$7];{var d,h=[j7,U7(function(y){d.insert(y)})],f=z7(c.concat(i,h)),m=function(b){return Ku(B7(b),f)};l=function(b,x,w,S){d=w,m(b?b+"{"+x.styles+"}":x.styles),S&&(g.inserted[x.name]=!0)}}var g={key:n,sheet:new E7({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},g3={exports:{}},nn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cr=typeof Symbol=="function"&&Symbol.for,N2=cr?Symbol.for("react.element"):60103,D2=cr?Symbol.for("react.portal"):60106,Tx=cr?Symbol.for("react.fragment"):60107,Cx=cr?Symbol.for("react.strict_mode"):60108,Ax=cr?Symbol.for("react.profiler"):60114,kx=cr?Symbol.for("react.provider"):60109,Mx=cr?Symbol.for("react.context"):60110,B2=cr?Symbol.for("react.async_mode"):60111,Lx=cr?Symbol.for("react.concurrent_mode"):60111,Px=cr?Symbol.for("react.forward_ref"):60112,Rx=cr?Symbol.for("react.suspense"):60113,X7=cr?Symbol.for("react.suspense_list"):60120,Ox=cr?Symbol.for("react.memo"):60115,Ix=cr?Symbol.for("react.lazy"):60116,K7=cr?Symbol.for("react.block"):60121,J7=cr?Symbol.for("react.fundamental"):60117,Q7=cr?Symbol.for("react.responder"):60118,eU=cr?Symbol.for("react.scope"):60119;function Gi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case N2:switch(e=e.type,e){case B2:case Lx:case Tx:case Ax:case Cx:case Rx:return e;default:switch(e=e&&e.$$typeof,e){case Mx:case Px:case Ix:case Ox:case kx:return e;default:return t}}case D2:return t}}}function v3(e){return Gi(e)===Lx}nn.AsyncMode=B2;nn.ConcurrentMode=Lx;nn.ContextConsumer=Mx;nn.ContextProvider=kx;nn.Element=N2;nn.ForwardRef=Px;nn.Fragment=Tx;nn.Lazy=Ix;nn.Memo=Ox;nn.Portal=D2;nn.Profiler=Ax;nn.StrictMode=Cx;nn.Suspense=Rx;nn.isAsyncMode=function(e){return v3(e)||Gi(e)===B2};nn.isConcurrentMode=v3;nn.isContextConsumer=function(e){return Gi(e)===Mx};nn.isContextProvider=function(e){return Gi(e)===kx};nn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===N2};nn.isForwardRef=function(e){return Gi(e)===Px};nn.isFragment=function(e){return Gi(e)===Tx};nn.isLazy=function(e){return Gi(e)===Ix};nn.isMemo=function(e){return Gi(e)===Ox};nn.isPortal=function(e){return Gi(e)===D2};nn.isProfiler=function(e){return Gi(e)===Ax};nn.isStrictMode=function(e){return Gi(e)===Cx};nn.isSuspense=function(e){return Gi(e)===Rx};nn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Tx||e===Lx||e===Ax||e===Cx||e===Rx||e===X7||typeof e=="object"&&e!==null&&(e.$$typeof===Ix||e.$$typeof===Ox||e.$$typeof===kx||e.$$typeof===Mx||e.$$typeof===Px||e.$$typeof===J7||e.$$typeof===Q7||e.$$typeof===eU||e.$$typeof===K7)};nn.typeOf=Gi;g3.exports=nn;var tU=g3.exports,F2=tU,nU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},iU={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},y3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},j2={};j2[F2.ForwardRef]=iU;j2[F2.Memo]=y3;function OM(e){return F2.isMemo(e)?y3:j2[e.$$typeof]||nU}var oU=Object.defineProperty,sU=Object.getOwnPropertyNames,IM=Object.getOwnPropertySymbols,aU=Object.getOwnPropertyDescriptor,lU=Object.getPrototypeOf,NM=Object.prototype;function x3(e,t,n){if(typeof t!="string"){if(NM){var r=lU(t);r&&r!==NM&&x3(e,r,n)}var i=sU(t);IM&&(i=i.concat(IM(t)));for(var o=OM(e),s=OM(t),a=0;a<i.length;++a){var l=i[a];if(!rU[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=aU(t,l);try{oU(e,l,c)}catch{}}}}return e}var cU=x3;const DM=Fc(cU);var uU=!0;function dU(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var b3=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||uU===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},hU=function(t,n,r){b3(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function fU(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var pU={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mU=/[A-Z]|^ms/g,gU=/_EMO_([^_]+?)_([^]*?)_EMO_/g,w3=function(t){return t.charCodeAt(1)===45},BM=function(t){return t!=null&&typeof t!="boolean"},z1=l3(function(e){return w3(e)?e:e.replace(mU,"-$&").toLowerCase()}),FM=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(gU,function(r,i,o){return os={name:i,styles:o,next:os},i})}return pU[t]!==1&&!w3(t)&&typeof n=="number"&&n!==0?n+"px":n};function lp(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return os={name:n.name,styles:n.styles,next:os},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)os={name:r.name,styles:r.styles,next:os},r=r.next;var i=n.styles+";";return i}return vU(e,t,n)}case"function":{if(e!==void 0){var o=os,s=n(e);return os=o,lp(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function vU(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=lp(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":BM(s)&&(r+=z1(o)+":"+FM(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)BM(s[a])&&(r+=z1(o)+":"+FM(o,s[a])+";");else{var l=lp(e,t,s);switch(o){case"animation":case"animationName":{r+=z1(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var jM=/label:\s*([^\s;\n{]+)\s*(;|$)/g,os,_3=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";os=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=lp(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=lp(r,n,t[a]),i&&(o+=s[a]);jM.lastIndex=0;for(var l="",c;(c=jM.exec(o))!==null;)l+="-"+c[1];var d=fU(o)+l;return{name:d,styles:o,next:os}},yU=function(t){return t()},xU=Ww["useInsertionEffect"]?Ww["useInsertionEffect"]:!1,bU=xU||yU,E3=R.createContext(typeof HTMLElement<"u"?Z7({key:"css"}):null);E3.Provider;var wU=function(t){return R.forwardRef(function(n,r){var i=R.useContext(E3);return t(n,i,r)})},z2=R.createContext({});function U2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _3(t)}var Em=function(){var t=U2.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},_U=b7,EU=function(t){return t!=="theme"},zM=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?_U:EU},UM=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},SU=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return b3(n,r,i),bU(function(){return hU(n,r,i)}),null},TU=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=UM(t,n,r),l=a||zM(i),c=!l("as");return function(){var d=arguments,h=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&h.push("label:"+o+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],d[0][m])}var g=wU(function(y,b,x){var w=c&&y.as||i,S="",_=[],T=y;if(y.theme==null){T={};for(var A in y)T[A]=y[A];T.theme=R.useContext(z2)}typeof y.className=="string"?S=dU(b.registered,_,y.className):y.className!=null&&(S=y.className+" ");var P=_3(h.concat(_),b.registered,T);S+=b.key+"-"+P.name,s!==void 0&&(S+=" "+s);var k=c&&a===void 0?zM(w):l,M={};for(var I in y)c&&I==="as"||k(I)&&(M[I]=y[I]);return M.className=S,M.ref=x,R.createElement(R.Fragment,null,R.createElement(SU,{cache:b,serialized:P,isStringTag:typeof w=="string"}),R.createElement(w,M))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=h,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(y,b){return e(y,Q({},n,b,{shouldForwardProp:UM(g,b,!0)})).apply(void 0,h)},g}},CU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],H_=TU.bind();CU.forEach(function(e){H_[e]=H_(e)});/**
 * @mui/styled-engine v5.14.17
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function AU(e,t){return H_(e,t)}const kU=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},MU=["values","unit","step"],LU=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>Q({},n,{[r.key]:r.val}),{})};function PU(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=mt(e,MU),o=LU(t),s=Object.keys(o);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-r/100}${n})`}function c(f,m){const g=s.indexOf(m);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n}) and (max-width:${(g!==-1&&typeof t[s[g]]=="number"?t[s[g]]:m)-r/100}${n})`}function d(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function h(f){const m=s.indexOf(f);return m===0?a(s[1]):m===s.length-1?l(s[m]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return Q({keys:s,values:o,up:a,down:l,between:c,only:d,not:h,unit:n},i)}const RU={borderRadius:4},OU=RU;function bf(e,t){return t?Go(e,t,{clone:!1}):e}const H2={xs:0,sm:600,md:900,lg:1200,xl:1536},HM={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${H2[e]}px)`};function la(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||HM;return t.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(t[l]),s),{})}if(typeof t=="object"){const o=r.breakpoints||HM;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||H2).indexOf(a)!==-1){const l=o.up(a);s[l]=n(t[a],a)}else{const l=a;s[l]=t[l]}return s},{})}return n(t)}function IU(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function NU(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function Nx(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function h0(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Nx(e,n)||r,t&&(i=t(i,r,e)),i}function Jt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],l=s.theme,c=Nx(l,r)||{};return la(s,a,h=>{let f=h0(c,i,h);return h===f&&typeof h=="string"&&(f=h0(c,i,`${t}${h==="default"?"":Nt(h)}`,h)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[t],o}function DU(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const BU={m:"margin",p:"padding"},FU={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},jU=DU(e=>{if(e.length>2)if(GM[e])e=GM[e];else return[e];const[t,n]=e.split(""),r=BU[t],i=FU[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),G2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],V2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...G2,...V2];function Sm(e,t,n,r){var i;const o=(i=Nx(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function S3(e){return Sm(e,"spacing",8)}function Tm(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function zU(e,t){return n=>e.reduce((r,i)=>(r[i]=Tm(t,n),r),{})}function UU(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=jU(n),o=zU(i,r),s=e[n];return la(e,s,o)}function T3(e,t){const n=S3(e.theme);return Object.keys(e).map(r=>UU(e,t,r,n)).reduce(bf,{})}function Ln(e){return T3(e,G2)}Ln.propTypes={};Ln.filterProps=G2;function Pn(e){return T3(e,V2)}Pn.propTypes={};Pn.filterProps=V2;function HU(e=8){if(e.mui)return e;const t=S3({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Dx(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?bf(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function as(e){return typeof e!="number"?e:`${e}px solid`}const GU=Jt({prop:"border",themeKey:"borders",transform:as}),VU=Jt({prop:"borderTop",themeKey:"borders",transform:as}),WU=Jt({prop:"borderRight",themeKey:"borders",transform:as}),$U=Jt({prop:"borderBottom",themeKey:"borders",transform:as}),YU=Jt({prop:"borderLeft",themeKey:"borders",transform:as}),qU=Jt({prop:"borderColor",themeKey:"palette"}),ZU=Jt({prop:"borderTopColor",themeKey:"palette"}),XU=Jt({prop:"borderRightColor",themeKey:"palette"}),KU=Jt({prop:"borderBottomColor",themeKey:"palette"}),JU=Jt({prop:"borderLeftColor",themeKey:"palette"}),Bx=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Sm(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Tm(t,r)});return la(e,e.borderRadius,n)}return null};Bx.propTypes={};Bx.filterProps=["borderRadius"];Dx(GU,VU,WU,$U,YU,qU,ZU,XU,KU,JU,Bx);const Fx=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Sm(e.theme,"spacing",8),n=r=>({gap:Tm(t,r)});return la(e,e.gap,n)}return null};Fx.propTypes={};Fx.filterProps=["gap"];const jx=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Sm(e.theme,"spacing",8),n=r=>({columnGap:Tm(t,r)});return la(e,e.columnGap,n)}return null};jx.propTypes={};jx.filterProps=["columnGap"];const zx=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Sm(e.theme,"spacing",8),n=r=>({rowGap:Tm(t,r)});return la(e,e.rowGap,n)}return null};zx.propTypes={};zx.filterProps=["rowGap"];const QU=Jt({prop:"gridColumn"}),eH=Jt({prop:"gridRow"}),tH=Jt({prop:"gridAutoFlow"}),nH=Jt({prop:"gridAutoColumns"}),rH=Jt({prop:"gridAutoRows"}),iH=Jt({prop:"gridTemplateColumns"}),oH=Jt({prop:"gridTemplateRows"}),sH=Jt({prop:"gridTemplateAreas"}),aH=Jt({prop:"gridArea"});Dx(Fx,jx,zx,QU,eH,tH,nH,rH,iH,oH,sH,aH);function Ju(e,t){return t==="grey"?t:e}const lH=Jt({prop:"color",themeKey:"palette",transform:Ju}),cH=Jt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ju}),uH=Jt({prop:"backgroundColor",themeKey:"palette",transform:Ju});Dx(lH,cH,uH);function Ai(e){return e<=1&&e!==0?`${e*100}%`:e}const dH=Jt({prop:"width",transform:Ai}),W2=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||H2[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Ai(n)}};return la(e,e.maxWidth,t)}return null};W2.filterProps=["maxWidth"];const hH=Jt({prop:"minWidth",transform:Ai}),fH=Jt({prop:"height",transform:Ai}),pH=Jt({prop:"maxHeight",transform:Ai}),mH=Jt({prop:"minHeight",transform:Ai});Jt({prop:"size",cssProperty:"width",transform:Ai});Jt({prop:"size",cssProperty:"height",transform:Ai});const gH=Jt({prop:"boxSizing"});Dx(dH,W2,hH,fH,pH,mH,gH);const vH={border:{themeKey:"borders",transform:as},borderTop:{themeKey:"borders",transform:as},borderRight:{themeKey:"borders",transform:as},borderBottom:{themeKey:"borders",transform:as},borderLeft:{themeKey:"borders",transform:as},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Bx},color:{themeKey:"palette",transform:Ju},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ju},backgroundColor:{themeKey:"palette",transform:Ju},p:{style:Pn},pt:{style:Pn},pr:{style:Pn},pb:{style:Pn},pl:{style:Pn},px:{style:Pn},py:{style:Pn},padding:{style:Pn},paddingTop:{style:Pn},paddingRight:{style:Pn},paddingBottom:{style:Pn},paddingLeft:{style:Pn},paddingX:{style:Pn},paddingY:{style:Pn},paddingInline:{style:Pn},paddingInlineStart:{style:Pn},paddingInlineEnd:{style:Pn},paddingBlock:{style:Pn},paddingBlockStart:{style:Pn},paddingBlockEnd:{style:Pn},m:{style:Ln},mt:{style:Ln},mr:{style:Ln},mb:{style:Ln},ml:{style:Ln},mx:{style:Ln},my:{style:Ln},margin:{style:Ln},marginTop:{style:Ln},marginRight:{style:Ln},marginBottom:{style:Ln},marginLeft:{style:Ln},marginX:{style:Ln},marginY:{style:Ln},marginInline:{style:Ln},marginInlineStart:{style:Ln},marginInlineEnd:{style:Ln},marginBlock:{style:Ln},marginBlockStart:{style:Ln},marginBlockEnd:{style:Ln},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Fx},rowGap:{style:zx},columnGap:{style:jx},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ai},maxWidth:{style:W2},minWidth:{transform:Ai},height:{transform:Ai},maxHeight:{transform:Ai},minHeight:{transform:Ai},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},$2=vH;function yH(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function xH(e,t){return typeof e=="function"?e(t):e}function bH(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Nx(i,c)||{};return h?h(s):la(s,r,g=>{let y=h0(f,d,g);return g===y&&typeof g=="string"&&(y=h0(f,d,`${n}${g==="default"?"":Nt(g)}`,g)),l===!1?y:{[l]:y}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:$2;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const d=IU(o.breakpoints),h=Object.keys(d);let f=d;return Object.keys(c).forEach(m=>{const g=xH(c[m],o);if(g!=null)if(typeof g=="object")if(s[m])f=bf(f,e(m,g,o,s));else{const y=la({theme:o},g,b=>({[m]:b}));yH(y,g)?f[m]=t({sx:g,theme:o}):f=bf(f,y)}else f=bf(f,e(m,g,o,s))}),NU(h,f)}return Array.isArray(i)?i.map(a):a(i)}return t}const C3=bH();C3.filterProps=["sx"];const Y2=C3,wH=["breakpoints","palette","spacing","shape"];function q2(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=mt(e,wH),a=PU(n),l=HU(i);let c=Go({breakpoints:a,direction:"ltr",components:{},palette:Q({mode:"light"},r),spacing:l,shape:Q({},OU,o)},s);return c=t.reduce((d,h)=>Go(d,h),c),c.unstable_sxConfig=Q({},$2,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(h){return Y2({sx:h,theme:this})},c}function _H(e){return Object.keys(e).length===0}function Z2(e=null){const t=R.useContext(z2);return!t||_H(t)?e:t}const EH=q2();function A3(e=EH){return Z2(e)}function k3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=k3(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function jt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=k3(e))&&(r&&(r+=" "),r+=t);return r}const SH=["variant"];function VM(e){return e.length===0}function M3(e){const{variant:t}=e,n=mt(e,SH);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=VM(r)?e[i]:Nt(e[i]):r+=`${VM(r)?i:Nt(i)}${Nt(e[i].toString())}`}),r}const TH=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function CH(e){return Object.keys(e).length===0}function AH(e){return typeof e=="string"&&e.charCodeAt(0)>96}const kH=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,f0=e=>{const t={};return e&&e.forEach(n=>{const r=M3(n.props);t[r]=n.style}),t},MH=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),f0(n)},p0=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach(o=>{let s=!0;Object.keys(o.props).forEach(a=>{r[a]!==o.props[a]&&e[a]!==o.props[a]&&(s=!1)}),s&&i.push(t[M3(o.props)])}),i},LH=(e,t,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return p0(e,t,o)};function Sv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const PH=q2(),RH=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Tv({defaultTheme:e,theme:t,themeId:n}){return CH(t)?e:t[n]||t}function OH(e){return e?(t,n)=>n[e]:null}const WM=({styledArg:e,props:t,defaultTheme:n,themeId:r})=>{const i=e(Q({},t,{theme:Tv(Q({},t,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const s=p0(t,f0(o),o);return[i,...s]}return i};function IH(e={}){const{themeId:t,defaultTheme:n=PH,rootShouldForwardProp:r=Sv,slotShouldForwardProp:i=Sv}=e,o=s=>Y2(Q({},s,{theme:Tv(Q({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{kU(s,_=>_.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:f=OH(RH(c))}=a,m=mt(a,TH),g=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,y=h||!1;let b,x=Sv;c==="Root"||c==="root"?x=r:c?x=i:AH(s)&&(x=void 0);const w=AU(s,Q({shouldForwardProp:x,label:b},m)),S=(_,...T)=>{const A=T?T.map(I=>{if(typeof I=="function"&&I.__emotion_real!==I)return N=>WM({styledArg:I,props:N,defaultTheme:n,themeId:t});if(Ua(I)){let N=I,U;return I&&I.variants&&(U=I.variants,delete N.variants,N=Y=>{let H=I;return p0(Y,f0(U),U).forEach(Z=>{H=Go(H,Z)}),H}),N}return I}):[];let P=_;if(Ua(_)){let I;_&&_.variants&&(I=_.variants,delete P.variants,P=N=>{let U=_;return p0(N,f0(I),I).forEach(H=>{U=Go(U,H)}),U})}else typeof _=="function"&&_.__emotion_real!==_&&(P=I=>WM({styledArg:_,props:I,defaultTheme:n,themeId:t}));l&&f&&A.push(I=>{const N=Tv(Q({},I,{defaultTheme:n,themeId:t})),U=kH(l,N);if(U){const Y={};return Object.entries(U).forEach(([H,G])=>{Y[H]=typeof G=="function"?G(Q({},I,{theme:N})):G}),f(I,Y)}return null}),l&&!g&&A.push(I=>{const N=Tv(Q({},I,{defaultTheme:n,themeId:t}));return LH(I,MH(l,N),N,l)}),y||A.push(o);const k=A.length-T.length;if(Array.isArray(_)&&k>0){const I=new Array(k).fill("");P=[..._,...I],P.raw=[..._.raw,...I]}const M=w(P,...A);return s.muiName&&(M.muiName=s.muiName),M};return w.withConfig&&(S.withConfig=w.withConfig),S}}function NH(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:P2(t.components[n].defaultProps,r)}function DH({props:e,name:t,defaultTheme:n,themeId:r}){let i=A3(n);return r&&(i=i[r]||i),NH({theme:i,name:t,props:e})}function X2(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function BH(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Sc(e){if(e.type)return e;if(e.charAt(0)==="#")return Sc(BH(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(pd(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(pd(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function Ux(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function FH(e){e=Sc(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(c,d=(c+n/30)%12)=>i-o*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Ux({type:a,values:l})}function $M(e){e=Sc(e);let t=e.type==="hsl"||e.type==="hsla"?Sc(FH(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function jH(e,t){const n=$M(e),r=$M(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Zr(e,t){return e=Sc(e),t=X2(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Ux(e)}function G_(e,t){if(e=Sc(e),t=X2(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Ux(e)}function V_(e,t){if(e=Sc(e),t=X2(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Ux(e)}const zH=R.createContext(null),L3=zH;function P3(){return R.useContext(L3)}const UH=typeof Symbol=="function"&&Symbol.for,HH=UH?Symbol.for("mui.nested"):"__THEME_NESTED__";function GH(e,t){return typeof t=="function"?t(e):Q({},e,t)}function VH(e){const{children:t,theme:n}=e,r=P3(),i=R.useMemo(()=>{const o=r===null?n:GH(r,n);return o!=null&&(o[HH]=r!==null),o},[n,r]);return v.jsx(L3.Provider,{value:i,children:t})}const YM={};function qM(e,t,n,r=!1){return R.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?Q({},t,{[e]:o}):o;return r?()=>s:s}return e?Q({},t,{[e]:n}):Q({},t,n)},[e,t,n,r])}function WH(e){const{children:t,theme:n,themeId:r}=e,i=Z2(YM),o=P3()||YM,s=qM(r,i,n),a=qM(r,o,n,!0);return v.jsx(VH,{theme:a,children:v.jsx(z2.Provider,{value:s,children:t})})}function $H(e,t){return Q({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const YH=["mode","contrastThreshold","tonalOffset"],ZM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ip.white,default:ip.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},U1={text:{primary:ip.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ip.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function XM(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=V_(e.main,i):t==="dark"&&(e.dark=G_(e.main,o)))}function qH(e="light"){return e==="dark"?{main:ou[200],light:ou[50],dark:ou[400]}:{main:ou[700],light:ou[400],dark:ou[800]}}function ZH(e="light"){return e==="dark"?{main:iu[200],light:iu[50],dark:iu[400]}:{main:iu[500],light:iu[300],dark:iu[700]}}function XH(e="light"){return e==="dark"?{main:ru[500],light:ru[300],dark:ru[700]}:{main:ru[700],light:ru[400],dark:ru[800]}}function KH(e="light"){return e==="dark"?{main:su[400],light:su[300],dark:su[700]}:{main:su[700],light:su[500],dark:su[900]}}function JH(e="light"){return e==="dark"?{main:au[400],light:au[300],dark:au[700]}:{main:au[800],light:au[500],dark:au[900]}}function QH(e="light"){return e==="dark"?{main:Dh[400],light:Dh[300],dark:Dh[700]}:{main:"#ed6c02",light:Dh[500],dark:Dh[900]}}function eG(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=mt(e,YH),o=e.primary||qH(t),s=e.secondary||ZH(t),a=e.error||XH(t),l=e.info||KH(t),c=e.success||JH(t),d=e.warning||QH(t);function h(y){return jH(y,U1.text.primary)>=n?U1.text.primary:ZM.text.primary}const f=({color:y,name:b,mainShade:x=500,lightShade:w=300,darkShade:S=700})=>{if(y=Q({},y),!y.main&&y[x]&&(y.main=y[x]),!y.hasOwnProperty("main"))throw new Error(pd(11,b?` (${b})`:"",x));if(typeof y.main!="string")throw new Error(pd(12,b?` (${b})`:"",JSON.stringify(y.main)));return XM(y,"light",w,r),XM(y,"dark",S,r),y.contrastText||(y.contrastText=h(y.main)),y},m={dark:U1,light:ZM};return Go(Q({common:Q({},ip),mode:t,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:t7,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r},m[t]),i)}const tG=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function nG(e){return Math.round(e*1e5)/1e5}const KM={textTransform:"uppercase"},JM='"Roboto", "Helvetica", "Arial", sans-serif';function rG(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=JM,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:h}=n,f=mt(n,tG),m=i/14,g=h||(x=>`${x/c*m}rem`),y=(x,w,S,_,T)=>Q({fontFamily:r,fontWeight:x,fontSize:g(w),lineHeight:S},r===JM?{letterSpacing:`${nG(_/w)}em`}:{},T,d),b={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(a,14,1.75,.4,KM),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,KM),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Go(Q({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},b),f,{clone:!1})}const iG=.2,oG=.14,sG=.12;function yn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${iG})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${oG})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${sG})`].join(",")}const aG=["none",yn(0,2,1,-1,0,1,1,0,0,1,3,0),yn(0,3,1,-2,0,2,2,0,0,1,5,0),yn(0,3,3,-2,0,3,4,0,0,1,8,0),yn(0,2,4,-1,0,4,5,0,0,1,10,0),yn(0,3,5,-1,0,5,8,0,0,1,14,0),yn(0,3,5,-1,0,6,10,0,0,1,18,0),yn(0,4,5,-2,0,7,10,1,0,2,16,1),yn(0,5,5,-3,0,8,10,1,0,3,14,2),yn(0,5,6,-3,0,9,12,1,0,3,16,2),yn(0,6,6,-3,0,10,14,1,0,4,18,3),yn(0,6,7,-4,0,11,15,1,0,4,20,3),yn(0,7,8,-4,0,12,17,2,0,5,22,4),yn(0,7,8,-4,0,13,19,2,0,5,24,4),yn(0,7,9,-4,0,14,21,2,0,5,26,4),yn(0,8,9,-5,0,15,22,2,0,6,28,5),yn(0,8,10,-5,0,16,24,2,0,6,30,5),yn(0,8,11,-5,0,17,26,2,0,6,32,5),yn(0,9,11,-5,0,18,28,2,0,7,34,6),yn(0,9,12,-6,0,19,29,2,0,7,36,6),yn(0,10,13,-6,0,20,31,3,0,8,38,7),yn(0,10,13,-6,0,21,33,3,0,8,40,7),yn(0,10,14,-6,0,22,35,3,0,8,42,7),yn(0,11,14,-7,0,23,36,3,0,9,44,8),yn(0,11,15,-7,0,24,38,3,0,9,46,8)],lG=aG,cG=["duration","easing","delay"],uG={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function QM(e){return`${Math.round(e)}ms`}function hG(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function fG(e){const t=Q({},uG,e.easing),n=Q({},dG,e.duration);return Q({getAutoHeightDuration:hG,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:l=0}=o;return mt(o,cG),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:QM(s)} ${a} ${typeof l=="string"?l:QM(l)}`).join(",")}},e,{easing:t,duration:n})}const pG={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},mG=pG,gG=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function R3(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=mt(e,gG);if(e.vars)throw new Error(pd(18));const a=eG(r),l=q2(e);let c=Go(l,{mixins:$H(l.breakpoints,n),palette:a,shadows:lG.slice(),typography:rG(a,o),transitions:fG(i),zIndex:Q({},mG)});return c=Go(c,s),c=t.reduce((d,h)=>Go(d,h),c),c.unstable_sxConfig=Q({},$2,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(h){return Y2({sx:h,theme:this})},c}const vG=R3(),K2=vG;function Hx(){const e=A3(K2);return e[op]||e}function _r({props:e,name:t}){return DH({props:e,name:t,defaultTheme:K2,themeId:op})}const Gx=e=>Sv(e)&&e!=="classes",yG=IH({themeId:op,defaultTheme:K2,rootShouldForwardProp:Gx}),Wt=yG,xG=["theme"];function bG(e){let{theme:t}=e,n=mt(e,xG);const r=t[op];return v.jsx(WH,Q({},n,{themeId:r?op:void 0,theme:r||t}))}const wG=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},eL=wG;function _G(e){return wr("MuiSvgIcon",e)}Jn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const EG=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],SG=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Nt(t)}`,`fontSize${Nt(n)}`]};return Dr(i,_G,r)},TG=Wt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Nt(n.color)}`],t[`fontSize${Nt(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,l,c,d,h,f,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[t.fontSize],color:(h=(f=(e.vars||e).palette)==null||(f=f[t.color])==null?void 0:f.main)!=null?h:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),O3=R.forwardRef(function(t,n){const r=_r({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24"}=r,m=mt(r,EG),g=R.isValidElement(i)&&i.type==="svg",y=Q({},r,{color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:g}),b={};d||(b.viewBox=f);const x=SG(y);return v.jsxs(TG,Q({as:a,className:jt(x.root,o),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},b,m,g&&i.props,{ownerState:y,children:[g?i.props.children:i,h?v.jsx("title",{children:h}):null]}))});O3.muiName="SvgIcon";const tL=O3;function Qn(e,t){function n(r,i){return v.jsx(tL,Q({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=tL.muiName,R.memo(R.forwardRef(n))}const CG={configure:e=>{a3.configure(e)}},AG=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Nt,createChainedFunction:F_,createSvgIcon:Qn,debounce:r3,deprecatedPropType:i7,isMuiElement:o7,ownerDocument:Jr,ownerWindow:md,requirePropFactory:s7,setRef:u0,unstable_ClassNameGenerator:CG,unstable_useEnhancedEffect:xl,unstable_useId:i3,unsupportedProp:c7,useControlled:o3,useEventCallback:Wa,useForkRef:ei,useIsFocusVisible:L2},Symbol.toStringTag,{value:"Module"}));function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W_(e,t)}function Vx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,W_(e,t)}const nL={disabled:!1},m0=_e.createContext(null);var kG=function(t){return t.scrollTop},rf="unmounted",ql="exited",Zl="entering",xu="entered",$_="exiting",ya=function(e){Vx(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=ql,o.appearStatus=Zl):l=xu:r.unmountOnExit||r.mountOnEnter?l=rf:l=ql,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===rf?{status:ql}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Zl&&s!==xu&&(o=Zl):(s===Zl||s===xu)&&(o=$_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Zl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:nf.findDOMNode(this);s&&kG(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ql&&this.setState({status:rf})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[nf.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!s||nL.disabled){this.safeSetState({status:xu},function(){o.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Zl},function(){o.props.onEntering(c,d),o.onTransitionEnd(f,function(){o.safeSetState({status:xu},function(){o.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:nf.findDOMNode(this);if(!o||nL.disabled){this.safeSetState({status:ql},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:$_},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:ql},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:nf.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===rf)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=mt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _e.createElement(m0.Provider,{value:null},typeof s=="function"?s(i,a):_e.cloneElement(_e.Children.only(s),a))},t}(_e.Component);ya.contextType=m0;ya.propTypes={};function lu(){}ya.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lu,onEntering:lu,onEntered:lu,onExit:lu,onExiting:lu,onExited:lu};ya.UNMOUNTED=rf;ya.EXITED=ql;ya.ENTERING=Zl;ya.ENTERED=xu;ya.EXITING=$_;const I3=ya;function MG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J2(e,t){var n=function(o){return t&&R.isValidElement(o)?t(o):o},r=Object.create(null);return e&&R.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function LG(e,t){e=e||{},t=t||{};function n(d){return d in t?t[d]:e[d]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function sc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function PG(e,t){return J2(e.children,function(n){return R.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:sc(n,"appear",e),enter:sc(n,"enter",e),exit:sc(n,"exit",e)})})}function RG(e,t,n){var r=J2(e.children),i=LG(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(R.isValidElement(s)){var a=o in t,l=o in r,c=t[o],d=R.isValidElement(c)&&!c.props.in;l&&(!a||d)?i[o]=R.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:sc(s,"exit",e),enter:sc(s,"enter",e)}):!l&&a&&!d?i[o]=R.cloneElement(s,{in:!1}):l&&a&&R.isValidElement(c)&&(i[o]=R.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:sc(s,"exit",e),enter:sc(s,"enter",e)}))}}),i}var OG=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},IG={component:"div",childFactory:function(t){return t}},Q2=function(e){Vx(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(MG(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?PG(i,a):RG(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=J2(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=Q({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=mt(i,["component","childFactory"]),l=this.state.contextValue,c=OG(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?_e.createElement(m0.Provider,{value:l},c):_e.createElement(m0.Provider,{value:l},_e.createElement(o,a,c))},t}(_e.Component);Q2.propTypes={};Q2.defaultProps=IG;const NG=Q2,N3=e=>e.scrollTop;function g0(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function DG(e){return wr("MuiPaper",e)}Jn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const BG=["className","component","elevation","square","variant"],FG=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Dr(o,DG,i)},jG=Wt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return Q({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&Q({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Zr("#fff",eL(t.elevation))}, ${Zr("#fff",eL(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),zG=R.forwardRef(function(t,n){const r=_r({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=mt(r,BG),d=Q({},r,{component:o,elevation:s,square:a,variant:l}),h=FG(d);return v.jsx(jG,Q({as:o,ownerState:d,className:jt(h.root,i),ref:n},c))}),D3=zG;function UG(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=e,[d,h]=R.useState(!1),f=jt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=jt(n.child,d&&n.childLeaving,r&&n.childPulsate);return!a&&!d&&h(!0),R.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),v.jsx("span",{className:f,style:m,children:v.jsx("span",{className:g})})}const HG=Jn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Qi=HG,GG=["center","classes","className"];let Wx=e=>e,rL,iL,oL,sL;const Y_=550,VG=80,WG=Em(rL||(rL=Wx`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),$G=Em(iL||(iL=Wx`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),YG=Em(oL||(oL=Wx`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),qG=Wt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ZG=Wt(UG,{name:"MuiTouchRipple",slot:"Ripple"})(sL||(sL=Wx`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Qi.rippleVisible,WG,Y_,({theme:e})=>e.transitions.easing.easeInOut,Qi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Qi.child,Qi.childLeaving,$G,Y_,({theme:e})=>e.transitions.easing.easeInOut,Qi.childPulsate,YG,({theme:e})=>e.transitions.easing.easeInOut),XG=R.forwardRef(function(t,n){const r=_r({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=mt(r,GG),[l,c]=R.useState([]),d=R.useRef(0),h=R.useRef(null);R.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=R.useRef(!1),m=R.useRef(0),g=R.useRef(null),y=R.useRef(null);R.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const b=R.useCallback(_=>{const{pulsate:T,rippleX:A,rippleY:P,rippleSize:k,cb:M}=_;c(I=>[...I,v.jsx(ZG,{classes:{ripple:jt(o.ripple,Qi.ripple),rippleVisible:jt(o.rippleVisible,Qi.rippleVisible),ripplePulsate:jt(o.ripplePulsate,Qi.ripplePulsate),child:jt(o.child,Qi.child),childLeaving:jt(o.childLeaving,Qi.childLeaving),childPulsate:jt(o.childPulsate,Qi.childPulsate)},timeout:Y_,pulsate:T,rippleX:A,rippleY:P,rippleSize:k},d.current)]),d.current+=1,h.current=M},[o]),x=R.useCallback((_={},T={},A=()=>{})=>{const{pulsate:P=!1,center:k=i||T.pulsate,fakeElement:M=!1}=T;if((_==null?void 0:_.type)==="mousedown"&&f.current){f.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(f.current=!0);const I=M?null:y.current,N=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,Y,H;if(k||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)U=Math.round(N.width/2),Y=Math.round(N.height/2);else{const{clientX:G,clientY:Z}=_.touches&&_.touches.length>0?_.touches[0]:_;U=Math.round(G-N.left),Y=Math.round(Z-N.top)}if(k)H=Math.sqrt((2*N.width**2+N.height**2)/3),H%2===0&&(H+=1);else{const G=Math.max(Math.abs((I?I.clientWidth:0)-U),U)*2+2,Z=Math.max(Math.abs((I?I.clientHeight:0)-Y),Y)*2+2;H=Math.sqrt(G**2+Z**2)}_!=null&&_.touches?g.current===null&&(g.current=()=>{b({pulsate:P,rippleX:U,rippleY:Y,rippleSize:H,cb:A})},m.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},VG)):b({pulsate:P,rippleX:U,rippleY:Y,rippleSize:H,cb:A})},[i,b]),w=R.useCallback(()=>{x({},{pulsate:!0})},[x]),S=R.useCallback((_,T)=>{if(clearTimeout(m.current),(_==null?void 0:_.type)==="touchend"&&g.current){g.current(),g.current=null,m.current=setTimeout(()=>{S(_,T)});return}g.current=null,c(A=>A.length>0?A.slice(1):A),h.current=T},[]);return R.useImperativeHandle(n,()=>({pulsate:w,start:x,stop:S}),[w,x,S]),v.jsx(qG,Q({className:jt(Qi.root,o.root,s),ref:y},a,{children:v.jsx(NG,{component:null,exit:!0,children:l})}))}),KG=XG;function JG(e){return wr("MuiButtonBase",e)}const QG=Jn("MuiButtonBase",["root","disabled","focusVisible"]),eV=QG,tV=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],nV=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=Dr({root:["root",t&&"disabled",n&&"focusVisible"]},JG,i);return n&&r&&(s.root+=` ${r}`),s},rV=Wt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${eV.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),iV=R.forwardRef(function(t,n){const r=_r({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:g,onClick:y,onContextMenu:b,onDragLeave:x,onFocus:w,onFocusVisible:S,onKeyDown:_,onKeyUp:T,onMouseDown:A,onMouseLeave:P,onMouseUp:k,onTouchEnd:M,onTouchMove:I,onTouchStart:N,tabIndex:U=0,TouchRippleProps:Y,touchRippleRef:H,type:G}=r,Z=mt(r,tV),ee=R.useRef(null),V=R.useRef(null),B=ei(V,H),{isFocusVisibleRef:D,onFocus:J,onBlur:j,ref:oe}=L2(),[q,te]=R.useState(!1);c&&q&&te(!1),R.useImperativeHandle(i,()=>({focusVisible:()=>{te(!0),ee.current.focus()}}),[]);const[ne,le]=R.useState(!1);R.useEffect(()=>{le(!0)},[]);const ue=ne&&!d&&!c;R.useEffect(()=>{q&&f&&!d&&ne&&V.current.pulsate()},[d,f,q,ne]);function he(de,Te,nt=h){return Wa(Oe=>(Te&&Te(Oe),!nt&&V.current&&V.current[de](Oe),!0))}const se=he("start",A),we=he("stop",b),Fe=he("stop",x),ge=he("stop",k),Ge=he("stop",de=>{q&&de.preventDefault(),P&&P(de)}),Ue=he("start",N),gt=he("stop",M),ut=he("stop",I),Et=he("stop",de=>{j(de),D.current===!1&&te(!1),g&&g(de)},!1),Ht=Wa(de=>{ee.current||(ee.current=de.currentTarget),J(de),D.current===!0&&(te(!0),S&&S(de)),w&&w(de)}),Ke=()=>{const de=ee.current;return l&&l!=="button"&&!(de.tagName==="A"&&de.href)},xt=R.useRef(!1),St=Wa(de=>{f&&!xt.current&&q&&V.current&&de.key===" "&&(xt.current=!0,V.current.stop(de,()=>{V.current.start(de)})),de.target===de.currentTarget&&Ke()&&de.key===" "&&de.preventDefault(),_&&_(de),de.target===de.currentTarget&&Ke()&&de.key==="Enter"&&!c&&(de.preventDefault(),y&&y(de))}),_n=Wa(de=>{f&&de.key===" "&&V.current&&q&&!de.defaultPrevented&&(xt.current=!1,V.current.stop(de,()=>{V.current.pulsate(de)})),T&&T(de),y&&de.target===de.currentTarget&&Ke()&&de.key===" "&&!de.defaultPrevented&&y(de)});let ot=l;ot==="button"&&(Z.href||Z.to)&&(ot=m);const Kt={};ot==="button"?(Kt.type=G===void 0?"button":G,Kt.disabled=c):(!Z.href&&!Z.to&&(Kt.role="button"),c&&(Kt["aria-disabled"]=c));const Ze=ei(n,oe,ee),st=Q({},r,{centerRipple:o,component:l,disabled:c,disableRipple:d,disableTouchRipple:h,focusRipple:f,tabIndex:U,focusVisible:q}),re=nV(st);return v.jsxs(rV,Q({as:ot,className:jt(re.root,a),ownerState:st,onBlur:Et,onClick:y,onContextMenu:we,onFocus:Ht,onKeyDown:St,onKeyUp:_n,onMouseDown:se,onMouseLeave:Ge,onMouseUp:ge,onDragLeave:Fe,onTouchEnd:gt,onTouchMove:ut,onTouchStart:Ue,ref:Ze,tabIndex:c?-1:U,type:G},Kt,Z,{children:[s,ue?v.jsx(KG,Q({ref:B,center:o},Y)):null]}))}),eT=iV;function oV(e){return wr("MuiAlert",e)}const sV=Jn("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),aL=sV;function aV(e){return wr("MuiIconButton",e)}const lV=Jn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),cV=lV,uV=["edge","children","className","color","disabled","disableFocusRipple","size"],dV=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled",r!=="default"&&`color${Nt(r)}`,i&&`edge${Nt(i)}`,`size${Nt(o)}`]};return Dr(s,aV,t)},hV=Wt(eT,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Nt(n.color)}`],n.edge&&t[`edge${Nt(n.edge)}`],t[`size${Nt(n.size)}`]]}})(({theme:e,ownerState:t})=>Q({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Zr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return Q({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&Q({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":Q({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zr(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${cV.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),fV=R.forwardRef(function(t,n){const r=_r({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:d="medium"}=r,h=mt(r,uV),f=Q({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:d}),m=dV(f);return v.jsx(hV,Q({className:jt(m.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,ownerState:f},h,{children:o}))}),pV=fV,mV=Qn(v.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),gV=Qn(v.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),vV=Qn(v.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),yV=Qn(v.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),xV=Qn(v.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),bV=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],wV=e=>{const{variant:t,color:n,severity:r,classes:i}=e,o={root:["root",`${t}${Nt(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Dr(o,oV,i)},_V=Wt(D3,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Nt(n.color||n.severity)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?G_:V_,r=e.palette.mode==="light"?V_:G_,i=t.color||t.severity;return Q({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&t.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${i}Color`]:n(e.palette[i].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${i}StandardBg`]:r(e.palette[i].light,.9),[`& .${aL.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:e.palette[i].main}},i&&t.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${i}Color`]:n(e.palette[i].light,.6),border:`1px solid ${(e.vars||e).palette[i].light}`,[`& .${aL.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:e.palette[i].main}},i&&t.variant==="filled"&&Q({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${i}FilledColor`],backgroundColor:e.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[i].dark:e.palette[i].main,color:e.palette.getContrastText(e.palette[i].main)}))}),EV=Wt("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),SV=Wt("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),lL=Wt("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),cL={success:v.jsx(mV,{fontSize:"inherit"}),warning:v.jsx(gV,{fontSize:"inherit"}),error:v.jsx(vV,{fontSize:"inherit"}),info:v.jsx(yV,{fontSize:"inherit"})},TV=R.forwardRef(function(t,n){var r,i,o,s,a,l;const c=_r({props:t,name:"MuiAlert"}),{action:d,children:h,className:f,closeText:m="Close",color:g,components:y={},componentsProps:b={},icon:x,iconMapping:w=cL,onClose:S,role:_="alert",severity:T="success",slotProps:A={},slots:P={},variant:k="standard"}=c,M=mt(c,bV),I=Q({},c,{color:g,severity:T,variant:k}),N=wV(I),U=(r=(i=P.closeButton)!=null?i:y.CloseButton)!=null?r:pV,Y=(o=(s=P.closeIcon)!=null?s:y.CloseIcon)!=null?o:xV,H=(a=A.closeButton)!=null?a:b.closeButton,G=(l=A.closeIcon)!=null?l:b.closeIcon;return v.jsxs(_V,Q({role:_,elevation:0,ownerState:I,className:jt(N.root,f),ref:n},M,{children:[x!==!1?v.jsx(EV,{ownerState:I,className:N.icon,children:x||w[T]||cL[T]}):null,v.jsx(SV,{ownerState:I,className:N.message,children:h}),d!=null?v.jsx(lL,{ownerState:I,className:N.action,children:d}):null,d==null&&S?v.jsx(lL,{ownerState:I,className:N.action,children:v.jsx(U,Q({size:"small","aria-label":m,title:m,color:"inherit",onClick:S},H,{children:v.jsx(Y,Q({fontSize:"small"},G))}))}):null]}))}),q_=TV;function B3(e){return typeof e=="string"}function of(e,t,n){return e===void 0||B3(e)?t:Q({},t,{ownerState:Q({},t.ownerState,n)})}const CV={disableDefaultClasses:!1},AV=R.createContext(CV);function kV(e){const{disableDefaultClasses:t}=R.useContext(AV);return n=>t?"":e(n)}function F3(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function MV(e,t,n){return typeof e=="function"?e(t,n):e}function uL(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function LV(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const m=jt(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g=Q({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),y=Q({},n,i,r);return m.length>0&&(y.className=m),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:void 0}}const s=F3(Q({},i,r)),a=uL(r),l=uL(i),c=t(s),d=jt(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),h=Q({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=Q({},c,n,l,a);return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}const PV=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Tc(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=mt(e,PV),a=o?{}:MV(r,i),{props:l,internalRef:c}=LV(Q({},s,{externalSlotProps:a})),d=ei(c,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return of(n,Q({},l,{ref:d}),i)}const RV=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function OV(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function IV(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function NV(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||IV(e))}function DV(e){const t=[],n=[];return Array.from(e.querySelectorAll(RV)).forEach((r,i)=>{const o=OV(r);o===-1||!NV(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function BV(){return!0}function FV(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=DV,isEnabled:s=BV,open:a}=e,l=R.useRef(!1),c=R.useRef(null),d=R.useRef(null),h=R.useRef(null),f=R.useRef(null),m=R.useRef(!1),g=R.useRef(null),y=ei(t.ref,g),b=R.useRef(null);R.useEffect(()=>{!a||!g.current||(m.current=!n)},[n,a]),R.useEffect(()=>{if(!a||!g.current)return;const S=Jr(g.current);return g.current.contains(S.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),m.current&&g.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),R.useEffect(()=>{if(!a||!g.current)return;const S=Jr(g.current),_=P=>{b.current=P,!(r||!s()||P.key!=="Tab")&&S.activeElement===g.current&&P.shiftKey&&(l.current=!0,d.current&&d.current.focus())},T=()=>{const P=g.current;if(P===null)return;if(!S.hasFocus()||!s()||l.current){l.current=!1;return}if(P.contains(S.activeElement)||r&&S.activeElement!==c.current&&S.activeElement!==d.current)return;if(S.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!m.current)return;let k=[];if((S.activeElement===c.current||S.activeElement===d.current)&&(k=o(g.current)),k.length>0){var M,I;const N=!!((M=b.current)!=null&&M.shiftKey&&((I=b.current)==null?void 0:I.key)==="Tab"),U=k[0],Y=k[k.length-1];typeof U!="string"&&typeof Y!="string"&&(N?Y.focus():U.focus())}else P.focus()};S.addEventListener("focusin",T),S.addEventListener("keydown",_,!0);const A=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&T()},50);return()=>{clearInterval(A),S.removeEventListener("focusin",T),S.removeEventListener("keydown",_,!0)}},[n,r,i,s,a,o]);const x=S=>{h.current===null&&(h.current=S.relatedTarget),m.current=!0,f.current=S.target;const _=t.props.onFocus;_&&_(S)},w=S=>{h.current===null&&(h.current=S.relatedTarget),m.current=!0};return v.jsxs(R.Fragment,{children:[v.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),R.cloneElement(t,{ref:y,onFocus:x}),v.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:d,"data-testid":"sentinelEnd"})]})}var vi="top",go="bottom",vo="right",yi="left",tT="auto",Cm=[vi,go,vo,yi],vd="start",cp="end",jV="clippingParents",j3="viewport",Fh="popper",zV="reference",dL=Cm.reduce(function(e,t){return e.concat([t+"-"+vd,t+"-"+cp])},[]),z3=[].concat(Cm,[tT]).reduce(function(e,t){return e.concat([t,t+"-"+vd,t+"-"+cp])},[]),UV="beforeRead",HV="read",GV="afterRead",VV="beforeMain",WV="main",$V="afterMain",YV="beforeWrite",qV="write",ZV="afterWrite",XV=[UV,HV,GV,VV,WV,$V,YV,qV,ZV];function gs(e){return e?(e.nodeName||"").toLowerCase():null}function Di(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Cc(e){var t=Di(e).Element;return e instanceof t||e instanceof Element}function uo(e){var t=Di(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function nT(e){if(typeof ShadowRoot>"u")return!1;var t=Di(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function KV(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!uo(o)||!gs(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function JV(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!uo(i)||!gs(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const QV={name:"applyStyles",enabled:!0,phase:"write",fn:KV,effect:JV,requires:["computeStyles"]};function ms(e){return e.split("-")[0]}var fc=Math.max,v0=Math.min,yd=Math.round;function Z_(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function U3(){return!/^((?!chrome|android).)*safari/i.test(Z_())}function xd(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&uo(e)&&(i=e.offsetWidth>0&&yd(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&yd(r.height)/e.offsetHeight||1);var s=Cc(e)?Di(e):window,a=s.visualViewport,l=!U3()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/o,h=r.width/i,f=r.height/o;return{width:h,height:f,top:d,right:c+h,bottom:d+f,left:c,x:c,y:d}}function rT(e){var t=xd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function H3(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&nT(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ca(e){return Di(e).getComputedStyle(e)}function eW(e){return["table","td","th"].indexOf(gs(e))>=0}function Ol(e){return((Cc(e)?e.ownerDocument:e.document)||window.document).documentElement}function $x(e){return gs(e)==="html"?e:e.assignedSlot||e.parentNode||(nT(e)?e.host:null)||Ol(e)}function hL(e){return!uo(e)||ca(e).position==="fixed"?null:e.offsetParent}function tW(e){var t=/firefox/i.test(Z_()),n=/Trident/i.test(Z_());if(n&&uo(e)){var r=ca(e);if(r.position==="fixed")return null}var i=$x(e);for(nT(i)&&(i=i.host);uo(i)&&["html","body"].indexOf(gs(i))<0;){var o=ca(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Am(e){for(var t=Di(e),n=hL(e);n&&eW(n)&&ca(n).position==="static";)n=hL(n);return n&&(gs(n)==="html"||gs(n)==="body"&&ca(n).position==="static")?t:n||tW(e)||t}function iT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function wf(e,t,n){return fc(e,v0(t,n))}function nW(e,t,n){var r=wf(e,t,n);return r>n?n:r}function G3(){return{top:0,right:0,bottom:0,left:0}}function V3(e){return Object.assign({},G3(),e)}function W3(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var rW=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,V3(typeof t!="number"?t:W3(t,Cm))};function iW(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=ms(n.placement),l=iT(a),c=[yi,vo].indexOf(a)>=0,d=c?"height":"width";if(!(!o||!s)){var h=rW(i.padding,n),f=rT(o),m=l==="y"?vi:yi,g=l==="y"?go:vo,y=n.rects.reference[d]+n.rects.reference[l]-s[l]-n.rects.popper[d],b=s[l]-n.rects.reference[l],x=Am(o),w=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,S=y/2-b/2,_=h[m],T=w-f[d]-h[g],A=w/2-f[d]/2+S,P=wf(_,A,T),k=l;n.modifiersData[r]=(t={},t[k]=P,t.centerOffset=P-A,t)}}function oW(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||H3(t.elements.popper,i)&&(t.elements.arrow=i))}const sW={name:"arrow",enabled:!0,phase:"main",fn:iW,effect:oW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bd(e){return e.split("-")[1]}var aW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lW(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:yd(n*i)/i||0,y:yd(r*i)/i||0}}function fL(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,h=e.isFixed,f=s.x,m=f===void 0?0:f,g=s.y,y=g===void 0?0:g,b=typeof d=="function"?d({x:m,y}):{x:m,y};m=b.x,y=b.y;var x=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),S=yi,_=vi,T=window;if(c){var A=Am(n),P="clientHeight",k="clientWidth";if(A===Di(n)&&(A=Ol(n),ca(A).position!=="static"&&a==="absolute"&&(P="scrollHeight",k="scrollWidth")),A=A,i===vi||(i===yi||i===vo)&&o===cp){_=go;var M=h&&A===T&&T.visualViewport?T.visualViewport.height:A[P];y-=M-r.height,y*=l?1:-1}if(i===yi||(i===vi||i===go)&&o===cp){S=vo;var I=h&&A===T&&T.visualViewport?T.visualViewport.width:A[k];m-=I-r.width,m*=l?1:-1}}var N=Object.assign({position:a},c&&aW),U=d===!0?lW({x:m,y},Di(n)):{x:m,y};if(m=U.x,y=U.y,l){var Y;return Object.assign({},N,(Y={},Y[_]=w?"0":"",Y[S]=x?"0":"",Y.transform=(T.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",Y))}return Object.assign({},N,(t={},t[_]=w?y+"px":"",t[S]=x?m+"px":"",t.transform="",t))}function cW(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:ms(t.placement),variation:bd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,fL(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,fL(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const uW={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cW,data:{}};var Ng={passive:!0};function dW(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Di(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",n.update,Ng)}),a&&l.addEventListener("resize",n.update,Ng),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Ng)}),a&&l.removeEventListener("resize",n.update,Ng)}}const hW={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dW,data:{}};var fW={left:"right",right:"left",bottom:"top",top:"bottom"};function Cv(e){return e.replace(/left|right|bottom|top/g,function(t){return fW[t]})}var pW={start:"end",end:"start"};function pL(e){return e.replace(/start|end/g,function(t){return pW[t]})}function oT(e){var t=Di(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function sT(e){return xd(Ol(e)).left+oT(e).scrollLeft}function mW(e,t){var n=Di(e),r=Ol(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=U3();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+sT(e),y:l}}function gW(e){var t,n=Ol(e),r=oT(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=fc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=fc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+sT(e),l=-r.scrollTop;return ca(i||n).direction==="rtl"&&(a+=fc(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function aT(e){var t=ca(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function $3(e){return["html","body","#document"].indexOf(gs(e))>=0?e.ownerDocument.body:uo(e)&&aT(e)?e:$3($x(e))}function _f(e,t){var n;t===void 0&&(t=[]);var r=$3(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Di(r),s=i?[o].concat(o.visualViewport||[],aT(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(_f($x(s)))}function X_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function vW(e,t){var n=xd(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function mL(e,t,n){return t===j3?X_(mW(e,n)):Cc(t)?vW(t,n):X_(gW(Ol(e)))}function yW(e){var t=_f($x(e)),n=["absolute","fixed"].indexOf(ca(e).position)>=0,r=n&&uo(e)?Am(e):e;return Cc(r)?t.filter(function(i){return Cc(i)&&H3(i,r)&&gs(i)!=="body"}):[]}function xW(e,t,n,r){var i=t==="clippingParents"?yW(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var d=mL(e,c,r);return l.top=fc(d.top,l.top),l.right=v0(d.right,l.right),l.bottom=v0(d.bottom,l.bottom),l.left=fc(d.left,l.left),l},mL(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Y3(e){var t=e.reference,n=e.element,r=e.placement,i=r?ms(r):null,o=r?bd(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case vi:l={x:s,y:t.y-n.height};break;case go:l={x:s,y:t.y+t.height};break;case vo:l={x:t.x+t.width,y:a};break;case yi:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?iT(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case vd:l[c]=l[c]-(t[d]/2-n[d]/2);break;case cp:l[c]=l[c]+(t[d]/2-n[d]/2);break}}return l}function up(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?jV:a,c=n.rootBoundary,d=c===void 0?j3:c,h=n.elementContext,f=h===void 0?Fh:h,m=n.altBoundary,g=m===void 0?!1:m,y=n.padding,b=y===void 0?0:y,x=V3(typeof b!="number"?b:W3(b,Cm)),w=f===Fh?zV:Fh,S=e.rects.popper,_=e.elements[g?w:f],T=xW(Cc(_)?_:_.contextElement||Ol(e.elements.popper),l,d,s),A=xd(e.elements.reference),P=Y3({reference:A,element:S,strategy:"absolute",placement:i}),k=X_(Object.assign({},S,P)),M=f===Fh?k:A,I={top:T.top-M.top+x.top,bottom:M.bottom-T.bottom+x.bottom,left:T.left-M.left+x.left,right:M.right-T.right+x.right},N=e.modifiersData.offset;if(f===Fh&&N){var U=N[i];Object.keys(I).forEach(function(Y){var H=[vo,go].indexOf(Y)>=0?1:-1,G=[vi,go].indexOf(Y)>=0?"y":"x";I[Y]+=U[G]*H})}return I}function bW(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?z3:l,d=bd(r),h=d?a?dL:dL.filter(function(g){return bd(g)===d}):Cm,f=h.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=h);var m=f.reduce(function(g,y){return g[y]=up(e,{placement:y,boundary:i,rootBoundary:o,padding:s})[ms(y)],g},{});return Object.keys(m).sort(function(g,y){return m[g]-m[y]})}function wW(e){if(ms(e)===tT)return[];var t=Cv(e);return[pL(e),t,pL(t)]}function _W(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,d=n.boundary,h=n.rootBoundary,f=n.altBoundary,m=n.flipVariations,g=m===void 0?!0:m,y=n.allowedAutoPlacements,b=t.options.placement,x=ms(b),w=x===b,S=l||(w||!g?[Cv(b)]:wW(b)),_=[b].concat(S).reduce(function(q,te){return q.concat(ms(te)===tT?bW(t,{placement:te,boundary:d,rootBoundary:h,padding:c,flipVariations:g,allowedAutoPlacements:y}):te)},[]),T=t.rects.reference,A=t.rects.popper,P=new Map,k=!0,M=_[0],I=0;I<_.length;I++){var N=_[I],U=ms(N),Y=bd(N)===vd,H=[vi,go].indexOf(U)>=0,G=H?"width":"height",Z=up(t,{placement:N,boundary:d,rootBoundary:h,altBoundary:f,padding:c}),ee=H?Y?vo:yi:Y?go:vi;T[G]>A[G]&&(ee=Cv(ee));var V=Cv(ee),B=[];if(o&&B.push(Z[U]<=0),a&&B.push(Z[ee]<=0,Z[V]<=0),B.every(function(q){return q})){M=N,k=!1;break}P.set(N,B)}if(k)for(var D=g?3:1,J=function(te){var ne=_.find(function(le){var ue=P.get(le);if(ue)return ue.slice(0,te).every(function(he){return he})});if(ne)return M=ne,"break"},j=D;j>0;j--){var oe=J(j);if(oe==="break")break}t.placement!==M&&(t.modifiersData[r]._skip=!0,t.placement=M,t.reset=!0)}}const EW={name:"flip",enabled:!0,phase:"main",fn:_W,requiresIfExists:["offset"],data:{_skip:!1}};function gL(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function vL(e){return[vi,vo,go,yi].some(function(t){return e[t]>=0})}function SW(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=up(t,{elementContext:"reference"}),a=up(t,{altBoundary:!0}),l=gL(s,r),c=gL(a,i,o),d=vL(l),h=vL(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const TW={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:SW};function CW(e,t,n){var r=ms(e),i=[yi,vi].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[yi,vo].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function AW(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=z3.reduce(function(d,h){return d[h]=CW(h,t.rects,o),d},{}),a=s[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}const kW={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:AW};function MW(e){var t=e.state,n=e.name;t.modifiersData[n]=Y3({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const LW={name:"popperOffsets",enabled:!0,phase:"read",fn:MW,data:{}};function PW(e){return e==="x"?"y":"x"}function RW(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,h=n.padding,f=n.tether,m=f===void 0?!0:f,g=n.tetherOffset,y=g===void 0?0:g,b=up(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),x=ms(t.placement),w=bd(t.placement),S=!w,_=iT(x),T=PW(_),A=t.modifiersData.popperOffsets,P=t.rects.reference,k=t.rects.popper,M=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,I=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(A){if(o){var Y,H=_==="y"?vi:yi,G=_==="y"?go:vo,Z=_==="y"?"height":"width",ee=A[_],V=ee+b[H],B=ee-b[G],D=m?-k[Z]/2:0,J=w===vd?P[Z]:k[Z],j=w===vd?-k[Z]:-P[Z],oe=t.elements.arrow,q=m&&oe?rT(oe):{width:0,height:0},te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:G3(),ne=te[H],le=te[G],ue=wf(0,P[Z],q[Z]),he=S?P[Z]/2-D-ue-ne-I.mainAxis:J-ue-ne-I.mainAxis,se=S?-P[Z]/2+D+ue+le+I.mainAxis:j+ue+le+I.mainAxis,we=t.elements.arrow&&Am(t.elements.arrow),Fe=we?_==="y"?we.clientTop||0:we.clientLeft||0:0,ge=(Y=N==null?void 0:N[_])!=null?Y:0,Ge=ee+he-ge-Fe,Ue=ee+se-ge,gt=wf(m?v0(V,Ge):V,ee,m?fc(B,Ue):B);A[_]=gt,U[_]=gt-ee}if(a){var ut,Et=_==="x"?vi:yi,Ht=_==="x"?go:vo,Ke=A[T],xt=T==="y"?"height":"width",St=Ke+b[Et],_n=Ke-b[Ht],ot=[vi,yi].indexOf(x)!==-1,Kt=(ut=N==null?void 0:N[T])!=null?ut:0,Ze=ot?St:Ke-P[xt]-k[xt]-Kt+I.altAxis,st=ot?Ke+P[xt]+k[xt]-Kt-I.altAxis:_n,re=m&&ot?nW(Ze,Ke,st):wf(m?Ze:St,Ke,m?st:_n);A[T]=re,U[T]=re-Ke}t.modifiersData[r]=U}}const OW={name:"preventOverflow",enabled:!0,phase:"main",fn:RW,requiresIfExists:["offset"]};function IW(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function NW(e){return e===Di(e)||!uo(e)?oT(e):IW(e)}function DW(e){var t=e.getBoundingClientRect(),n=yd(t.width)/e.offsetWidth||1,r=yd(t.height)/e.offsetHeight||1;return n!==1||r!==1}function BW(e,t,n){n===void 0&&(n=!1);var r=uo(t),i=uo(t)&&DW(t),o=Ol(t),s=xd(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((gs(t)!=="body"||aT(o))&&(a=NW(t)),uo(t)?(l=xd(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=sT(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function FW(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function jW(e){var t=FW(e);return XV.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function zW(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function UW(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var yL={placement:"bottom",modifiers:[],strategy:"absolute"};function xL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function HW(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?yL:i;return function(a,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},yL,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,m={state:d,setOptions:function(x){var w=typeof x=="function"?x(d.options):x;y(),d.options=Object.assign({},o,d.options,w),d.scrollParents={reference:Cc(a)?_f(a):a.contextElement?_f(a.contextElement):[],popper:_f(l)};var S=jW(UW([].concat(r,d.options.modifiers)));return d.orderedModifiers=S.filter(function(_){return _.enabled}),g(),m.update()},forceUpdate:function(){if(!f){var x=d.elements,w=x.reference,S=x.popper;if(xL(w,S)){d.rects={reference:BW(w,Am(S),d.options.strategy==="fixed"),popper:rT(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var _=0;_<d.orderedModifiers.length;_++){if(d.reset===!0){d.reset=!1,_=-1;continue}var T=d.orderedModifiers[_],A=T.fn,P=T.options,k=P===void 0?{}:P,M=T.name;typeof A=="function"&&(d=A({state:d,options:k,name:M,instance:m})||d)}}}},update:zW(function(){return new Promise(function(b){m.forceUpdate(),b(d)})}),destroy:function(){y(),f=!0}};if(!xL(a,l))return m;m.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function g(){d.orderedModifiers.forEach(function(b){var x=b.name,w=b.options,S=w===void 0?{}:w,_=b.effect;if(typeof _=="function"){var T=_({state:d,name:x,instance:m,options:S}),A=function(){};h.push(T||A)}})}function y(){h.forEach(function(b){return b()}),h=[]}return m}}var GW=[hW,LW,uW,QV,kW,EW,OW,sW,TW],Yx=HW({defaultModifiers:GW});function VW(e){return typeof e=="function"?e():e}const q3=R.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=R.useState(null),l=ei(R.isValidElement(r)?r.ref:null,n);if(xl(()=>{o||a(VW(i)||document.body)},[i,o]),xl(()=>{if(s&&!o)return u0(n,s),()=>{u0(n,null)}},[n,s,o]),o){if(R.isValidElement(r)){const c={ref:l};return R.cloneElement(r,c)}return v.jsx(R.Fragment,{children:r})}return v.jsx(R.Fragment,{children:s&&Rl.createPortal(r,s)})});function WW(e){return wr("MuiPopper",e)}Jn("MuiPopper",["root"]);const $W=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],YW=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function qW(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function K_(e){return typeof e=="function"?e():e}function ZW(e){return e.nodeType!==void 0}const XW=()=>Dr({root:["root"]},kV(WW)),KW={},JW=R.forwardRef(function(t,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:c,placement:d,popperOptions:h,popperRef:f,slotProps:m={},slots:g={},TransitionProps:y}=t,b=mt(t,$W),x=R.useRef(null),w=ei(x,n),S=R.useRef(null),_=ei(S,f),T=R.useRef(_);xl(()=>{T.current=_},[_]),R.useImperativeHandle(f,()=>S.current,[]);const A=qW(d,s),[P,k]=R.useState(A),[M,I]=R.useState(K_(i));R.useEffect(()=>{S.current&&S.current.forceUpdate()}),R.useEffect(()=>{i&&I(K_(i))},[i]),xl(()=>{if(!M||!c)return;const G=V=>{k(V.placement)};let Z=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:V})=>{G(V)}}];l!=null&&(Z=Z.concat(l)),h&&h.modifiers!=null&&(Z=Z.concat(h.modifiers));const ee=Yx(M,x.current,Q({placement:A},h,{modifiers:Z}));return T.current(ee),()=>{ee.destroy(),T.current(null)}},[M,a,l,c,h,A]);const N={placement:P};y!==null&&(N.TransitionProps=y);const U=XW(),Y=(r=g.root)!=null?r:"div",H=Tc({elementType:Y,externalSlotProps:m.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:w},ownerState:t,className:U.root});return v.jsx(Y,Q({},H,{children:typeof o=="function"?o(N):o}))}),QW=R.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:d,placement:h="bottom",popperOptions:f=KW,popperRef:m,style:g,transition:y=!1,slotProps:b={},slots:x={}}=t,w=mt(t,YW),[S,_]=R.useState(!0),T=()=>{_(!1)},A=()=>{_(!0)};if(!l&&!d&&(!y||S))return null;let P;if(o)P=o;else if(r){const I=K_(r);P=I&&ZW(I)?Jr(I).body:Jr(null).body}const k=!d&&l&&(!y||S)?"none":void 0,M=y?{in:d,onEnter:T,onExited:A}:void 0;return v.jsx(q3,{disablePortal:a,container:P,children:v.jsx(JW,Q({anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:y?!S:d,placement:h,popperOptions:f,popperRef:m,slotProps:b,slots:x},w,{style:Q({position:"fixed",top:0,left:0,display:k},g),TransitionProps:M,children:i}))})});function e$(e){const t=Jr(e);return t.body===e?md(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Ef(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function bL(e){return parseInt(md(e).getComputedStyle(e).paddingRight,10)||0}function t$(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function wL(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,l=!t$(s);a&&l&&Ef(s,i)})}function H1(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function n$(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(e$(r)){const s=s3(Jr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${bL(r)+s}px`;const a=Jr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${bL(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Jr(r).body;else{const s=r.parentElement,a=md(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function r$(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class i${constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Ef(t.modalRef,!1);const i=r$(n);wL(n,t.mount,t.modalRef,i,!0);const o=H1(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=H1(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=n$(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=H1(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&Ef(t.modalRef,n),wL(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Ef(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function o$(e){return typeof e=="function"?e():e}function s$(e){return e?e.props.hasOwnProperty("in"):!1}const a$=new i$;function l$(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=a$,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:d,rootRef:h}=e,f=R.useRef({}),m=R.useRef(null),g=R.useRef(null),y=ei(g,h),[b,x]=R.useState(!d),w=s$(l);let S=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(S=!1);const _=()=>Jr(m.current),T=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),A=()=>{i.mount(T(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},P=Wa(()=>{const Z=o$(t)||_().body;i.add(T(),Z),g.current&&A()}),k=R.useCallback(()=>i.isTopModal(T()),[i]),M=Wa(Z=>{m.current=Z,Z&&(d&&k()?A():g.current&&Ef(g.current,S))}),I=R.useCallback(()=>{i.remove(T(),S)},[S,i]);R.useEffect(()=>()=>{I()},[I]),R.useEffect(()=>{d?P():(!w||!o)&&I()},[d,I,w,o,P]);const N=Z=>ee=>{var V;(V=Z.onKeyDown)==null||V.call(Z,ee),!(ee.key!=="Escape"||ee.which===229||!k())&&(n||(ee.stopPropagation(),c&&c(ee,"escapeKeyDown")))},U=Z=>ee=>{var V;(V=Z.onClick)==null||V.call(Z,ee),ee.target===ee.currentTarget&&c&&c(ee,"backdropClick")};return{getRootProps:(Z={})=>{const ee=F3(e);delete ee.onTransitionEnter,delete ee.onTransitionExited;const V=Q({},ee,Z);return Q({role:"presentation"},V,{onKeyDown:N(V),ref:y})},getBackdropProps:(Z={})=>{const ee=Z;return Q({"aria-hidden":!0},ee,{onClick:U(ee),open:d})},getTransitionProps:()=>{const Z=()=>{x(!1),s&&s()},ee=()=>{x(!0),a&&a(),o&&I()};return{onEnter:F_(Z,l==null?void 0:l.props.onEnter),onExited:F_(ee,l==null?void 0:l.props.onExited)}},rootRef:y,portalRef:M,isTopModal:k,exited:b,hasTransition:w}}const c$=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],u$=Wt(QW,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),d$=R.forwardRef(function(t,n){var r;const i=Z2(),o=_r({props:t,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:c,container:d,disablePortal:h,keepMounted:f,modifiers:m,open:g,placement:y,popperOptions:b,popperRef:x,transition:w,slots:S,slotProps:_}=o,T=mt(o,c$),A=(r=S==null?void 0:S.root)!=null?r:l==null?void 0:l.Root,P=Q({anchorEl:s,container:d,disablePortal:h,keepMounted:f,modifiers:m,open:g,placement:y,popperOptions:b,popperRef:x,transition:w},T);return v.jsx(u$,Q({as:a,direction:i==null?void 0:i.direction,slots:{root:A},slotProps:_??c},P,{ref:n}))}),Z3=d$,h$=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],f$={entering:{opacity:1},entered:{opacity:1}},p$=R.forwardRef(function(t,n){const r=Hx(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:m,onExited:g,onExiting:y,style:b,timeout:x=i,TransitionComponent:w=I3}=t,S=mt(t,h$),_=R.useRef(null),T=ei(_,a.ref,n),A=H=>G=>{if(H){const Z=_.current;G===void 0?H(Z):H(Z,G)}},P=A(f),k=A((H,G)=>{N3(H);const Z=g0({style:b,timeout:x,easing:l},{mode:"enter"});H.style.webkitTransition=r.transitions.create("opacity",Z),H.style.transition=r.transitions.create("opacity",Z),d&&d(H,G)}),M=A(h),I=A(y),N=A(H=>{const G=g0({style:b,timeout:x,easing:l},{mode:"exit"});H.style.webkitTransition=r.transitions.create("opacity",G),H.style.transition=r.transitions.create("opacity",G),m&&m(H)}),U=A(g),Y=H=>{o&&o(_.current,H)};return v.jsx(w,Q({appear:s,in:c,nodeRef:_,onEnter:k,onEntered:M,onEntering:P,onExit:N,onExited:U,onExiting:I,addEndListener:Y,timeout:x},S,{children:(H,G)=>R.cloneElement(a,Q({style:Q({opacity:0,visibility:H==="exited"&&!c?"hidden":void 0},f$[H],b,a.props.style),ref:T},G))}))}),m$=p$;function g$(e){return wr("MuiBackdrop",e)}Jn("MuiBackdrop",["root","invisible"]);const v$=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],y$=e=>{const{classes:t,invisible:n}=e;return Dr({root:["root",n&&"invisible"]},g$,t)},x$=Wt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>Q({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),b$=R.forwardRef(function(t,n){var r,i,o;const s=_r({props:t,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:d={},componentsProps:h={},invisible:f=!1,open:m,slotProps:g={},slots:y={},TransitionComponent:b=m$,transitionDuration:x}=s,w=mt(s,v$),S=Q({},s,{component:c,invisible:f}),_=y$(S),T=(r=g.root)!=null?r:h.root;return v.jsx(b,Q({in:m,timeout:x},w,{children:v.jsx(x$,Q({"aria-hidden":!0},T,{as:(i=(o=y.root)!=null?o:d.Root)!=null?i:c,className:jt(_.root,l,T==null?void 0:T.className),ownerState:Q({},S,T==null?void 0:T.ownerState),classes:_,ref:n,children:a}))}))}),X3=b$;function w$(e){return wr("MuiButton",e)}const _$=Jn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Dg=_$,E$=R.createContext({}),S$=E$,T$=R.createContext(void 0),C$=T$,A$=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],k$=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${Nt(t)}`,`size${Nt(i)}`,`${o}Size${Nt(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Nt(i)}`],endIcon:["endIcon",`iconSize${Nt(i)}`]},l=Dr(a,w$,s);return Q({},s,l)},K3=e=>Q({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),M$=Wt(eT,{shouldForwardProp:e=>Gx(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Nt(n.color)}`],t[`size${Nt(n.size)}`],t[`${n.variant}Size${Nt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return Q({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":Q({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Zr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":Q({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Dg.focusVisible}`]:Q({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Dg.disabled}`]:Q({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Zr(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Dg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Dg.disabled}`]:{boxShadow:"none"}}),L$=Wt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Nt(n.size)}`]]}})(({ownerState:e})=>Q({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},K3(e))),P$=Wt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Nt(n.size)}`]]}})(({ownerState:e})=>Q({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},K3(e))),R$=R.forwardRef(function(t,n){const r=R.useContext(S$),i=R.useContext(C$),o=P2(r,t),s=_r({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:d,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:m=!1,endIcon:g,focusVisibleClassName:y,fullWidth:b=!1,size:x="medium",startIcon:w,type:S,variant:_="text"}=s,T=mt(s,A$),A=Q({},s,{color:l,component:c,disabled:h,disableElevation:f,disableFocusRipple:m,fullWidth:b,size:x,type:S,variant:_}),P=k$(A),k=w&&v.jsx(L$,{className:P.startIcon,ownerState:A,children:w}),M=g&&v.jsx(P$,{className:P.endIcon,ownerState:A,children:g}),I=i||"";return v.jsxs(M$,Q({ownerState:A,className:jt(r.className,P.root,d,I),component:c,disabled:h,focusRipple:!m,focusVisibleClassName:jt(P.focusVisible,y),ref:n,type:S},T,{classes:P,children:[k,a,M]}))}),Lr=R$;function O$(e){return wr("MuiCircularProgress",e)}Jn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const I$=["className","color","disableShrink","size","style","thickness","value","variant"];let qx=e=>e,_L,EL,SL,TL;const Ma=44,N$=Em(_L||(_L=qx`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),D$=Em(EL||(EL=qx`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),B$=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${Nt(r)}`],svg:["svg"],circle:["circle",`circle${Nt(n)}`,i&&"circleDisableShrink"]};return Dr(o,O$,t)},F$=Wt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Nt(n.color)}`]]}})(({ownerState:e,theme:t})=>Q({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&U2(SL||(SL=qx`
      animation: ${0} 1.4s linear infinite;
    `),N$)),j$=Wt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),z$=Wt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Nt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>Q({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&U2(TL||(TL=qx`
      animation: ${0} 1.4s ease-in-out infinite;
    `),D$)),U$=R.forwardRef(function(t,n){const r=_r({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:d=0,variant:h="indeterminate"}=r,f=mt(r,I$),m=Q({},r,{color:o,disableShrink:s,size:a,thickness:c,value:d,variant:h}),g=B$(m),y={},b={},x={};if(h==="determinate"){const w=2*Math.PI*((Ma-c)/2);y.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(d),y.strokeDashoffset=`${((100-d)/100*w).toFixed(3)}px`,b.transform="rotate(-90deg)"}return v.jsx(F$,Q({className:jt(g.root,i),style:Q({width:a,height:a},b,l),ownerState:m,ref:n,role:"progressbar"},x,f,{children:v.jsx(j$,{className:g.svg,ownerState:m,viewBox:`${Ma/2} ${Ma/2} ${Ma} ${Ma}`,children:v.jsx(z$,{className:g.circle,style:y,ownerState:m,cx:Ma,cy:Ma,r:(Ma-c)/2,fill:"none",strokeWidth:c})})}))}),J3=U$;function H$(e){return wr("MuiModal",e)}Jn("MuiModal",["root","hidden","backdrop"]);const G$=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],V$=e=>{const{open:t,exited:n,classes:r}=e;return Dr({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},H$,r)},W$=Wt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>Q({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),$$=Wt(X3,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Y$=R.forwardRef(function(t,n){var r,i,o,s,a,l;const c=_r({name:"MuiModal",props:t}),{BackdropComponent:d=$$,BackdropProps:h,className:f,closeAfterTransition:m=!1,children:g,container:y,component:b,components:x={},componentsProps:w={},disableAutoFocus:S=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:T=!1,disablePortal:A=!1,disableRestoreFocus:P=!1,disableScrollLock:k=!1,hideBackdrop:M=!1,keepMounted:I=!1,onBackdropClick:N,open:U,slotProps:Y,slots:H}=c,G=mt(c,G$),Z=Q({},c,{closeAfterTransition:m,disableAutoFocus:S,disableEnforceFocus:_,disableEscapeKeyDown:T,disablePortal:A,disableRestoreFocus:P,disableScrollLock:k,hideBackdrop:M,keepMounted:I}),{getRootProps:ee,getBackdropProps:V,getTransitionProps:B,portalRef:D,isTopModal:J,exited:j,hasTransition:oe}=l$(Q({},Z,{rootRef:n})),q=Q({},Z,{exited:j}),te=V$(q),ne={};if(g.props.tabIndex===void 0&&(ne.tabIndex="-1"),oe){const{onEnter:ge,onExited:Ge}=B();ne.onEnter=ge,ne.onExited=Ge}const le=(r=(i=H==null?void 0:H.root)!=null?i:x.Root)!=null?r:W$,ue=(o=(s=H==null?void 0:H.backdrop)!=null?s:x.Backdrop)!=null?o:d,he=(a=Y==null?void 0:Y.root)!=null?a:w.root,se=(l=Y==null?void 0:Y.backdrop)!=null?l:w.backdrop,we=Tc({elementType:le,externalSlotProps:he,externalForwardedProps:G,getSlotProps:ee,additionalProps:{ref:n,as:b},ownerState:q,className:jt(f,he==null?void 0:he.className,te==null?void 0:te.root,!q.open&&q.exited&&(te==null?void 0:te.hidden))}),Fe=Tc({elementType:ue,externalSlotProps:se,additionalProps:h,getSlotProps:ge=>V(Q({},ge,{onClick:Ge=>{N&&N(Ge),ge!=null&&ge.onClick&&ge.onClick(Ge)}})),className:jt(se==null?void 0:se.className,h==null?void 0:h.className,te==null?void 0:te.backdrop),ownerState:q});return!I&&!U&&(!oe||j)?null:v.jsx(q3,{ref:D,container:y,disablePortal:A,children:v.jsxs(le,Q({},we,{children:[!M&&d?v.jsx(ue,Q({},Fe)):null,v.jsx(FV,{disableEnforceFocus:_,disableAutoFocus:S,disableRestoreFocus:P,isEnabled:J,open:U,children:R.cloneElement(g,ne)})]}))})}),q$=Y$;function Z$(e){return wr("MuiDivider",e)}const X$=Jn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),CL=X$,K$=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],J$=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=e;return Dr({root:["root",t&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},Z$,r)},Q$=Wt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>Q({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Zr(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>Q({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>Q({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>Q({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>Q({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),eY=Wt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>Q({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),Q3=R.forwardRef(function(t,n){const r=_r({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:l=!1,light:c=!1,orientation:d="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:f="center",variant:m="fullWidth"}=r,g=mt(r,K$),y=Q({},r,{absolute:i,component:a,flexItem:l,light:c,orientation:d,role:h,textAlign:f,variant:m}),b=J$(y);return v.jsx(Q$,Q({as:a,className:jt(b.root,s),role:h,ref:n,ownerState:y},g,{children:o?v.jsx(eY,{className:b.wrapper,ownerState:y,children:o}):null}))});Q3.muiSkipListHighlight=!0;const y0=Q3,tY=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function J_(e){return`scale(${e}, ${e**2})`}const nY={entering:{opacity:1,transform:J_(1)},entered:{opacity:1,transform:"none"}},G1=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),eD=R.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:d,onExit:h,onExited:f,onExiting:m,style:g,timeout:y="auto",TransitionComponent:b=I3}=t,x=mt(t,tY),w=R.useRef(),S=R.useRef(),_=Hx(),T=R.useRef(null),A=ei(T,o.ref,n),P=G=>Z=>{if(G){const ee=T.current;Z===void 0?G(ee):G(ee,Z)}},k=P(d),M=P((G,Z)=>{N3(G);const{duration:ee,delay:V,easing:B}=g0({style:g,timeout:y,easing:s},{mode:"enter"});let D;y==="auto"?(D=_.transitions.getAutoHeightDuration(G.clientHeight),S.current=D):D=ee,G.style.transition=[_.transitions.create("opacity",{duration:D,delay:V}),_.transitions.create("transform",{duration:G1?D:D*.666,delay:V,easing:B})].join(","),l&&l(G,Z)}),I=P(c),N=P(m),U=P(G=>{const{duration:Z,delay:ee,easing:V}=g0({style:g,timeout:y,easing:s},{mode:"exit"});let B;y==="auto"?(B=_.transitions.getAutoHeightDuration(G.clientHeight),S.current=B):B=Z,G.style.transition=[_.transitions.create("opacity",{duration:B,delay:ee}),_.transitions.create("transform",{duration:G1?B:B*.666,delay:G1?ee:ee||B*.333,easing:V})].join(","),G.style.opacity=0,G.style.transform=J_(.75),h&&h(G)}),Y=P(f),H=G=>{y==="auto"&&(w.current=setTimeout(G,S.current||0)),r&&r(T.current,G)};return R.useEffect(()=>()=>{clearTimeout(w.current)},[]),v.jsx(b,Q({appear:i,in:a,nodeRef:T,onEnter:M,onEntered:I,onEntering:k,onExit:U,onExited:Y,onExiting:N,addEndListener:H,timeout:y==="auto"?null:y},x,{children:(G,Z)=>R.cloneElement(o,Q({style:Q({opacity:0,transform:J_(.75),visibility:G==="exited"&&!a?"hidden":void 0},nY[G],g,o.props.style),ref:A},Z))}))});eD.muiSupportAuto=!0;const Q_=eD,rY=R.createContext({}),eE=rY;function iY(e){return wr("MuiList",e)}Jn("MuiList",["root","padding","dense","subheader"]);const oY=["children","className","component","dense","disablePadding","subheader"],sY=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Dr({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},iY,t)},aY=Wt("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>Q({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),lY=R.forwardRef(function(t,n){const r=_r({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,d=mt(r,oY),h=R.useMemo(()=>({dense:a}),[a]),f=Q({},r,{component:s,dense:a,disablePadding:l}),m=sY(f);return v.jsx(eE.Provider,{value:h,children:v.jsxs(aY,Q({as:s,className:jt(m.root,o),ref:n,ownerState:f},d,{children:[c,i]}))})}),cY=lY,uY=Jn("MuiListItemIcon",["root","alignItemsFlexStart"]),AL=uY,dY=Jn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),kL=dY,hY=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function V1(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function ML(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function tD(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function jh(e,t,n,r,i,o){let s=!1,a=i(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!tD(a,o)||l)a=i(e,a,n);else return a.focus(),!0}return!1}const fY=R.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:h="selectedMenu"}=t,f=mt(t,hY),m=R.useRef(null),g=R.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});xl(()=>{i&&m.current.focus()},[i]),R.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,_)=>{const T=!m.current.style.width;if(S.clientHeight<m.current.clientHeight&&T){const A=`${s3(Jr(S))}px`;m.current.style[_.direction==="rtl"?"paddingLeft":"paddingRight"]=A,m.current.style.width=`calc(100% + ${A})`}return m.current}}),[]);const y=S=>{const _=m.current,T=S.key,A=Jr(_).activeElement;if(T==="ArrowDown")S.preventDefault(),jh(_,A,c,l,V1);else if(T==="ArrowUp")S.preventDefault(),jh(_,A,c,l,ML);else if(T==="Home")S.preventDefault(),jh(_,null,c,l,V1);else if(T==="End")S.preventDefault(),jh(_,null,c,l,ML);else if(T.length===1){const P=g.current,k=T.toLowerCase(),M=performance.now();P.keys.length>0&&(M-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&k!==P.keys[0]&&(P.repeating=!1)),P.lastTime=M,P.keys.push(k);const I=A&&!P.repeating&&tD(A,P);P.previousKeyMatched&&(I||jh(_,A,!1,l,V1,P))?S.preventDefault():P.previousKeyMatched=!1}d&&d(S)},b=ei(m,n);let x=-1;R.Children.forEach(s,(S,_)=>{if(!R.isValidElement(S)){x===_&&(x+=1,x>=s.length&&(x=-1));return}S.props.disabled||(h==="selectedMenu"&&S.props.selected||x===-1)&&(x=_),x===_&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(x+=1,x>=s.length&&(x=-1))});const w=R.Children.map(s,(S,_)=>{if(_===x){const T={};return o&&(T.autoFocus=!0),S.props.tabIndex===void 0&&h==="selectedMenu"&&(T.tabIndex=0),R.cloneElement(S,T)}return S});return v.jsx(cY,Q({role:"menu",ref:b,className:a,onKeyDown:y,tabIndex:i?0:-1},f,{children:w}))}),pY=fY;function mY(e){return wr("MuiPopover",e)}Jn("MuiPopover",["root","paper"]);const gY=["onEntering"],vY=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],yY=["slotProps"];function LL(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function PL(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function RL(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function W1(e){return typeof e=="function"?e():e}const xY=e=>{const{classes:t}=e;return Dr({root:["root"],paper:["paper"]},mY,t)},bY=Wt(q$,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),nD=Wt(D3,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),wY=R.forwardRef(function(t,n){var r,i,o;const s=_r({props:t,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:h="anchorEl",children:f,className:m,container:g,elevation:y=8,marginThreshold:b=16,open:x,PaperProps:w={},slots:S,slotProps:_,transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:A=Q_,transitionDuration:P="auto",TransitionProps:{onEntering:k}={},disableScrollLock:M=!1}=s,I=mt(s.TransitionProps,gY),N=mt(s,vY),U=(r=_==null?void 0:_.paper)!=null?r:w,Y=R.useRef(),H=ei(Y,U.ref),G=Q({},s,{anchorOrigin:c,anchorReference:h,elevation:y,marginThreshold:b,externalPaperSlotProps:U,transformOrigin:T,TransitionComponent:A,transitionDuration:P,TransitionProps:I}),Z=xY(G),ee=R.useCallback(()=>{if(h==="anchorPosition")return d;const ge=W1(l),Ue=(ge&&ge.nodeType===1?ge:Jr(Y.current).body).getBoundingClientRect();return{top:Ue.top+LL(Ue,c.vertical),left:Ue.left+PL(Ue,c.horizontal)}},[l,c.horizontal,c.vertical,d,h]),V=R.useCallback(ge=>({vertical:LL(ge,T.vertical),horizontal:PL(ge,T.horizontal)}),[T.horizontal,T.vertical]),B=R.useCallback(ge=>{const Ge={width:ge.offsetWidth,height:ge.offsetHeight},Ue=V(Ge);if(h==="none")return{top:null,left:null,transformOrigin:RL(Ue)};const gt=ee();let ut=gt.top-Ue.vertical,Et=gt.left-Ue.horizontal;const Ht=ut+Ge.height,Ke=Et+Ge.width,xt=md(W1(l)),St=xt.innerHeight-b,_n=xt.innerWidth-b;if(b!==null&&ut<b){const ot=ut-b;ut-=ot,Ue.vertical+=ot}else if(b!==null&&Ht>St){const ot=Ht-St;ut-=ot,Ue.vertical+=ot}if(b!==null&&Et<b){const ot=Et-b;Et-=ot,Ue.horizontal+=ot}else if(Ke>_n){const ot=Ke-_n;Et-=ot,Ue.horizontal+=ot}return{top:`${Math.round(ut)}px`,left:`${Math.round(Et)}px`,transformOrigin:RL(Ue)}},[l,h,ee,V,b]),[D,J]=R.useState(x),j=R.useCallback(()=>{const ge=Y.current;if(!ge)return;const Ge=B(ge);Ge.top!==null&&(ge.style.top=Ge.top),Ge.left!==null&&(ge.style.left=Ge.left),ge.style.transformOrigin=Ge.transformOrigin,J(!0)},[B]);R.useEffect(()=>(M&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)),[l,M,j]);const oe=(ge,Ge)=>{k&&k(ge,Ge),j()},q=()=>{J(!1)};R.useEffect(()=>{x&&j()}),R.useImperativeHandle(a,()=>x?{updatePosition:()=>{j()}}:null,[x,j]),R.useEffect(()=>{if(!x)return;const ge=r3(()=>{j()}),Ge=md(l);return Ge.addEventListener("resize",ge),()=>{ge.clear(),Ge.removeEventListener("resize",ge)}},[l,x,j]);let te=P;P==="auto"&&!A.muiSupportAuto&&(te=void 0);const ne=g||(l?Jr(W1(l)).body:void 0),le=(i=S==null?void 0:S.root)!=null?i:bY,ue=(o=S==null?void 0:S.paper)!=null?o:nD,he=Tc({elementType:ue,externalSlotProps:Q({},U,{style:D?U.style:Q({},U.style,{opacity:0})}),additionalProps:{elevation:y,ref:H},ownerState:G,className:jt(Z.paper,U==null?void 0:U.className)}),se=Tc({elementType:le,externalSlotProps:(_==null?void 0:_.root)||{},externalForwardedProps:N,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ne,open:x},ownerState:G,className:jt(Z.root,m)}),{slotProps:we}=se,Fe=mt(se,yY);return v.jsx(le,Q({},Fe,!B3(le)&&{slotProps:we,disableScrollLock:M},{children:v.jsx(A,Q({appear:!0,in:x,onEntering:oe,onExited:q,timeout:te},I,{children:v.jsx(ue,Q({},he,{children:f}))}))}))}),_Y=wY;function EY(e){return wr("MuiMenu",e)}Jn("MuiMenu",["root","paper","list"]);const SY=["onEntering"],TY=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],CY={vertical:"top",horizontal:"right"},AY={vertical:"top",horizontal:"left"},kY=e=>{const{classes:t}=e;return Dr({root:["root"],paper:["paper"],list:["list"]},EY,t)},MY=Wt(_Y,{shouldForwardProp:e=>Gx(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),LY=Wt(nD,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),PY=Wt(pY,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),RY=R.forwardRef(function(t,n){var r,i;const o=_r({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:h,open:f,PaperProps:m={},PopoverClasses:g,transitionDuration:y="auto",TransitionProps:{onEntering:b}={},variant:x="selectedMenu",slots:w={},slotProps:S={}}=o,_=mt(o.TransitionProps,SY),T=mt(o,TY),A=Hx(),P=A.direction==="rtl",k=Q({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:d,onEntering:b,PaperProps:m,transitionDuration:y,TransitionProps:_,variant:x}),M=kY(k),I=s&&!c&&f,N=R.useRef(null),U=(B,D)=>{N.current&&N.current.adjustStyleForScrollbar(B,A),b&&b(B,D)},Y=B=>{B.key==="Tab"&&(B.preventDefault(),h&&h(B,"tabKeyDown"))};let H=-1;R.Children.map(a,(B,D)=>{R.isValidElement(B)&&(B.props.disabled||(x==="selectedMenu"&&B.props.selected||H===-1)&&(H=D))});const G=(r=w.paper)!=null?r:LY,Z=(i=S.paper)!=null?i:m,ee=Tc({elementType:w.root,externalSlotProps:S.root,ownerState:k,className:[M.root,l]}),V=Tc({elementType:G,externalSlotProps:Z,ownerState:k,className:M.paper});return v.jsx(MY,Q({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?CY:AY,slots:{paper:G,root:w.root},slotProps:{root:ee,paper:V},open:f,ref:n,transitionDuration:y,TransitionProps:Q({onEntering:U},_),ownerState:k},T,{classes:g,children:v.jsx(PY,Q({onKeyDown:Y,actions:N,autoFocus:s&&(H===-1||c),autoFocusItem:I,variant:x},d,{className:jt(M.list,d.className),children:a}))}))}),OY=RY;function IY(e){return wr("MuiMenuItem",e)}const NY=Jn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),zh=NY,DY=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],BY=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},FY=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,l=Dr({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},IY,s);return Q({},s,l)},jY=Wt(eT,{shouldForwardProp:e=>Gx(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:BY})(({theme:e,ownerState:t})=>Q({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${zh.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Zr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${zh.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Zr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${zh.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Zr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Zr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${zh.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${zh.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${CL.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${CL.inset}`]:{marginLeft:52},[`& .${kL.root}`]:{marginTop:0,marginBottom:0},[`& .${kL.inset}`]:{paddingLeft:36},[`& .${AL.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&Q({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${AL.root} svg`]:{fontSize:"1.25rem"}}))),zY=R.forwardRef(function(t,n){const r=_r({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:h,className:f}=r,m=mt(r,DY),g=R.useContext(eE),y=R.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),b=R.useRef(null);xl(()=>{i&&b.current&&b.current.focus()},[i]);const x=Q({},r,{dense:y.dense,divider:a,disableGutters:l}),w=FY(r),S=ei(b,n);let _;return r.disabled||(_=h!==void 0?h:-1),v.jsx(eE.Provider,{value:y,children:v.jsx(jY,Q({ref:S,role:d,tabIndex:_,component:o,focusVisibleClassName:jt(w.focusVisible,c),className:jt(w.root,f)},m,{ownerState:x,classes:w}))})}),na=zY;function UY(e){return wr("MuiTooltip",e)}const HY=Jn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),$a=HY,GY=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function VY(e){return Math.round(e*1e5)/1e5}const WY=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Nt(o.split("-")[0])}`],arrow:["arrow"]};return Dr(s,UY,t)},$Y=Wt(Z3,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>Q({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${$a.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${$a.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${$a.arrow}`]:Q({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${$a.arrow}`]:Q({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),YY=Wt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Nt(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>Q({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Zr(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${VY(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${$a.popper}[data-popper-placement*="left"] &`]:Q({transformOrigin:"right center"},t.isRtl?Q({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):Q({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${$a.popper}[data-popper-placement*="right"] &`]:Q({transformOrigin:"left center"},t.isRtl?Q({marginRight:"14px"},t.touch&&{marginRight:"24px"}):Q({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${$a.popper}[data-popper-placement*="top"] &`]:Q({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${$a.popper}[data-popper-placement*="bottom"] &`]:Q({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),qY=Wt("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Zr(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Bg=!1,$1=null,Uh={x:0,y:0};function Fg(e,t){return n=>{t&&t(n),e(n)}}const ZY=R.forwardRef(function(t,n){var r,i,o,s,a,l,c,d,h,f,m,g,y,b,x,w,S,_,T;const A=_r({props:t,name:"MuiTooltip"}),{arrow:P=!1,children:k,components:M={},componentsProps:I={},describeChild:N=!1,disableFocusListener:U=!1,disableHoverListener:Y=!1,disableInteractive:H=!1,disableTouchListener:G=!1,enterDelay:Z=100,enterNextDelay:ee=0,enterTouchDelay:V=700,followCursor:B=!1,id:D,leaveDelay:J=0,leaveTouchDelay:j=1500,onClose:oe,onOpen:q,open:te,placement:ne="bottom",PopperComponent:le,PopperProps:ue={},slotProps:he={},slots:se={},title:we,TransitionComponent:Fe=Q_,TransitionProps:ge}=A,Ge=mt(A,GY),Ue=R.isValidElement(k)?k:v.jsx("span",{children:k}),gt=Hx(),ut=gt.direction==="rtl",[Et,Ht]=R.useState(),[Ke,xt]=R.useState(null),St=R.useRef(!1),_n=H||B,ot=R.useRef(),Kt=R.useRef(),Ze=R.useRef(),st=R.useRef(),[re,de]=o3({controlled:te,default:!1,name:"Tooltip",state:"open"});let Te=re;const nt=i3(D),Oe=R.useRef(),at=R.useCallback(()=>{Oe.current!==void 0&&(document.body.style.WebkitUserSelect=Oe.current,Oe.current=void 0),clearTimeout(st.current)},[]);R.useEffect(()=>()=>{clearTimeout(ot.current),clearTimeout(Kt.current),clearTimeout(Ze.current),at()},[at]);const Lt=je=>{clearTimeout($1),Bg=!0,de(!0),q&&!Te&&q(je)},Tt=Wa(je=>{clearTimeout($1),$1=setTimeout(()=>{Bg=!1},800+J),de(!1),oe&&Te&&oe(je),clearTimeout(ot.current),ot.current=setTimeout(()=>{St.current=!1},gt.transitions.duration.shortest)}),Un=je=>{St.current&&je.type!=="touchstart"||(Et&&Et.removeAttribute("title"),clearTimeout(Kt.current),clearTimeout(Ze.current),Z||Bg&&ee?Kt.current=setTimeout(()=>{Lt(je)},Bg?ee:Z):Lt(je))},Ct=je=>{clearTimeout(Kt.current),clearTimeout(Ze.current),Ze.current=setTimeout(()=>{Tt(je)},J)},{isFocusVisibleRef:er,onBlur:En,onFocus:Ls,ref:Ps}=L2(),[,Rs]=R.useState(!1),_a=je=>{En(je),er.current===!1&&(Rs(!1),Ct(je))},Os=je=>{Et||Ht(je.currentTarget),Ls(je),er.current===!0&&(Rs(!0),Un(je))},Is=je=>{St.current=!0;const qe=Ue.props;qe.onTouchStart&&qe.onTouchStart(je)},$i=Un,Wc=Ct,$c=je=>{Is(je),clearTimeout(Ze.current),clearTimeout(ot.current),at(),Oe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",st.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Oe.current,Un(je)},V)},Bl=je=>{Ue.props.onTouchEnd&&Ue.props.onTouchEnd(je),at(),clearTimeout(Ze.current),Ze.current=setTimeout(()=>{Tt(je)},j)};R.useEffect(()=>{if(!Te)return;function je(qe){(qe.key==="Escape"||qe.key==="Esc")&&Tt(qe)}return document.addEventListener("keydown",je),()=>{document.removeEventListener("keydown",je)}},[Tt,Te]);const ph=ei(Ue.ref,Ps,Ht,n);!we&&we!==0&&(Te=!1);const Fl=R.useRef(),mh=je=>{const qe=Ue.props;qe.onMouseMove&&qe.onMouseMove(je),Uh={x:je.clientX,y:je.clientY},Fl.current&&Fl.current.update()},Ns={},Er=typeof we=="string";N?(Ns.title=!Te&&Er&&!Y?we:null,Ns["aria-describedby"]=Te?nt:null):(Ns["aria-label"]=Er?we:null,Ns["aria-labelledby"]=Te&&!Er?nt:null);const Pe=Q({},Ns,Ge,Ue.props,{className:jt(Ge.className,Ue.props.className),onTouchStart:Is,ref:ph},B?{onMouseMove:mh}:{}),z={};G||(Pe.onTouchStart=$c,Pe.onTouchEnd=Bl),Y||(Pe.onMouseOver=Fg($i,Pe.onMouseOver),Pe.onMouseLeave=Fg(Wc,Pe.onMouseLeave),_n||(z.onMouseOver=$i,z.onMouseLeave=Wc)),U||(Pe.onFocus=Fg(Os,Pe.onFocus),Pe.onBlur=Fg(_a,Pe.onBlur),_n||(z.onFocus=Os,z.onBlur=_a));const $=R.useMemo(()=>{var je;let qe=[{name:"arrow",enabled:!!Ke,options:{element:Ke,padding:4}}];return(je=ue.popperOptions)!=null&&je.modifiers&&(qe=qe.concat(ue.popperOptions.modifiers)),Q({},ue.popperOptions,{modifiers:qe})},[Ke,ue]),X=Q({},A,{isRtl:ut,arrow:P,disableInteractive:_n,placement:ne,PopperComponentProp:le,touch:St.current}),pe=WY(X),ke=(r=(i=se.popper)!=null?i:M.Popper)!=null?r:$Y,vt=(o=(s=(a=se.transition)!=null?a:M.Transition)!=null?s:Fe)!=null?o:Q_,Ae=(l=(c=se.tooltip)!=null?c:M.Tooltip)!=null?l:YY,Ie=(d=(h=se.arrow)!=null?h:M.Arrow)!=null?d:qY,dt=of(ke,Q({},ue,(f=he.popper)!=null?f:I.popper,{className:jt(pe.popper,ue==null?void 0:ue.className,(m=(g=he.popper)!=null?g:I.popper)==null?void 0:m.className)}),X),Yt=of(vt,Q({},ge,(y=he.transition)!=null?y:I.transition),X),Ft=of(Ae,Q({},(b=he.tooltip)!=null?b:I.tooltip,{className:jt(pe.tooltip,(x=(w=he.tooltip)!=null?w:I.tooltip)==null?void 0:x.className)}),X),Qt=of(Ie,Q({},(S=he.arrow)!=null?S:I.arrow,{className:jt(pe.arrow,(_=(T=he.arrow)!=null?T:I.arrow)==null?void 0:_.className)}),X);return v.jsxs(R.Fragment,{children:[R.cloneElement(Ue,Pe),v.jsx(ke,Q({as:le??Z3,placement:ne,anchorEl:B?{getBoundingClientRect:()=>({top:Uh.y,left:Uh.x,right:Uh.x,bottom:Uh.y,width:0,height:0})}:Et,popperRef:Fl,open:Et?Te:!1,id:nt,transition:!0},z,dt,{popperOptions:$,children:({TransitionProps:je})=>v.jsx(vt,Q({timeout:gt.transitions.duration.shorter},je,Yt,{children:v.jsxs(Ae,Q({},Ft,{children:[we,P?v.jsx(Ie,Q({},Qt,{ref:xt})):null]}))}))}))]})}),jg=ZY;function rD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=rD(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ya(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=rD(e))&&(r&&(r+=" "),r+=t);return r}const Sf=e=>typeof e=="number"&&!isNaN(e),Ac=e=>typeof e=="string",hi=e=>typeof e=="function",Av=e=>Ac(e)||hi(e)?e:null,Y1=e=>R.isValidElement(e)||Ac(e)||hi(e)||Sf(e);function XY(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Zx(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(s){let{children:a,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:f}=s;const m=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,y=R.useRef(0);return R.useLayoutEffect(()=>{const b=h.current,x=m.split(" "),w=S=>{S.target===h.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",w),b.removeEventListener("animationcancel",w),y.current===0&&S.type!=="animationcancel"&&b.classList.remove(...x))};b.classList.add(...x),b.addEventListener("animationend",w),b.addEventListener("animationcancel",w)},[]),R.useEffect(()=>{const b=h.current,x=()=>{b.removeEventListener("animationend",x),i?XY(b,d,o):d()};f||(c?x():(y.current=1,b.className+=` ${g}`,b.addEventListener("animationend",x)))},[f]),_e.createElement(_e.Fragment,null,a)}}function OL(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const eo={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},zg=e=>{let{theme:t,type:n,...r}=e;return _e.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},q1={info:function(e){return _e.createElement(zg,{...e},_e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return _e.createElement(zg,{...e},_e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return _e.createElement(zg,{...e},_e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return _e.createElement(zg,{...e},_e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return _e.createElement("div",{className:"Toastify__spinner"})}};function KY(e){const[,t]=R.useReducer(m=>m+1,0),[n,r]=R.useState([]),i=R.useRef(null),o=R.useRef(new Map).current,s=m=>n.indexOf(m)!==-1,a=R.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:m=>o.get(m)}).current;function l(m){let{containerId:g}=m;const{limit:y}=a.props;!y||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(m){r(g=>m==null?[]:g.filter(y=>y!==m))}function d(){const{toastContent:m,toastProps:g,staleId:y}=a.queue.shift();f(m,g,y)}function h(m,g){let{delay:y,staleId:b,...x}=g;if(!Y1(m)||function(U){return!i.current||a.props.enableMultiContainer&&U.containerId!==a.props.containerId||o.has(U.toastId)&&U.updateId==null}(x))return;const{toastId:w,updateId:S,data:_}=x,{props:T}=a,A=()=>c(w),P=S==null;P&&a.count++;const k={...T,style:T.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(x).filter(U=>{let[Y,H]=U;return H!=null})),toastId:w,updateId:S,data:_,closeToast:A,isIn:!1,className:Av(x.className||T.toastClassName),bodyClassName:Av(x.bodyClassName||T.bodyClassName),progressClassName:Av(x.progressClassName||T.progressClassName),autoClose:!x.isLoading&&(M=x.autoClose,I=T.autoClose,M===!1||Sf(M)&&M>0?M:I),deleteToast(){const U=OL(o.get(w),"removed");o.delete(w),eo.emit(4,U);const Y=a.queue.length;if(a.count=w==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),Y>0){const H=w==null?a.props.limit:1;if(Y===1||H===1)a.displayedToast++,d();else{const G=H>Y?Y:H;a.displayedToast=G;for(let Z=0;Z<G;Z++)d()}}else t()}};var M,I;k.iconOut=function(U){let{theme:Y,type:H,isLoading:G,icon:Z}=U,ee=null;const V={theme:Y,type:H};return Z===!1||(hi(Z)?ee=Z(V):R.isValidElement(Z)?ee=R.cloneElement(Z,V):Ac(Z)||Sf(Z)?ee=Z:G?ee=q1.spinner():(B=>B in q1)(H)&&(ee=q1[H](V))),ee}(k),hi(x.onOpen)&&(k.onOpen=x.onOpen),hi(x.onClose)&&(k.onClose=x.onClose),k.closeButton=T.closeButton,x.closeButton===!1||Y1(x.closeButton)?k.closeButton=x.closeButton:x.closeButton===!0&&(k.closeButton=!Y1(T.closeButton)||T.closeButton);let N=m;R.isValidElement(m)&&!Ac(m.type)?N=R.cloneElement(m,{closeToast:A,toastProps:k,data:_}):hi(m)&&(N=m({closeToast:A,toastProps:k,data:_})),T.limit&&T.limit>0&&a.count>T.limit&&P?a.queue.push({toastContent:N,toastProps:k,staleId:b}):Sf(y)?setTimeout(()=>{f(N,k,b)},y):f(N,k,b)}function f(m,g,y){const{toastId:b}=g;y&&o.delete(y);const x={content:m,props:g};o.set(b,x),r(w=>[...w,b].filter(S=>S!==y)),eo.emit(4,OL(x,x.props.updateId==null?"added":"updated"))}return R.useEffect(()=>(a.containerId=e.containerId,eo.cancelEmit(3).on(0,h).on(1,m=>i.current&&c(m)).on(5,l).emit(2,a),()=>{o.clear(),eo.emit(3,a)}),[]),R.useEffect(()=>{a.props=e,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(m){const g=new Map,y=Array.from(o.values());return e.newestOnTop&&y.reverse(),y.forEach(b=>{const{position:x}=b.props;g.has(x)||g.set(x,[]),g.get(x).push(b)}),Array.from(g,b=>m(b[0],b[1]))},containerRef:i,isToastActive:s}}function IL(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function NL(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function JY(e){const[t,n]=R.useState(!1),[r,i]=R.useState(!1),o=R.useRef(null),s=R.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=R.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:d,onClick:h,closeOnClick:f}=e;function m(_){if(e.draggable){_.nativeEvent.type==="touchstart"&&_.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",x),document.addEventListener("mouseup",w),document.addEventListener("touchmove",x),document.addEventListener("touchend",w);const T=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=T.getBoundingClientRect(),T.style.transition="",s.x=IL(_.nativeEvent),s.y=NL(_.nativeEvent),e.draggableDirection==="x"?(s.start=s.x,s.removalDistance=T.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=T.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(_){if(s.boundingRect){const{top:T,bottom:A,left:P,right:k}=s.boundingRect;_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&s.x>=P&&s.x<=k&&s.y>=T&&s.y<=A?b():y()}}function y(){n(!0)}function b(){n(!1)}function x(_){const T=o.current;s.canDrag&&T&&(s.didMove=!0,t&&b(),s.x=IL(_),s.y=NL(_),s.delta=e.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),T.style.transform=`translate${e.draggableDirection}(${s.delta}px)`,T.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function w(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",w);const _=o.current;if(s.canDrag&&s.didMove&&_){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void e.closeToast();_.style.transition="transform 0.2s, opacity 0.2s",_.style.transform=`translate${e.draggableDirection}(0)`,_.style.opacity="1"}}R.useEffect(()=>{a.current=e}),R.useEffect(()=>(o.current&&o.current.addEventListener("d",y,{once:!0}),hi(e.onOpen)&&e.onOpen(R.isValidElement(e.children)&&e.children.props),()=>{const _=a.current;hi(_.onClose)&&_.onClose(R.isValidElement(_.children)&&_.children.props)}),[]),R.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",y),window.addEventListener("blur",b)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",b))}),[e.pauseOnFocusLoss]);const S={onMouseDown:m,onTouchStart:m,onMouseUp:g,onTouchEnd:g};return l&&c&&(S.onMouseEnter=b,S.onMouseLeave=y),f&&(S.onClick=_=>{h&&h(_),s.canCloseOnClick&&d()}),{playToast:y,pauseToast:b,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:S}}function iD(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return _e.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},_e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},_e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function QY(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:f}=e;const m=o||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:m?0:1};l&&(g.transform=`scaleX(${c})`);const y=Ya("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),b=hi(s)?s({rtl:d,type:i,defaultClassName:y}):Ya(y,s);return _e.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:b,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}})}const eq=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=JY(e),{closeButton:o,children:s,autoClose:a,onClick:l,type:c,hideProgressBar:d,closeToast:h,transition:f,position:m,className:g,style:y,bodyClassName:b,bodyStyle:x,progressClassName:w,progressStyle:S,updateId:_,role:T,progress:A,rtl:P,toastId:k,deleteToast:M,isIn:I,isLoading:N,iconOut:U,closeOnClick:Y,theme:H}=e,G=Ya("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":Y}),Z=hi(g)?g({rtl:P,position:m,type:c,defaultClassName:G}):Ya(G,g),ee=!!A||!a,V={closeToast:h,type:c,theme:H};let B=null;return o===!1||(B=hi(o)?o(V):R.isValidElement(o)?R.cloneElement(o,V):iD(V)),_e.createElement(f,{isIn:I,done:M,position:m,preventExitTransition:n,nodeRef:r},_e.createElement("div",{id:k,onClick:l,className:Z,...i,style:y,ref:r},_e.createElement("div",{...I&&{role:T},className:hi(b)?b({type:c}):Ya("Toastify__toast-body",b),style:x},U!=null&&_e.createElement("div",{className:Ya("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},U),_e.createElement("div",null,s)),B,_e.createElement(QY,{..._&&!ee?{key:`pb-${_}`}:{},rtl:P,theme:H,delay:a,isRunning:t,isIn:I,closeToast:h,hide:d,type:c,style:S,className:w,controlledProgress:ee,progress:A||0})))},Xx=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},tq=Zx(Xx("bounce",!0));Zx(Xx("slide",!0));Zx(Xx("zoom"));Zx(Xx("flip"));const tE=R.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=KY(e),{className:o,style:s,rtl:a,containerId:l}=e;function c(d){const h=Ya("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":a});return hi(o)?o({position:d,rtl:a,defaultClassName:h}):Ya(h,Av(o))}return R.useEffect(()=>{t&&(t.current=r.current)},[]),_e.createElement("div",{ref:r,className:"Toastify",id:l},n((d,h)=>{const f=h.length?{...s}:{...s,pointerEvents:"none"};return _e.createElement("div",{className:c(d),style:f,key:`container-${d}`},h.map((m,g)=>{let{content:y,props:b}=m;return _e.createElement(eq,{...b,isIn:i(b.toastId),style:{...b.style,"--nth":g+1,"--len":h.length},key:`toast-${b.key}`},y)}))}))});tE.displayName="ToastContainer",tE.defaultProps={position:"top-right",transition:tq,autoClose:5e3,closeButton:iD,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Z1,Xl=new Map,sf=[],nq=1;function oD(){return""+nq++}function rq(e){return e&&(Ac(e.toastId)||Sf(e.toastId))?e.toastId:oD()}function Tf(e,t){return Xl.size>0?eo.emit(0,e,t):sf.push({content:e,options:t}),t.toastId}function x0(e,t){return{...t,type:t&&t.type||e,toastId:rq(t)}}function Ug(e){return(t,n)=>Tf(t,x0(e,n))}function Me(e,t){return Tf(e,x0("default",t))}Me.loading=(e,t)=>Tf(e,x0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Me.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=Ac(i)?Me.loading(i,n):Me.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,f)=>{if(h==null)return void Me.dismiss(r);const m={type:d,...a,...n,data:f},g=Ac(h)?{render:h}:h;return r?Me.update(r,{...m,...g}):Me(g.render,{...m,...g}),f},c=hi(e)?e():e;return c.then(d=>l("success",s,d)).catch(d=>l("error",o,d)),c},Me.success=Ug("success"),Me.info=Ug("info"),Me.error=Ug("error"),Me.warning=Ug("warning"),Me.warn=Me.warning,Me.dark=(e,t)=>Tf(e,x0("default",{theme:"dark",...t})),Me.dismiss=e=>{Xl.size>0?eo.emit(1,e):sf=sf.filter(t=>e!=null&&t.options.toastId!==e)},Me.clearWaitingQueue=function(e){return e===void 0&&(e={}),eo.emit(5,e)},Me.isActive=e=>{let t=!1;return Xl.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Me.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const s=Xl.get(o||Z1);return s&&s.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:oD()};o.toastId!==e&&(o.staleId=e);const s=o.render||i;delete o.render,Tf(s,o)}},0)},Me.done=e=>{Me.update(e,{progress:1})},Me.onChange=e=>(eo.on(4,e),()=>{eo.off(4,e)}),Me.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Me.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},eo.on(2,e=>{Z1=e.containerId||e,Xl.set(Z1,e),sf.forEach(t=>{eo.emit(0,t.content,t.options)}),sf=[]}).on(3,e=>{Xl.delete(e.containerId||e),Xl.size===0&&eo.off(0).off(1).off(5)});const sD=R.createContext(),iq=({children:e})=>{const[t,n]=R.useState({}),[r,i]=R.useState({}),[o,s]=R.useState({}),a=(l,c=[])=>t.hasOwnProperty(l)?t[l].replace(/%s/g,h=>c.shift()):l;return R.useEffect(()=>{const l=async()=>{await new Promise(d=>{Se("getLocales").then(h=>{n(h),d()})})},c=async()=>{await new Promise(d=>{Se("getConfigs").then(h=>{i(h),d()})})};l(),c()},[]),fn("updateCategsConfig",l=>{s(l)}),v.jsx(sD.Provider,{value:{t:a,gameconfig:r,mdtSettings:o},children:e})},it=()=>R.useContext(sD),aD=R.createContext(null),oq=({children:e})=>{const[t,n]=R.useState(!1),[r,i]=R.useState(!1),[o,s]=R.useState(!1),[a,l]=R.useState(!1),[c,d]=R.useState(!1),[h,f]=R.useState(!1),[m,g]=R.useState(!1),[y,b]=R.useState(!1),[x,w]=R.useState(!1),[S,_]=R.useState(!1),[T,A]=R.useState(!1),[P,k]=R.useState({}),[M,I]=R.useState(null),[N,U]=R.useState([]),[Y,H]=R.useState({callsign:"",showBillsInMDT:!1,open:!1,categories:{}}),[G,Z]=R.useState({open:!1,text:"",time:0});function ee(){(a||c||T||M||Y!=null&&Y.open)&&(A(!1),l(!1),d(!1),I(null),Se("SetNuiFocus",{focused:!1},function(q){}),g(!1),H(q=>({...q,open:!1})),Me.dismiss())}R.useEffect(()=>{const q=te=>{te.key==="Escape"&&ee()};return _(!!localStorage.getItem("onlyusefront")),document.addEventListener("keydown",q),()=>{document.removeEventListener("keydown",q)}},[a,c,T,Y]);function V(){if(r&&(i(!1),s(!1),n(!1)),a)l(!1),Se("SetNuiFocus",{focused:!1},function(q){}),g(!1);else{if(y)return;l(!0),Se("SetNuiFocus",{focused:!0},function(q){})}}function B(){S?(localStorage.removeItem("onlyusefront"),_(!1)):(localStorage.setItem("onlyusefront",!0),_(!0))}function D(){if(i(!1),s(!1),n(!1),l(!1),c)d(!1),Se("SetNuiFocus",{focused:!1},function(q){}),g(!1);else{if(y)return;d(!0),Se("SetNuiFocus",{focused:!0},function(q){})}}function J(){if(i(!1),s(!1),n(!1),l(!1),d(!1),T)A(!1),Se("SetNuiFocus",{focused:!1},function(q){}),g(!1);else{if(y)return;A(!0),Se("SetNuiFocus",{focused:!0},function(q){})}}function j(q,te,ne){if(q)Z({open:!0,text:te,time:ne});else{Z({open:!1,text:"",time:0});return}}fn("addCustomPage",q=>{U(te=>[...te,q])}),fn("notAlowed",q=>{ee(),setTimeout(()=>{I(q),Se("SetNuiFocus",{focused:!0},function(te){})},600)});function oe(){I(null),Se("SetNuiFocus",{focused:!1},function(q){})}return fn("ToggleSendToJailButton",q=>{w(q)}),fn("jail_prompt",q=>{j(q.open,q.text,q.time)}),fn("toggle_move_small",()=>{r&&(Se("SetNuiFocus",{focused:!0}),n(!t))}),fn("toggle_small",q=>{if(!q.open){i(!1);return}y||i(!r)}),fn("toggle_largue",q=>{if(!q.open){l(!1),Se("SetNuiFocus",{focused:!1},function(te){g(!1)});return}V()}),fn("toggle_mdt",q=>{if(f(q.showBillsInMDT),!q.open){d(!1),Se("SetNuiFocus",{focused:!1},function(te){g(!1)});return}D()}),fn("toggle_mdt_new",q=>{Se("SetNuiFocus",{focused:q==null?void 0:q.open},function(te){g(!1)}),i(!1),s(!1),n(!1),l(!1),d(!1),H(q),Se("getCustomPages",{}).then(te=>{U(te)})}),fn("start_cameras",q=>{J()}),fn("update_cameras",q=>{k(q)}),fn("speed_radar",s),v.jsxs(aD.Provider,{value:{customPages:N,setCustomPages:U,idfNotAllowed:M,newMdtData:Y,setNewMdtData:H,CloseNotAllowed:oe,adminCamerasPanel:T,ToggleAdminCameras:J,camerasData:P,toggleOnlyFront:B,onlyFrontRadar:S,setBlockedOpen:b,ToggleMDT:D,ToggleLargue:V,mooving:t,setMooving:n,smallDispatch:r,setSmallDispatch:i,velocimeter:o,setVelocimeter:s,largueDispatch:a,setLargueDispatch:l,mdt:c,setMDT:d,mdtBills:h,loading:m,setLoading:g,jail:G,setJail:Z,enabledJailButton:x,setEnableJailButton:w},children:[v.jsx(X3,{sx:{color:"#fff",zIndex:q=>q.zIndex.drawer+1},open:m,children:v.jsx(J3,{color:"inherit"})}),e]})},zn=()=>R.useContext(aD),sq=""+new URL("bg-1c773d78.png",import.meta.url).href,aq=()=>{const{velocimeter:e,largueDispatch:t,mdt:n,onlyFrontRadar:r,newMdtData:i}=zn(),[o,s]=R.useState(!1),[a,l]=R.useState({speed:"000",speedMph:"000",plate:"XXX-XXX",model:""}),[c,d]=R.useState({speed:"000",speedMph:"000",plate:"XXX-XXX",model:""});fn("radarInfoFront",l),fn("radarInfoBack",d),fn("sirens",s);const h=(g,y)=>{const{x:b,y:x}=y;localStorage.setItem("velocityRadarPosition",JSON.stringify({x:b,y:x}))};let f=localStorage.getItem("velocityRadarPosition"),m=f?JSON.parse(f):null;if(!m){let g=window.innerWidth,y=window.innerHeight;m={x:Math.round(g*.8),y:Math.round(y*.32)}}return e&&!t&&localStorage.getItem("ifseevelocimeter")==="true"&&!n&&!i.open?v.jsx(e3,{handle:"#radar",defaultPosition:m,bounds:"parent",onStop:h,children:v.jsxs("div",{style:{backgroundImage:`url(${sq})`,backgroundRepeat:"no-repeat",backgroundOrigin:"center",backgroundSize:"cover",backgroundColor:"#000",boxShadow:"0 0 0.1em 0.5vh #1e1e1f, 0 0 0 0.4em #d3cde4",borderRadius:"1vh",width:"350px",height:"250px"},className:`velocimeter overflow-hidden bg-gray-800/95 m-2  shadow-lg rounded-[1vh] cursor-move select-none p-[1.5vh] ${o?"sirens":""}`,id:"radar",children:[v.jsx(DL,{speedMph:a.speedMph,speed:a==null?void 0:a.speed,plate:a.plate,model:a.model}),v.jsx("hr",{className:" my-2"}),!r&&v.jsx(DL,{speedMph:c.speedMph,speed:c==null?void 0:c.speed,plate:c.plate,model:c.model})]})}):null};function DL({speedMph:e,speed:t,plate:n,model:r}){const{gameconfig:i}=it();return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex flex-row align-middle justify-center content-center whitespace-nowrap",children:[v.jsx("p",{className:"relative top-4 text-white text-6xl w-24 font-[Adventure] ",id:"velocidad",children:localStorage.getItem("isusingmph")===!0||localStorage.getItem("isusingmph")==="true"?e:t}),v.jsx("p",{className:"relative top-8 text-white p-[0.3vw] text-sm",children:localStorage.getItem("isusingmph")===!0||localStorage.getItem("isusingmph")==="true"?"Mph":"Km/h"}),v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:(i==null?void 0:i.plateImage)??"https://cdn.discordapp.com/attachments/1042989146886656180/1140213637013844028/5012-AT_6_x_12.png",className:"h-20",alt:""}),v.jsx("div",{className:"absolute w-36 text-center top-4 left-[0.319rem] flex flex-col justify-center h-[5.3vh] pt-4 pb-4 bg-redd-700",children:v.jsx("p",{className:"text-[2vh] font-[plate] ",children:n})})]}),v.jsx("p",{className:"text-white p=[0.3vw] text-sm",id:"modelo",children:r})]})]})})}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var lD;function ye(){return lD.apply(null,arguments)}function lq(e){lD=e}function Wo(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function pc(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Vt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lT(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Vt(e,t))return!1;return!0}function ai(e){return e===void 0}function ua(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function km(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function cD(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function qa(e,t){for(var n in t)Vt(t,n)&&(e[n]=t[n]);return Vt(t,"toString")&&(e.toString=t.toString),Vt(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ks(e,t,n,r){return OD(e,t,n,r,!0).utc()}function cq(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function pt(e){return e._pf==null&&(e._pf=cq()),e._pf}var nE;Array.prototype.some?nE=Array.prototype.some:nE=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function cT(e){if(e._isValid==null){var t=pt(e),n=nE.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Kx(e){var t=ks(NaN);return e!=null?qa(pt(t),e):pt(t).userInvalidated=!0,t}var BL=ye.momentProperties=[],X1=!1;function uT(e,t){var n,r,i,o=BL.length;if(ai(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ai(t._i)||(e._i=t._i),ai(t._f)||(e._f=t._f),ai(t._l)||(e._l=t._l),ai(t._strict)||(e._strict=t._strict),ai(t._tzm)||(e._tzm=t._tzm),ai(t._isUTC)||(e._isUTC=t._isUTC),ai(t._offset)||(e._offset=t._offset),ai(t._pf)||(e._pf=pt(t)),ai(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)r=BL[n],i=t[r],ai(i)||(e[r]=i);return e}function Mm(e){uT(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),X1===!1&&(X1=!0,ye.updateOffset(this),X1=!1)}function $o(e){return e instanceof Mm||e!=null&&e._isAMomentObject!=null}function uD(e){ye.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function wo(e,t){var n=!0;return qa(function(){if(ye.deprecationHandler!=null&&ye.deprecationHandler(null,e),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])Vt(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}uD(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var FL={};function dD(e,t){ye.deprecationHandler!=null&&ye.deprecationHandler(e,t),FL[e]||(uD(t),FL[e]=!0)}ye.suppressDeprecationWarnings=!1;ye.deprecationHandler=null;function Ms(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function uq(e){var t,n;for(n in e)Vt(e,n)&&(t=e[n],Ms(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function rE(e,t){var n=qa({},e),r;for(r in t)Vt(t,r)&&(pc(e[r])&&pc(t[r])?(n[r]={},qa(n[r],e[r]),qa(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Vt(e,r)&&!Vt(t,r)&&pc(e[r])&&(n[r]=qa({},n[r]));return n}function dT(e){e!=null&&this.set(e)}var iE;Object.keys?iE=Object.keys:iE=function(e){var t,n=[];for(t in e)Vt(e,t)&&n.push(t);return n};var dq={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function hq(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Ms(r)?r.call(t,n):r}function vs(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var hT=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,K1={},Qu={};function $e(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Qu[e]=i),t&&(Qu[t[0]]=function(){return vs(i.apply(this,arguments),t[1],t[2])}),n&&(Qu[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function fq(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function pq(e){var t=e.match(hT),n,r;for(n=0,r=t.length;n<r;n++)Qu[t[n]]?t[n]=Qu[t[n]]:t[n]=fq(t[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=Ms(t[s])?t[s].call(i,e):t[s];return o}}function kv(e,t){return e.isValid()?(t=hD(t,e.localeData()),K1[t]=K1[t]||pq(t),K1[t](e)):e.localeData().invalidDate()}function hD(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(Hg.lastIndex=0;n>=0&&Hg.test(e);)e=e.replace(Hg,r),Hg.lastIndex=0,n-=1;return e}var mq={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function gq(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(hT).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var vq="Invalid date";function yq(){return this._invalidDate}var xq="%d",bq=/\d{1,2}/;function wq(e){return this._ordinal.replace("%d",e)}var _q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Eq(e,t,n,r){var i=this._relativeTime[n];return Ms(i)?i(e,t,n,r):i.replace(/%d/i,e)}function Sq(e,t){var n=this._relativeTime[e>0?"future":"past"];return Ms(n)?n(t):n.replace(/%s/i,t)}var Cf={};function Br(e,t){var n=e.toLowerCase();Cf[n]=Cf[n+"s"]=Cf[t]=e}function _o(e){return typeof e=="string"?Cf[e]||Cf[e.toLowerCase()]:void 0}function fT(e){var t={},n,r;for(r in e)Vt(e,r)&&(n=_o(r),n&&(t[n]=e[r]));return t}var fD={};function Fr(e,t){fD[e]=t}function Tq(e){var t=[],n;for(n in e)Vt(e,n)&&t.push({unit:n,priority:fD[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function Jx(e){return e%4===0&&e%100!==0||e%400===0}function ro(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _t(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=ro(t)),n}function eh(e,t){return function(n){return n!=null?(pD(this,e,n),ye.updateOffset(this,t),this):b0(this,e)}}function b0(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function pD(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Jx(e.year())&&e.month()===1&&e.date()===29?(n=_t(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ib(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Cq(e){return e=_o(e),Ms(this[e])?this[e]():this}function Aq(e,t){if(typeof e=="object"){e=fT(e);var n=Tq(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=_o(e),Ms(this[e]))return this[e](t);return this}var mD=/\d/,Vi=/\d\d/,gD=/\d{3}/,pT=/\d{4}/,Qx=/[+-]?\d{6}/,vn=/\d\d?/,vD=/\d\d\d\d?/,yD=/\d\d\d\d\d\d?/,eb=/\d{1,3}/,mT=/\d{1,4}/,tb=/[+-]?\d{1,6}/,th=/\d+/,nb=/[+-]?\d+/,kq=/Z|[+-]\d\d:?\d\d/gi,rb=/Z|[+-]\d\d(?::?\d\d)?/gi,Mq=/[+-]?\d+(\.\d{1,3})?/,Lm=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,w0;w0={};function Ne(e,t,n){w0[e]=Ms(t)?t:function(r,i){return r&&n?n:t}}function Lq(e,t){return Vt(w0,e)?w0[e](t._strict,t._locale):new RegExp(Pq(e))}function Pq(e){return Ti(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,o){return n||r||i||o}))}function Ti(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var oE={};function sn(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),ua(t)&&(r=function(o,s){s[t]=_t(o)}),i=e.length,n=0;n<i;n++)oE[e[n]]=r}function Pm(e,t){sn(e,function(n,r,i,o){i._w=i._w||{},t(n,i._w,i,o)})}function Rq(e,t,n){t!=null&&Vt(oE,e)&&oE[e](t,n._a,n,e)}var Pr=0,Js=1,ls=2,Kn=3,Do=4,Qs=5,ac=6,Oq=7,Iq=8;function Nq(e,t){return(e%t+t)%t}var Bn;Array.prototype.indexOf?Bn=Array.prototype.indexOf:Bn=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function ib(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Nq(t,12);return e+=(t-n)/12,n===1?Jx(e)?29:28:31-n%7%2}$e("M",["MM",2],"Mo",function(){return this.month()+1});$e("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});$e("MMMM",0,0,function(e){return this.localeData().months(this,e)});Br("month","M");Fr("month",8);Ne("M",vn);Ne("MM",vn,Vi);Ne("MMM",function(e,t){return t.monthsShortRegex(e)});Ne("MMMM",function(e,t){return t.monthsRegex(e)});sn(["M","MM"],function(e,t){t[Js]=_t(e)-1});sn(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Js]=i:pt(n).invalidMonth=e});var Dq="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),bD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Bq=Lm,Fq=Lm;function jq(e,t){return e?Wo(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||bD).test(t)?"format":"standalone"][e.month()]:Wo(this._months)?this._months:this._months.standalone}function zq(e,t){return e?Wo(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[bD.test(t)?"format":"standalone"][e.month()]:Wo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Uq(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=ks([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(i=Bn.call(this._shortMonthsParse,s),i!==-1?i:null):(i=Bn.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=Bn.call(this._shortMonthsParse,s),i!==-1?i:(i=Bn.call(this._longMonthsParse,s),i!==-1?i:null)):(i=Bn.call(this._longMonthsParse,s),i!==-1?i:(i=Bn.call(this._shortMonthsParse,s),i!==-1?i:null))}function Hq(e,t,n){var r,i,o;if(this._monthsParseExact)return Uq.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=ks([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function wD(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=_t(t);else if(t=e.localeData().monthsParse(t),!ua(t))return e}return n=Math.min(e.date(),ib(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function _D(e){return e!=null?(wD(this,e),ye.updateOffset(this,!0),this):b0(this,"Month")}function Gq(){return ib(this.year(),this.month())}function Vq(e){return this._monthsParseExact?(Vt(this,"_monthsRegex")||ED.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Vt(this,"_monthsShortRegex")||(this._monthsShortRegex=Bq),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Wq(e){return this._monthsParseExact?(Vt(this,"_monthsRegex")||ED.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Vt(this,"_monthsRegex")||(this._monthsRegex=Fq),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ED(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=ks([2e3,i]),t.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=Ti(t[i]),n[i]=Ti(n[i]);for(i=0;i<24;i++)r[i]=Ti(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}$e("Y",0,0,function(){var e=this.year();return e<=9999?vs(e,4):"+"+e});$e(0,["YY",2],0,function(){return this.year()%100});$e(0,["YYYY",4],0,"year");$e(0,["YYYYY",5],0,"year");$e(0,["YYYYYY",6,!0],0,"year");Br("year","y");Fr("year",1);Ne("Y",nb);Ne("YY",vn,Vi);Ne("YYYY",mT,pT);Ne("YYYYY",tb,Qx);Ne("YYYYYY",tb,Qx);sn(["YYYYY","YYYYYY"],Pr);sn("YYYY",function(e,t){t[Pr]=e.length===2?ye.parseTwoDigitYear(e):_t(e)});sn("YY",function(e,t){t[Pr]=ye.parseTwoDigitYear(e)});sn("Y",function(e,t){t[Pr]=parseInt(e,10)});function Af(e){return Jx(e)?366:365}ye.parseTwoDigitYear=function(e){return _t(e)+(_t(e)>68?1900:2e3)};var SD=eh("FullYear",!0);function $q(){return Jx(this.year())}function Yq(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function dp(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function _0(e,t,n){var r=7+t-n,i=(7+dp(e,0,r).getUTCDay()-t)%7;return-i+r-1}function TD(e,t,n,r,i){var o=(7+n-r)%7,s=_0(e,r,i),a=1+7*(t-1)+o+s,l,c;return a<=0?(l=e-1,c=Af(l)+a):a>Af(e)?(l=e+1,c=a-Af(e)):(l=e,c=a),{year:l,dayOfYear:c}}function hp(e,t,n){var r=_0(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=e.year()-1,o=i+ra(s,t,n)):i>ra(e.year(),t,n)?(o=i-ra(e.year(),t,n),s=e.year()+1):(s=e.year(),o=i),{week:o,year:s}}function ra(e,t,n){var r=_0(e,t,n),i=_0(e+1,t,n);return(Af(e)-r+i)/7}$e("w",["ww",2],"wo","week");$e("W",["WW",2],"Wo","isoWeek");Br("week","w");Br("isoWeek","W");Fr("week",5);Fr("isoWeek",5);Ne("w",vn);Ne("ww",vn,Vi);Ne("W",vn);Ne("WW",vn,Vi);Pm(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_t(e)});function qq(e){return hp(e,this._week.dow,this._week.doy).week}var Zq={dow:0,doy:6};function Xq(){return this._week.dow}function Kq(){return this._week.doy}function Jq(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Qq(e){var t=hp(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}$e("d",0,"do","day");$e("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});$e("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});$e("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});$e("e",0,0,"weekday");$e("E",0,0,"isoWeekday");Br("day","d");Br("weekday","e");Br("isoWeekday","E");Fr("day",11);Fr("weekday",11);Fr("isoWeekday",11);Ne("d",vn);Ne("e",vn);Ne("E",vn);Ne("dd",function(e,t){return t.weekdaysMinRegex(e)});Ne("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ne("dddd",function(e,t){return t.weekdaysRegex(e)});Pm(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:pt(n).invalidWeekday=e});Pm(["d","e","E"],function(e,t,n,r){t[r]=_t(e)});function eZ(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function tZ(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function gT(e,t){return e.slice(t,7).concat(e.slice(0,t))}var nZ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),CD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),rZ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),iZ=Lm,oZ=Lm,sZ=Lm;function aZ(e,t){var n=Wo(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?gT(n,this._week.dow):e?n[e.day()]:n}function lZ(e){return e===!0?gT(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function cZ(e){return e===!0?gT(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function uZ(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=ks([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(i=Bn.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=Bn.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=Bn.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=Bn.call(this._weekdaysParse,s),i!==-1||(i=Bn.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=Bn.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=Bn.call(this._shortWeekdaysParse,s),i!==-1||(i=Bn.call(this._weekdaysParse,s),i!==-1)?i:(i=Bn.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=Bn.call(this._minWeekdaysParse,s),i!==-1||(i=Bn.call(this._weekdaysParse,s),i!==-1)?i:(i=Bn.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function dZ(e,t,n){var r,i,o;if(this._weekdaysParseExact)return uZ.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=ks([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function hZ(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=eZ(e,this.localeData()),this.add(e-t,"d")):t}function fZ(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function pZ(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=tZ(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function mZ(e){return this._weekdaysParseExact?(Vt(this,"_weekdaysRegex")||vT.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Vt(this,"_weekdaysRegex")||(this._weekdaysRegex=iZ),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function gZ(e){return this._weekdaysParseExact?(Vt(this,"_weekdaysRegex")||vT.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Vt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=oZ),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function vZ(e){return this._weekdaysParseExact?(Vt(this,"_weekdaysRegex")||vT.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Vt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=sZ),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vT(){function e(d,h){return h.length-d.length}var t=[],n=[],r=[],i=[],o,s,a,l,c;for(o=0;o<7;o++)s=ks([2e3,1]).day(o),a=Ti(this.weekdaysMin(s,"")),l=Ti(this.weekdaysShort(s,"")),c=Ti(this.weekdays(s,"")),t.push(a),n.push(l),r.push(c),i.push(a),i.push(l),i.push(c);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function yT(){return this.hours()%12||12}function yZ(){return this.hours()||24}$e("H",["HH",2],0,"hour");$e("h",["hh",2],0,yT);$e("k",["kk",2],0,yZ);$e("hmm",0,0,function(){return""+yT.apply(this)+vs(this.minutes(),2)});$e("hmmss",0,0,function(){return""+yT.apply(this)+vs(this.minutes(),2)+vs(this.seconds(),2)});$e("Hmm",0,0,function(){return""+this.hours()+vs(this.minutes(),2)});$e("Hmmss",0,0,function(){return""+this.hours()+vs(this.minutes(),2)+vs(this.seconds(),2)});function AD(e,t){$e(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}AD("a",!0);AD("A",!1);Br("hour","h");Fr("hour",13);function kD(e,t){return t._meridiemParse}Ne("a",kD);Ne("A",kD);Ne("H",vn);Ne("h",vn);Ne("k",vn);Ne("HH",vn,Vi);Ne("hh",vn,Vi);Ne("kk",vn,Vi);Ne("hmm",vD);Ne("hmmss",yD);Ne("Hmm",vD);Ne("Hmmss",yD);sn(["H","HH"],Kn);sn(["k","kk"],function(e,t,n){var r=_t(e);t[Kn]=r===24?0:r});sn(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});sn(["h","hh"],function(e,t,n){t[Kn]=_t(e),pt(n).bigHour=!0});sn("hmm",function(e,t,n){var r=e.length-2;t[Kn]=_t(e.substr(0,r)),t[Do]=_t(e.substr(r)),pt(n).bigHour=!0});sn("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Kn]=_t(e.substr(0,r)),t[Do]=_t(e.substr(r,2)),t[Qs]=_t(e.substr(i)),pt(n).bigHour=!0});sn("Hmm",function(e,t,n){var r=e.length-2;t[Kn]=_t(e.substr(0,r)),t[Do]=_t(e.substr(r))});sn("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Kn]=_t(e.substr(0,r)),t[Do]=_t(e.substr(r,2)),t[Qs]=_t(e.substr(i))});function xZ(e){return(e+"").toLowerCase().charAt(0)==="p"}var bZ=/[ap]\.?m?\.?/i,wZ=eh("Hours",!0);function _Z(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var MD={calendar:dq,longDateFormat:mq,invalidDate:vq,ordinal:xq,dayOfMonthOrdinalParse:bq,relativeTime:_q,months:Dq,monthsShort:xD,week:Zq,weekdays:nZ,weekdaysMin:rZ,weekdaysShort:CD,meridiemParse:bZ},xn={},Hh={},fp;function EZ(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function jL(e){return e&&e.toLowerCase().replace("_","-")}function SZ(e){for(var t=0,n,r,i,o;t<e.length;){for(o=jL(e[t]).split("-"),n=o.length,r=jL(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=ob(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&EZ(o,r)>=n-1)break;n--}t++}return fp}function TZ(e){return e.match("^[^/\\\\]*$")!=null}function ob(e){var t=null,n;if(xn[e]===void 0&&typeof module<"u"&&module&&module.exports&&TZ(e))try{t=fp._abbr,n=require,n("./locale/"+e),cl(t)}catch{xn[e]=null}return xn[e]}function cl(e,t){var n;return e&&(ai(t)?n=xa(e):n=xT(e,t),n?fp=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),fp._abbr}function xT(e,t){if(t!==null){var n,r=MD;if(t.abbr=e,xn[e]!=null)dD("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=xn[e]._config;else if(t.parentLocale!=null)if(xn[t.parentLocale]!=null)r=xn[t.parentLocale]._config;else if(n=ob(t.parentLocale),n!=null)r=n._config;else return Hh[t.parentLocale]||(Hh[t.parentLocale]=[]),Hh[t.parentLocale].push({name:e,config:t}),null;return xn[e]=new dT(rE(r,t)),Hh[e]&&Hh[e].forEach(function(i){xT(i.name,i.config)}),cl(e),xn[e]}else return delete xn[e],null}function CZ(e,t){if(t!=null){var n,r,i=MD;xn[e]!=null&&xn[e].parentLocale!=null?xn[e].set(rE(xn[e]._config,t)):(r=ob(e),r!=null&&(i=r._config),t=rE(i,t),r==null&&(t.abbr=e),n=new dT(t),n.parentLocale=xn[e],xn[e]=n),cl(e)}else xn[e]!=null&&(xn[e].parentLocale!=null?(xn[e]=xn[e].parentLocale,e===cl()&&cl(e)):xn[e]!=null&&delete xn[e]);return xn[e]}function xa(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return fp;if(!Wo(e)){if(t=ob(e),t)return t;e=[e]}return SZ(e)}function AZ(){return iE(xn)}function bT(e){var t,n=e._a;return n&&pt(e).overflow===-2&&(t=n[Js]<0||n[Js]>11?Js:n[ls]<1||n[ls]>ib(n[Pr],n[Js])?ls:n[Kn]<0||n[Kn]>24||n[Kn]===24&&(n[Do]!==0||n[Qs]!==0||n[ac]!==0)?Kn:n[Do]<0||n[Do]>59?Do:n[Qs]<0||n[Qs]>59?Qs:n[ac]<0||n[ac]>999?ac:-1,pt(e)._overflowDayOfYear&&(t<Pr||t>ls)&&(t=ls),pt(e)._overflowWeeks&&t===-1&&(t=Oq),pt(e)._overflowWeekday&&t===-1&&(t=Iq),pt(e).overflow=t),e}var kZ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,MZ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,LZ=/Z|[+-]\d\d(?::?\d\d)?/,Gg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],J1=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],PZ=/^\/?Date\((-?\d+)/i,RZ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,OZ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function LD(e){var t,n,r=e._i,i=kZ.exec(r)||MZ.exec(r),o,s,a,l,c=Gg.length,d=J1.length;if(i){for(pt(e).iso=!0,t=0,n=c;t<n;t++)if(Gg[t][1].exec(i[1])){s=Gg[t][0],o=Gg[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,n=d;t<n;t++)if(J1[t][1].exec(i[3])){a=(i[2]||" ")+J1[t][0];break}if(a==null){e._isValid=!1;return}}if(!o&&a!=null){e._isValid=!1;return}if(i[4])if(LZ.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(l||""),_T(e)}else e._isValid=!1}function IZ(e,t,n,r,i,o){var s=[NZ(e),xD.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function NZ(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function DZ(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function BZ(e,t,n){if(e){var r=CD.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return pt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function FZ(e,t,n){if(e)return OZ[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function PD(e){var t=RZ.exec(DZ(e._i)),n;if(t){if(n=IZ(t[4],t[3],t[2],t[5],t[6],t[7]),!BZ(t[1],n,e))return;e._a=n,e._tzm=FZ(t[8],t[9],t[10]),e._d=dp.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),pt(e).rfc2822=!0}else e._isValid=!1}function jZ(e){var t=PZ.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(LD(e),e._isValid===!1)delete e._isValid;else return;if(PD(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:ye.createFromInputFallback(e)}ye.createFromInputFallback=wo("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function bu(e,t,n){return e??t??n}function zZ(e){var t=new Date(ye.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function wT(e){var t,n,r=[],i,o,s;if(!e._d){for(i=zZ(e),e._w&&e._a[ls]==null&&e._a[Js]==null&&UZ(e),e._dayOfYear!=null&&(s=bu(e._a[Pr],i[Pr]),(e._dayOfYear>Af(s)||e._dayOfYear===0)&&(pt(e)._overflowDayOfYear=!0),n=dp(s,0,e._dayOfYear),e._a[Js]=n.getUTCMonth(),e._a[ls]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Kn]===24&&e._a[Do]===0&&e._a[Qs]===0&&e._a[ac]===0&&(e._nextDay=!0,e._a[Kn]=0),e._d=(e._useUTC?dp:Yq).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Kn]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(pt(e).weekdayMismatch=!0)}}function UZ(e){var t,n,r,i,o,s,a,l,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,s=4,n=bu(t.GG,e._a[Pr],hp(gn(),1,4).year),r=bu(t.W,1),i=bu(t.E,1),(i<1||i>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,c=hp(gn(),o,s),n=bu(t.gg,e._a[Pr],c.year),r=bu(t.w,c.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>ra(n,o,s)?pt(e)._overflowWeeks=!0:l!=null?pt(e)._overflowWeekday=!0:(a=TD(n,r,i,o,s),e._a[Pr]=a.year,e._dayOfYear=a.dayOfYear)}ye.ISO_8601=function(){};ye.RFC_2822=function(){};function _T(e){if(e._f===ye.ISO_8601){LD(e);return}if(e._f===ye.RFC_2822){PD(e);return}e._a=[],pt(e).empty=!0;var t=""+e._i,n,r,i,o,s,a=t.length,l=0,c,d;for(i=hD(e._f,e._locale).match(hT)||[],d=i.length,n=0;n<d;n++)o=i[n],r=(t.match(Lq(o,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&pt(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),l+=r.length),Qu[o]?(r?pt(e).empty=!1:pt(e).unusedTokens.push(o),Rq(o,r,e)):e._strict&&!r&&pt(e).unusedTokens.push(o);pt(e).charsLeftOver=a-l,t.length>0&&pt(e).unusedInput.push(t),e._a[Kn]<=12&&pt(e).bigHour===!0&&e._a[Kn]>0&&(pt(e).bigHour=void 0),pt(e).parsedDateParts=e._a.slice(0),pt(e).meridiem=e._meridiem,e._a[Kn]=HZ(e._locale,e._a[Kn],e._meridiem),c=pt(e).era,c!==null&&(e._a[Pr]=e._locale.erasConvertYear(c,e._a[Pr])),wT(e),bT(e)}function HZ(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function GZ(e){var t,n,r,i,o,s,a=!1,l=e._f.length;if(l===0){pt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)o=0,s=!1,t=uT({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],_T(t),cT(t)&&(s=!0),o+=pt(t).charsLeftOver,o+=pt(t).unusedTokens.length*10,pt(t).score=o,a?o<r&&(r=o,n=t):(r==null||o<r||s)&&(r=o,n=t,s&&(a=!0));qa(e,n||t)}function VZ(e){if(!e._d){var t=fT(e._i),n=t.day===void 0?t.date:t.day;e._a=cD([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),wT(e)}}function WZ(e){var t=new Mm(bT(RD(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function RD(e){var t=e._i,n=e._f;return e._locale=e._locale||xa(e._l),t===null||n===void 0&&t===""?Kx({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),$o(t)?new Mm(bT(t)):(km(t)?e._d=t:Wo(n)?GZ(e):n?_T(e):$Z(e),cT(e)||(e._d=null),e))}function $Z(e){var t=e._i;ai(t)?e._d=new Date(ye.now()):km(t)?e._d=new Date(t.valueOf()):typeof t=="string"?jZ(e):Wo(t)?(e._a=cD(t.slice(0),function(n){return parseInt(n,10)}),wT(e)):pc(t)?VZ(e):ua(t)?e._d=new Date(t):ye.createFromInputFallback(e)}function OD(e,t,n,r,i){var o={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(pc(e)&&lT(e)||Wo(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,WZ(o)}function gn(e,t,n,r){return OD(e,t,n,r,!1)}var YZ=wo("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=gn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Kx()}),qZ=wo("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=gn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Kx()});function ID(e,t){var n,r;if(t.length===1&&Wo(t[0])&&(t=t[0]),!t.length)return gn();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function ZZ(){var e=[].slice.call(arguments,0);return ID("isBefore",e)}function XZ(){var e=[].slice.call(arguments,0);return ID("isAfter",e)}var KZ=function(){return Date.now?Date.now():+new Date},Gh=["year","quarter","month","week","day","hour","minute","second","millisecond"];function JZ(e){var t,n=!1,r,i=Gh.length;for(t in e)if(Vt(e,t)&&!(Bn.call(Gh,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Gh[r]]){if(n)return!1;parseFloat(e[Gh[r]])!==_t(e[Gh[r]])&&(n=!0)}return!0}function QZ(){return this._isValid}function eX(){return Xo(NaN)}function sb(e){var t=fT(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=JZ(t),this._milliseconds=+d+c*1e3+l*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=xa(),this._bubble()}function Mv(e){return e instanceof sb}function sE(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function tX(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&_t(e[s])!==_t(t[s]))&&o++;return o+i}function ND(e,t){$e(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+vs(~~(n/60),2)+t+vs(~~n%60,2)})}ND("Z",":");ND("ZZ","");Ne("Z",rb);Ne("ZZ",rb);sn(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=ET(rb,e)});var nX=/([\+\-]|\d\d)/gi;function ET(e,t){var n=(t||"").match(e),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(nX)||["-",0,0],o=+(i[1]*60)+_t(i[2]),o===0?0:i[0]==="+"?o:-o)}function ST(e,t){var n,r;return t._isUTC?(n=t.clone(),r=($o(e)||km(e)?e.valueOf():gn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ye.updateOffset(n,!1),n):gn(e).local()}function aE(e){return-Math.round(e._d.getTimezoneOffset())}ye.updateOffset=function(){};function rX(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ET(rb,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=aE(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?FD(this,Xo(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ye.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:aE(this)}function iX(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function oX(e){return this.utcOffset(0,e)}function sX(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(aE(this),"m")),this}function aX(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ET(kq,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function lX(e){return this.isValid()?(e=e?gn(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function cX(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function uX(){if(!ai(this._isDSTShifted))return this._isDSTShifted;var e={},t;return uT(e,this),e=RD(e),e._a?(t=e._isUTC?ks(e._a):gn(e._a),this._isDSTShifted=this.isValid()&&tX(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function dX(){return this.isValid()?!this._isUTC:!1}function hX(){return this.isValid()?this._isUTC:!1}function DD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var fX=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,pX=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xo(e,t){var n=e,r=null,i,o,s;return Mv(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:ua(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=fX.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:_t(r[ls])*i,h:_t(r[Kn])*i,m:_t(r[Do])*i,s:_t(r[Qs])*i,ms:_t(sE(r[ac]*1e3))*i}):(r=pX.exec(e))?(i=r[1]==="-"?-1:1,n={y:Vl(r[2],i),M:Vl(r[3],i),w:Vl(r[4],i),d:Vl(r[5],i),h:Vl(r[6],i),m:Vl(r[7],i),s:Vl(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=mX(gn(n.from),gn(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new sb(n),Mv(e)&&Vt(e,"_locale")&&(o._locale=e._locale),Mv(e)&&Vt(e,"_isValid")&&(o._isValid=e._isValid),o}Xo.fn=sb.prototype;Xo.invalid=eX;function Vl(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function zL(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function mX(e,t){var n;return e.isValid()&&t.isValid()?(t=ST(t,e),e.isBefore(t)?n=zL(e,t):(n=zL(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function BD(e,t){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(dD(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Xo(n,r),FD(this,i,e),this}}function FD(e,t,n,r){var i=t._milliseconds,o=sE(t._days),s=sE(t._months);e.isValid()&&(r=r??!0,s&&wD(e,b0(e,"Month")+s*n),o&&pD(e,"Date",b0(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&ye.updateOffset(e,o||s))}var gX=BD(1,"add"),vX=BD(-1,"subtract");function jD(e){return typeof e=="string"||e instanceof String}function yX(e){return $o(e)||km(e)||jD(e)||ua(e)||bX(e)||xX(e)||e===null||e===void 0}function xX(e){var t=pc(e)&&!lT(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||Vt(e,o);return t&&n}function bX(e){var t=Wo(e),n=!1;return t&&(n=e.filter(function(r){return!ua(r)&&jD(e)}).length===0),t&&n}function wX(e){var t=pc(e)&&!lT(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||Vt(e,o);return t&&n}function _X(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function EX(e,t){arguments.length===1&&(arguments[0]?yX(arguments[0])?(e=arguments[0],t=void 0):wX(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||gn(),r=ST(n,this).startOf("day"),i=ye.calendarFormat(this,r)||"sameElse",o=t&&(Ms(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,gn(n)))}function SX(){return new Mm(this)}function TX(e,t){var n=$o(e)?e:gn(e);return this.isValid()&&n.isValid()?(t=_o(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function CX(e,t){var n=$o(e)?e:gn(e);return this.isValid()&&n.isValid()?(t=_o(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function AX(e,t,n,r){var i=$o(e)?e:gn(e),o=$o(t)?t:gn(t);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function kX(e,t){var n=$o(e)?e:gn(e),r;return this.isValid()&&n.isValid()?(t=_o(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function MX(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function LX(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function PX(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=ST(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=_o(t),t){case"year":o=Lv(this,r)/12;break;case"month":o=Lv(this,r);break;case"quarter":o=Lv(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ro(o)}function Lv(e,t){if(e.date()<t.date())return-Lv(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,o;return t-r<0?(i=e.clone().add(n-1,"months"),o=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),o=(t-r)/(i-r)),-(n+o)||0}ye.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ye.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function RX(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function OX(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?kv(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ms(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",kv(n,"Z")):kv(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function IX(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+r+i+o)}function NX(e){e||(e=this.isUtc()?ye.defaultFormatUtc:ye.defaultFormat);var t=kv(this,e);return this.localeData().postformat(t)}function DX(e,t){return this.isValid()&&($o(e)&&e.isValid()||gn(e).isValid())?Xo({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function BX(e){return this.from(gn(),e)}function FX(e,t){return this.isValid()&&($o(e)&&e.isValid()||gn(e).isValid())?Xo({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function jX(e){return this.to(gn(),e)}function zD(e){var t;return e===void 0?this._locale._abbr:(t=xa(e),t!=null&&(this._locale=t),this)}var UD=wo("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function HD(){return this._locale}var E0=1e3,ed=60*E0,S0=60*ed,GD=(365*400+97)*24*S0;function td(e,t){return(e%t+t)%t}function VD(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-GD:new Date(e,t,n).valueOf()}function WD(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-GD:Date.UTC(e,t,n)}function zX(e){var t,n;if(e=_o(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?WD:VD,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=td(t+(this._isUTC?0:this.utcOffset()*ed),S0);break;case"minute":t=this._d.valueOf(),t-=td(t,ed);break;case"second":t=this._d.valueOf(),t-=td(t,E0);break}return this._d.setTime(t),ye.updateOffset(this,!0),this}function UX(e){var t,n;if(e=_o(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?WD:VD,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=S0-td(t+(this._isUTC?0:this.utcOffset()*ed),S0)-1;break;case"minute":t=this._d.valueOf(),t+=ed-td(t,ed)-1;break;case"second":t=this._d.valueOf(),t+=E0-td(t,E0)-1;break}return this._d.setTime(t),ye.updateOffset(this,!0),this}function HX(){return this._d.valueOf()-(this._offset||0)*6e4}function GX(){return Math.floor(this.valueOf()/1e3)}function VX(){return new Date(this.valueOf())}function WX(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function $X(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function YX(){return this.isValid()?this.toISOString():null}function qX(){return cT(this)}function ZX(){return qa({},pt(this))}function XX(){return pt(this).overflow}function KX(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}$e("N",0,0,"eraAbbr");$e("NN",0,0,"eraAbbr");$e("NNN",0,0,"eraAbbr");$e("NNNN",0,0,"eraName");$e("NNNNN",0,0,"eraNarrow");$e("y",["y",1],"yo","eraYear");$e("y",["yy",2],0,"eraYear");$e("y",["yyy",3],0,"eraYear");$e("y",["yyyy",4],0,"eraYear");Ne("N",TT);Ne("NN",TT);Ne("NNN",TT);Ne("NNNN",lK);Ne("NNNNN",cK);sn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?pt(n).era=i:pt(n).invalidEra=e});Ne("y",th);Ne("yy",th);Ne("yyy",th);Ne("yyyy",th);Ne("yo",uK);sn(["y","yy","yyy","yyyy"],Pr);sn(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Pr]=n._locale.eraYearOrdinalParse(e,i):t[Pr]=parseInt(e,10)});function JX(e,t){var n,r,i,o=this._eras||xa("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=ye(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=ye(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function QX(e,t,n){var r,i,o=this.eras(),s,a,l;for(e=e.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),l=o[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[r];break;case"NNNN":if(s===e)return o[r];break;case"NNNNN":if(l===e)return o[r];break}else if([s,a,l].indexOf(e)>=0)return o[r]}function eK(e,t){var n=e.since<=e.until?1:-1;return t===void 0?ye(e.since).year():ye(e.since).year()+(t-e.offset)*n}function tK(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function nK(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function rK(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function iK(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-ye(i[e].since).year())*n+i[e].offset;return this.year()}function oK(e){return Vt(this,"_erasNameRegex")||CT.call(this),e?this._erasNameRegex:this._erasRegex}function sK(e){return Vt(this,"_erasAbbrRegex")||CT.call(this),e?this._erasAbbrRegex:this._erasRegex}function aK(e){return Vt(this,"_erasNarrowRegex")||CT.call(this),e?this._erasNarrowRegex:this._erasRegex}function TT(e,t){return t.erasAbbrRegex(e)}function lK(e,t){return t.erasNameRegex(e)}function cK(e,t){return t.erasNarrowRegex(e)}function uK(e,t){return t._eraYearOrdinalRegex||th}function CT(){var e=[],t=[],n=[],r=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)t.push(Ti(s[i].name)),e.push(Ti(s[i].abbr)),n.push(Ti(s[i].narrow)),r.push(Ti(s[i].name)),r.push(Ti(s[i].abbr)),r.push(Ti(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}$e(0,["gg",2],0,function(){return this.weekYear()%100});$e(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ab(e,t){$e(0,[e,e.length],0,t)}ab("gggg","weekYear");ab("ggggg","weekYear");ab("GGGG","isoWeekYear");ab("GGGGG","isoWeekYear");Br("weekYear","gg");Br("isoWeekYear","GG");Fr("weekYear",1);Fr("isoWeekYear",1);Ne("G",nb);Ne("g",nb);Ne("GG",vn,Vi);Ne("gg",vn,Vi);Ne("GGGG",mT,pT);Ne("gggg",mT,pT);Ne("GGGGG",tb,Qx);Ne("ggggg",tb,Qx);Pm(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_t(e)});Pm(["gg","GG"],function(e,t,n,r){t[r]=ye.parseTwoDigitYear(e)});function dK(e){return $D.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function hK(e){return $D.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function fK(){return ra(this.year(),1,4)}function pK(){return ra(this.isoWeekYear(),1,4)}function mK(){var e=this.localeData()._week;return ra(this.year(),e.dow,e.doy)}function gK(){var e=this.localeData()._week;return ra(this.weekYear(),e.dow,e.doy)}function $D(e,t,n,r,i){var o;return e==null?hp(this,r,i).year:(o=ra(e,r,i),t>o&&(t=o),vK.call(this,e,t,n,r,i))}function vK(e,t,n,r,i){var o=TD(e,t,n,r,i),s=dp(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}$e("Q",0,"Qo","quarter");Br("quarter","Q");Fr("quarter",7);Ne("Q",mD);sn("Q",function(e,t){t[Js]=(_t(e)-1)*3});function yK(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}$e("D",["DD",2],"Do","date");Br("date","D");Fr("date",9);Ne("D",vn);Ne("DD",vn,Vi);Ne("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});sn(["D","DD"],ls);sn("Do",function(e,t){t[ls]=_t(e.match(vn)[0])});var YD=eh("Date",!0);$e("DDD",["DDDD",3],"DDDo","dayOfYear");Br("dayOfYear","DDD");Fr("dayOfYear",4);Ne("DDD",eb);Ne("DDDD",gD);sn(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_t(e)});function xK(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}$e("m",["mm",2],0,"minute");Br("minute","m");Fr("minute",14);Ne("m",vn);Ne("mm",vn,Vi);sn(["m","mm"],Do);var bK=eh("Minutes",!1);$e("s",["ss",2],0,"second");Br("second","s");Fr("second",15);Ne("s",vn);Ne("ss",vn,Vi);sn(["s","ss"],Qs);var wK=eh("Seconds",!1);$e("S",0,0,function(){return~~(this.millisecond()/100)});$e(0,["SS",2],0,function(){return~~(this.millisecond()/10)});$e(0,["SSS",3],0,"millisecond");$e(0,["SSSS",4],0,function(){return this.millisecond()*10});$e(0,["SSSSS",5],0,function(){return this.millisecond()*100});$e(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});$e(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});$e(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});$e(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Br("millisecond","ms");Fr("millisecond",16);Ne("S",eb,mD);Ne("SS",eb,Vi);Ne("SSS",eb,gD);var Za,qD;for(Za="SSSS";Za.length<=9;Za+="S")Ne(Za,th);function _K(e,t){t[ac]=_t(("0."+e)*1e3)}for(Za="S";Za.length<=9;Za+="S")sn(Za,_K);qD=eh("Milliseconds",!1);$e("z",0,0,"zoneAbbr");$e("zz",0,0,"zoneName");function EK(){return this._isUTC?"UTC":""}function SK(){return this._isUTC?"Coordinated Universal Time":""}var be=Mm.prototype;be.add=gX;be.calendar=EX;be.clone=SX;be.diff=PX;be.endOf=UX;be.format=NX;be.from=DX;be.fromNow=BX;be.to=FX;be.toNow=jX;be.get=Cq;be.invalidAt=XX;be.isAfter=TX;be.isBefore=CX;be.isBetween=AX;be.isSame=kX;be.isSameOrAfter=MX;be.isSameOrBefore=LX;be.isValid=qX;be.lang=UD;be.locale=zD;be.localeData=HD;be.max=qZ;be.min=YZ;be.parsingFlags=ZX;be.set=Aq;be.startOf=zX;be.subtract=vX;be.toArray=WX;be.toObject=$X;be.toDate=VX;be.toISOString=OX;be.inspect=IX;typeof Symbol<"u"&&Symbol.for!=null&&(be[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});be.toJSON=YX;be.toString=RX;be.unix=GX;be.valueOf=HX;be.creationData=KX;be.eraName=tK;be.eraNarrow=nK;be.eraAbbr=rK;be.eraYear=iK;be.year=SD;be.isLeapYear=$q;be.weekYear=dK;be.isoWeekYear=hK;be.quarter=be.quarters=yK;be.month=_D;be.daysInMonth=Gq;be.week=be.weeks=Jq;be.isoWeek=be.isoWeeks=Qq;be.weeksInYear=mK;be.weeksInWeekYear=gK;be.isoWeeksInYear=fK;be.isoWeeksInISOWeekYear=pK;be.date=YD;be.day=be.days=hZ;be.weekday=fZ;be.isoWeekday=pZ;be.dayOfYear=xK;be.hour=be.hours=wZ;be.minute=be.minutes=bK;be.second=be.seconds=wK;be.millisecond=be.milliseconds=qD;be.utcOffset=rX;be.utc=oX;be.local=sX;be.parseZone=aX;be.hasAlignedHourOffset=lX;be.isDST=cX;be.isLocal=dX;be.isUtcOffset=hX;be.isUtc=DD;be.isUTC=DD;be.zoneAbbr=EK;be.zoneName=SK;be.dates=wo("dates accessor is deprecated. Use date instead.",YD);be.months=wo("months accessor is deprecated. Use month instead",_D);be.years=wo("years accessor is deprecated. Use year instead",SD);be.zone=wo("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",iX);be.isDSTShifted=wo("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",uX);function TK(e){return gn(e*1e3)}function CK(){return gn.apply(null,arguments).parseZone()}function ZD(e){return e}var $t=dT.prototype;$t.calendar=hq;$t.longDateFormat=gq;$t.invalidDate=yq;$t.ordinal=wq;$t.preparse=ZD;$t.postformat=ZD;$t.relativeTime=Eq;$t.pastFuture=Sq;$t.set=uq;$t.eras=JX;$t.erasParse=QX;$t.erasConvertYear=eK;$t.erasAbbrRegex=sK;$t.erasNameRegex=oK;$t.erasNarrowRegex=aK;$t.months=jq;$t.monthsShort=zq;$t.monthsParse=Hq;$t.monthsRegex=Wq;$t.monthsShortRegex=Vq;$t.week=qq;$t.firstDayOfYear=Kq;$t.firstDayOfWeek=Xq;$t.weekdays=aZ;$t.weekdaysMin=cZ;$t.weekdaysShort=lZ;$t.weekdaysParse=dZ;$t.weekdaysRegex=mZ;$t.weekdaysShortRegex=gZ;$t.weekdaysMinRegex=vZ;$t.isPM=xZ;$t.meridiem=_Z;function T0(e,t,n,r){var i=xa(),o=ks().set(r,t);return i[n](o,e)}function XD(e,t,n){if(ua(e)&&(t=e,e=void 0),e=e||"",t!=null)return T0(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=T0(e,r,n,"month");return i}function AT(e,t,n,r){typeof e=="boolean"?(ua(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,ua(t)&&(n=t,t=void 0),t=t||"");var i=xa(),o=e?i._week.dow:0,s,a=[];if(n!=null)return T0(t,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=T0(t,(s+o)%7,r,"day");return a}function AK(e,t){return XD(e,t,"months")}function kK(e,t){return XD(e,t,"monthsShort")}function MK(e,t,n){return AT(e,t,n,"weekdays")}function LK(e,t,n){return AT(e,t,n,"weekdaysShort")}function PK(e,t,n){return AT(e,t,n,"weekdaysMin")}cl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=_t(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});ye.lang=wo("moment.lang is deprecated. Use moment.locale instead.",cl);ye.langData=wo("moment.langData is deprecated. Use moment.localeData instead.",xa);var Us=Math.abs;function RK(){var e=this._data;return this._milliseconds=Us(this._milliseconds),this._days=Us(this._days),this._months=Us(this._months),e.milliseconds=Us(e.milliseconds),e.seconds=Us(e.seconds),e.minutes=Us(e.minutes),e.hours=Us(e.hours),e.months=Us(e.months),e.years=Us(e.years),this}function KD(e,t,n,r){var i=Xo(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function OK(e,t){return KD(this,e,t,1)}function IK(e,t){return KD(this,e,t,-1)}function UL(e){return e<0?Math.floor(e):Math.ceil(e)}function NK(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,o,s,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=UL(lE(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=ro(e/1e3),r.seconds=i%60,o=ro(i/60),r.minutes=o%60,s=ro(o/60),r.hours=s%24,t+=ro(s/24),l=ro(JD(t)),n+=l,t-=UL(lE(l)),a=ro(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function JD(e){return e*4800/146097}function lE(e){return e*146097/4800}function DK(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=_o(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+JD(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(lE(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function BK(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+_t(this._months/12)*31536e6:NaN}function ba(e){return function(){return this.as(e)}}var FK=ba("ms"),jK=ba("s"),zK=ba("m"),UK=ba("h"),HK=ba("d"),GK=ba("w"),VK=ba("M"),WK=ba("Q"),$K=ba("y");function YK(){return Xo(this)}function qK(e){return e=_o(e),this.isValid()?this[e+"s"]():NaN}function Hc(e){return function(){return this.isValid()?this._data[e]:NaN}}var ZK=Hc("milliseconds"),XK=Hc("seconds"),KK=Hc("minutes"),JK=Hc("hours"),QK=Hc("days"),eJ=Hc("months"),tJ=Hc("years");function nJ(){return ro(this.days()/7)}var Gs=Math.round,ju={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rJ(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function iJ(e,t,n,r){var i=Xo(e).abs(),o=Gs(i.as("s")),s=Gs(i.as("m")),a=Gs(i.as("h")),l=Gs(i.as("d")),c=Gs(i.as("M")),d=Gs(i.as("w")),h=Gs(i.as("y")),f=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||d<=1&&["w"]||d<n.w&&["ww",d]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],f[2]=t,f[3]=+e>0,f[4]=r,rJ.apply(null,f)}function oJ(e){return e===void 0?Gs:typeof e=="function"?(Gs=e,!0):!1}function sJ(e,t){return ju[e]===void 0?!1:t===void 0?ju[e]:(ju[e]=t,e==="s"&&(ju.ss=t-1),!0)}function aJ(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=ju,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},ju,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),o=iJ(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var Q1=Math.abs;function cu(e){return(e>0)-(e<0)||+e}function lb(){if(!this.isValid())return this.localeData().invalidDate();var e=Q1(this._milliseconds)/1e3,t=Q1(this._days),n=Q1(this._months),r,i,o,s,a=this.asSeconds(),l,c,d,h;return a?(r=ro(e/60),i=ro(r/60),e%=60,r%=60,o=ro(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=cu(this._months)!==cu(a)?"-":"",d=cu(this._days)!==cu(a)?"-":"",h=cu(this._milliseconds)!==cu(a)?"-":"",l+"P"+(o?c+o+"Y":"")+(n?c+n+"M":"")+(t?d+t+"D":"")+(i||r||e?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(e?h+s+"S":"")):"P0D"}var Dt=sb.prototype;Dt.isValid=QZ;Dt.abs=RK;Dt.add=OK;Dt.subtract=IK;Dt.as=DK;Dt.asMilliseconds=FK;Dt.asSeconds=jK;Dt.asMinutes=zK;Dt.asHours=UK;Dt.asDays=HK;Dt.asWeeks=GK;Dt.asMonths=VK;Dt.asQuarters=WK;Dt.asYears=$K;Dt.valueOf=BK;Dt._bubble=NK;Dt.clone=YK;Dt.get=qK;Dt.milliseconds=ZK;Dt.seconds=XK;Dt.minutes=KK;Dt.hours=JK;Dt.days=QK;Dt.weeks=nJ;Dt.months=eJ;Dt.years=tJ;Dt.humanize=aJ;Dt.toISOString=lb;Dt.toString=lb;Dt.toJSON=lb;Dt.locale=zD;Dt.localeData=HD;Dt.toIsoString=wo("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lb);Dt.lang=UD;$e("X",0,0,"unix");$e("x",0,0,"valueOf");Ne("x",nb);Ne("X",Mq);sn("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});sn("x",function(e,t,n){n._d=new Date(_t(e))});//! moment.js
ye.version="2.29.4";lq(gn);ye.fn=be;ye.min=ZZ;ye.max=XZ;ye.now=KZ;ye.utc=ks;ye.unix=TK;ye.months=AK;ye.isDate=km;ye.locale=cl;ye.invalid=Kx;ye.duration=Xo;ye.isMoment=$o;ye.weekdays=MK;ye.parseZone=CK;ye.localeData=xa;ye.isDuration=Mv;ye.monthsShort=kK;ye.weekdaysMin=PK;ye.defineLocale=xT;ye.updateLocale=CZ;ye.locales=AZ;ye.weekdaysShort=LK;ye.normalizeUnits=_o;ye.relativeTimeRounding=oJ;ye.relativeTimeThreshold=sJ;ye.calendarFormat=_X;ye.prototype=be;ye.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const lJ=""+new URL("cli-f9ef1393.mp3",import.meta.url).href,cJ=""+new URL("gtav_tone_new_call-eef0824c.mp3",import.meta.url).href,uJ=""+new URL("warning-e26ba838.mp3",import.meta.url).href,dJ=""+new URL("accept-c4acdf31.mp3",import.meta.url).href,QD=R.createContext(),hJ=({children:e})=>{const{t}=it(),{smallDispatch:n}=zn(),[r,i]=R.useState([]),[o,s]=R.useState(0),[a,l]=R.useState(null),[c,d]=R.useState(!0);function h(){let k=new Audio(lJ);k.volume=.3,k.play()}function f(){let k=new Audio(cJ);k.volume=.3,k.play()}function m(){let k=new Audio(uJ);k.volume=.3,k.play()}function g(){let k=new Audio(dJ);k.volume=.3,k.play()}function y(){return!(r.length<=0)}function b(){n&&y()&&(o<r.length-1?s(o+1):s(0))}function x(){n&&y()&&(o>0?s(o-1):s(r.length-1))}function w(k){i(M=>{const I=M.findIndex(N=>(N==null?void 0:N.id)===k);return s(I),[...M]})}function S(k,M,I,N,U,Y,H,G,Z=[]){const ee={code:(k==null?void 0:k.code)||t("NOT_ASIGNED"),codeSnippet:k.snippet||" ",message:M||t("NOT_ASIGNED"),location:I,locationText:N!=null&&N.street1?N.street1:t("NOT_ASIGNED"),officersList:Y||[],createdAt:ye().format(),flashes:H,image:G,id:U,otherData:Z};i(B=>{const D=[...B,ee];return D.length===1&&b(),H?m():f(),D});const V=parseInt(localStorage.getItem("timercount"))*6e4;!isNaN(V)&&V>0&&setTimeout(()=>{i(B=>B.find(J=>(J==null?void 0:J.id)===U)?(Se("deleteDispatchCall",{id:U},()=>{}),B.filter(J=>(J==null?void 0:J.id)!==U)):B)},V)}function _(k,M){const I=[...r],N=I.findIndex(U=>(U==null?void 0:U.id)===k);N!==-1&&(I[N]={...I[N],officersList:M},i(I))}function T(k,M){var I;if(M){const N=r.findIndex(U=>(U==null?void 0:U.id)===M);if(N!==-1){const U=[...r];U.splice(N,1),i([...U]),Se("deleteDispatchCall",{id:M},()=>{}),N===r.length-1&&r.length>1&&s(0)}}else if(k)i([]),Se("deleteDispatchCall",{id:"ALL"},()=>{});else if(r[o]){const N=(I=r[o])==null?void 0:I.id,U=[...r];U.splice(o,1),i([...U]),Se("deleteDispatchCall",{id:N},()=>{}),o===r.length-1&&r.length>1&&s(0)}}function A(){if(!y())return;let k=r[o||0];if((a==null?void 0:a.id)===(k==null?void 0:k.id))l(null),Se("desistCall",{id:k==null?void 0:k.id},()=>{});else{if(!c)return;a!=null&&a.id&&Se("desistCall",{id:a==null?void 0:a.id},()=>{}),l(k),Se("acceptCall",{id:k==null?void 0:k.id},()=>{}),g(),d(!1),setTimeout(function(){d(!0)},4e3)}}function P(k){if(!y())return;let M=r.findIndex(N=>N.id===k),I=r[M||0];if((a==null?void 0:a.id)===(I==null?void 0:I.id))l(null),Se("desistCall",{id:I==null?void 0:I.id},()=>{});else{if(!c)return;a!=null&&a.id&&Se("desistCall",{id:a==null?void 0:a.id},()=>{}),l(I),Se("acceptCall",{id:I==null?void 0:I.id},()=>{}),g(),d(!1),setTimeout(function(){d(!0)},4e3)}}return fn("add_call",k=>{var M,I,N;S((M=k.callCode)==null?void 0:M.code,k.callCode.message,k.callCode.callLocation,k.callCode.callLocationText,(I=k.callCode)==null?void 0:I.id,k.callCode.responding,k.callCode.flashes,k.callCode.image,((N=k==null?void 0:k.callCode)==null?void 0:N.otherData)??[])}),fn("next_call",k=>{b()}),fn("prev_call",k=>{x()}),fn("respond_current",k=>{n&&A()}),fn("update_call",({id:k,responses:M})=>{!k||!M||_(k,M)}),v.jsx(QD.Provider,{value:{callList:r,currentCallIndex:o,respondingCall:a,next:b,prev:x,respondCurrent:A,deleteCall:T,ShowSpecific:w,PlayClick:h,respondSpecific:P},children:e})},Rm=()=>R.useContext(QD),fJ=()=>{var m,g;const{mooving:e,setMooving:t,smallDispatch:n}=zn(),{t:r}=it(),{callList:i,currentCallIndex:o,respondingCall:s}=Rm(),a=()=>{Se("SetNuiFocus",{focused:!1}),t(!1)},l=(y,b)=>{const{x,y:w}=b;localStorage.setItem("smallDispatchPosition",JSON.stringify({x,y:w}))};let c=i[o],d="";c!=null&&c.flashes&&c!==null&&(d=""),(c==null?void 0:c.id)===(s==null?void 0:s.id)&&(c==null?void 0:c.id)!==null&&(c==null?void 0:c.id)!==void 0&&(d="sirens");const h=localStorage.getItem("smallDispatchPosition");let f=h?JSON.parse(h):null;if(!f){let y=window.innerWidth,b=window.innerHeight;f={x:Math.round(y*.8),y:Math.round(b*.32)}}return v.jsx(e3,{handle:"#small_menu",bounds:"parent",onStop:l,defaultPosition:f,children:v.jsxs("div",{id:"small_menu",className:`select-none w-80 max-h-screen overflow-y-auto bg-gray-800 shadow-lg rounded-lg overflow-hidden cursor-move ${d} ${n?"":"hidden"}`,children:[v.jsxs("div",{id:"call-header",className:` ${(c==null?void 0:c.id)===(s==null?void 0:s.id)&&(c==null?void 0:c.id)!==null&&(c==null?void 0:c.id)!==void 0?"police-effect":""} ${c!=null&&c.flashes?"emergence-effect":""} flex justify-between px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700`,children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{id:"current-call",children:i.length>0?o+1:0}),"/",v.jsx("span",{id:"total-calls",children:i.length})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("i",{className:"fas fa-user-secret mr-2"}),v.jsx("span",{id:"officers-count",children:((m=c==null?void 0:c.officersList)==null?void 0:m.length)||0})]})]}),v.jsxs("div",{id:"current-call-details",className:"flex flex-col p-2 text-white",children:[i.length===0&&v.jsx("center",{className:"p-6",children:v.jsx("p",{children:r("NO_DISPATCH_CALLS")})}),i.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:" text-xl",id:"callcode",children:["#",c==null?void 0:c.id," | ",c==null?void 0:c.code,"",v.jsx("span",{className:"text-xs",id:"call-code-snippet",children:c==null?void 0:c.codeSnippet})]}),v.jsx("hr",{}),v.jsx("p",{className:"",id:"message",children:c==null?void 0:c.message}),(c==null?void 0:c.otherData)&&v.jsx("div",{className:" my-1",children:(g=c==null?void 0:c.otherData)==null?void 0:g.map((y,b)=>v.jsxs("p",{className:" text-xs",id:"other-data",children:[v.jsx("i",{className:y==null?void 0:y.icon}),"",y.text]},b))}),v.jsx("p",{className:" text-xs",id:"text-location",children:c==null?void 0:c.locationText}),(c==null?void 0:c.image)&&v.jsx("img",{alt:"callimage",src:c==null?void 0:c.image})]})]}),v.jsxs("div",{id:"call-bottom",className:` ${c!=null&&c.flashes?"emergence-effect":""} flex justify-between px-4 py-2 text-sm font-medium text-white bg-gray-700`,children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("kbd",{className:"mx-1 bg-gray-800 rounded-lg p-1 pt-2 pr-2 pl-2",children:v.jsx("i",{className:"fa-solid fa-arrow-left"})}),v.jsx("kbd",{className:"mx-1 bg-gray-800 rounded-lg p-1 pt-2 pr-2 pl-2",children:(c==null?void 0:c.id)===(s==null?void 0:s.id)&&(c==null?void 0:c.id)!==null&&(c==null?void 0:c.id)!==void 0?r("CANCEL_KEY_SMALL"):r("ACCEPT_KEY_SMALL")}),v.jsx("kbd",{className:"mx-1 bg-gray-800 rounded-lg p-1 pt-2 pr-2 pl-2",children:v.jsx("i",{className:"fa-solid fa-arrow-right"})})]}),v.jsx("div",{className:"flex items-center",children:v.jsx("p",{id:"createdAt",className:"text-xs",children:c!=null&&c.createdAt?ye(c==null?void 0:c.createdAt).fromNow():""})})]}),e&&v.jsx("div",{className:"items-center bg-orange-600 rounded-b-lg",id:"confirm-edit",children:v.jsx("center",{className:"bg-orange-600",children:v.jsx("button",{onClick:a,className:"select-none focus:outline-none font-medium rounded-lg text-sm px-2.5 py-1.5 m-1 bg-blue-600 hover:bg-blue-700 focus:ring-blue-900 text-white",id:"confirm-edit-button",children:r("CONFIRM_EDIT")})})})]})})};var kT={},e4={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(e4);var Eo=e4.exports,ew={};const pJ=mm(AG);var HL;function So(){return HL||(HL=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=pJ}(ew)),ew}var mJ=Eo;Object.defineProperty(kT,"__esModule",{value:!0});var t4=kT.default=void 0,gJ=mJ(So()),vJ=v,yJ=(0,gJ.default)((0,vJ.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t4=kT.default=yJ;var xJ=Object.defineProperty,bJ=(e,t)=>{for(var n in t)xJ(e,n,{get:t[n],enumerable:!0})},Yo={};bJ(Yo,{assign:()=>EJ,colors:()=>ul,createStringInterpolator:()=>NT,skipAnimation:()=>l4,to:()=>a4,willAdvance:()=>DT});var MT=Im(),ct=e=>Om(e,MT),LT=Im();ct.write=e=>Om(e,LT);var cb=Im();ct.onStart=e=>Om(e,cb);var PT=Im();ct.onFrame=e=>Om(e,PT);var RT=Im();ct.onFinish=e=>Om(e,RT);var nd=[];ct.setTimeout=(e,t)=>{const n=ct.now()+t,r=()=>{const o=nd.findIndex(s=>s.cancel==r);~o&&nd.splice(o,1),Ka-=~o?1:0},i={time:n,handler:e,cancel:r};return nd.splice(n4(n),0,i),Ka+=1,r4(),i};var n4=e=>~(~nd.findIndex(t=>t.time>e)||~nd.length);ct.cancel=e=>{cb.delete(e),PT.delete(e),RT.delete(e),MT.delete(e),LT.delete(e)};ct.sync=e=>{cE=!0,ct.batchedUpdates(e),cE=!1};ct.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,ct.onStart(n)}return r.handler=e,r.cancel=()=>{cb.delete(n),t=null},r};var OT=typeof window<"u"?window.requestAnimationFrame:()=>{};ct.use=e=>OT=e;ct.now=typeof performance<"u"?()=>performance.now():Date.now;ct.batchedUpdates=e=>e();ct.catch=console.error;ct.frameLoop="always";ct.advance=()=>{ct.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):o4()};var Xa=-1,Ka=0,cE=!1;function Om(e,t){cE?(t.delete(e),e(0)):(t.add(e),r4())}function r4(){Xa<0&&(Xa=0,ct.frameLoop!=="demand"&&OT(i4))}function wJ(){Xa=-1}function i4(){~Xa&&(OT(i4),ct.batchedUpdates(o4))}function o4(){const e=Xa;Xa=ct.now();const t=n4(Xa);if(t&&(s4(nd.splice(0,t),n=>n.handler()),Ka-=t),!Ka){wJ();return}cb.flush(),MT.flush(e?Math.min(64,Xa-e):16.667),PT.flush(),LT.flush(),RT.flush()}function Im(){let e=new Set,t=e;return{add(n){Ka+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Ka-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Ka-=t.size,s4(t,r=>r(n)&&e.add(r)),Ka+=e.size,t=e)}}}function s4(e,t){e.forEach(n=>{try{t(n)}catch(r){ct.catch(r)}})}function uE(){}var _J=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),ve={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Vs(e,t){if(ve.arr(e)){if(!ve.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var rt=(e,t)=>e.forEach(t);function ys(e,t,n){if(ve.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Xr=e=>ve.und(e)?[]:ve.arr(e)?e:[e];function kf(e,t){if(e.size){const n=Array.from(e);e.clear(),rt(n,t)}}var af=(e,...t)=>kf(e,n=>n(...t)),IT=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),NT,a4,ul=null,l4=!1,DT=uE,EJ=e=>{e.to&&(a4=e.to),e.now&&(ct.now=e.now),e.colors!==void 0&&(ul=e.colors),e.skipAnimation!=null&&(l4=e.skipAnimation),e.createStringInterpolator&&(NT=e.createStringInterpolator),e.requestAnimationFrame&&ct.use(e.requestAnimationFrame),e.batchedUpdates&&(ct.batchedUpdates=e.batchedUpdates),e.willAdvance&&(DT=e.willAdvance),e.frameLoop&&(ct.frameLoop=e.frameLoop)},Mf=new Set,oo=[],tw=[],C0=0,ub={get idle(){return!Mf.size&&!oo.length},start(e){C0>e.priority?(Mf.add(e),ct.onStart(SJ)):(c4(e),ct(dE))},advance:dE,sort(e){if(C0)ct.onFrame(()=>ub.sort(e));else{const t=oo.indexOf(e);~t&&(oo.splice(t,1),u4(e))}},clear(){oo=[],Mf.clear()}};function SJ(){Mf.forEach(c4),Mf.clear(),ct(dE)}function c4(e){oo.includes(e)||u4(e)}function u4(e){oo.splice(TJ(oo,t=>t.priority>e.priority),0,e)}function dE(e){const t=tw;for(let n=0;n<oo.length;n++){const r=oo[n];C0=r.priority,r.idle||(DT(r),r.advance(e),r.idle||t.push(r))}return C0=0,tw=oo,tw.length=0,oo=t,oo.length>0}function TJ(e,t){const n=e.findIndex(t);return n<0?e.length:n}var CJ=(e,t,n)=>Math.min(Math.max(n,e),t),AJ={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Bo="[-+]?\\d*\\.?\\d+",A0=Bo+"%";function db(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var kJ=new RegExp("rgb"+db(Bo,Bo,Bo)),MJ=new RegExp("rgba"+db(Bo,Bo,Bo,Bo)),LJ=new RegExp("hsl"+db(Bo,A0,A0)),PJ=new RegExp("hsla"+db(Bo,A0,A0,Bo)),RJ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,OJ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,IJ=/^#([0-9a-fA-F]{6})$/,NJ=/^#([0-9a-fA-F]{8})$/;function DJ(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=IJ.exec(e))?parseInt(t[1]+"ff",16)>>>0:ul&&ul[e]!==void 0?ul[e]:(t=kJ.exec(e))?(uu(t[1])<<24|uu(t[2])<<16|uu(t[3])<<8|255)>>>0:(t=MJ.exec(e))?(uu(t[1])<<24|uu(t[2])<<16|uu(t[3])<<8|WL(t[4]))>>>0:(t=RJ.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=NJ.exec(e))?parseInt(t[1],16)>>>0:(t=OJ.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=LJ.exec(e))?(GL(VL(t[1]),Vg(t[2]),Vg(t[3]))|255)>>>0:(t=PJ.exec(e))?(GL(VL(t[1]),Vg(t[2]),Vg(t[3]))|WL(t[4]))>>>0:null}function nw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function GL(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=nw(i,r,e+1/3),s=nw(i,r,e),a=nw(i,r,e-1/3);return Math.round(o*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function uu(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function VL(e){return(parseFloat(e)%360+360)%360/360}function WL(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Vg(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function $L(e){let t=DJ(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,o=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${o})`}var pp=(e,t,n)=>{if(ve.fun(e))return e;if(ve.arr(e))return pp({range:e,output:t,extrapolate:n});if(ve.str(e.output[0]))return NT(e);const r=e,i=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const d=FJ(c,o);return BJ(c,o[d],o[d+1],i[d],i[d+1],l,s,a,r.map)}};function BJ(e,t,n,r,i,o,s,a,l){let c=l?l(e):e;if(c<t){if(s==="identity")return c;s==="clamp"&&(c=t)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?c=-c:n===1/0?c=c-t:c=(c-t)/(n-t),c=o(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function FJ(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var jJ=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return CJ(0,1,i/e)},k0=1.70158,Wg=k0*1.525,YL=k0+1,qL=2*Math.PI/3,ZL=2*Math.PI/4.5,$g=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,zJ={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>YL*e*e*e-k0*e*e,easeOutBack:e=>1+YL*Math.pow(e-1,3)+k0*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((Wg+1)*2*e-Wg)/2:(Math.pow(2*e-2,2)*((Wg+1)*(e*2-2)+Wg)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*qL),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*qL)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*ZL))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*ZL)/2+1,easeInBounce:e=>1-$g(1-e),easeOutBounce:$g,easeInOutBounce:e=>e<.5?(1-$g(1-2*e))/2:(1+$g(2*e-1))/2,steps:jJ},mp=Symbol.for("FluidValue.get"),wd=Symbol.for("FluidValue.observers"),io=e=>!!(e&&e[mp]),li=e=>e&&e[mp]?e[mp]():e,XL=e=>e[wd]||null;function UJ(e,t){e.eventObserved?e.eventObserved(t):e(t)}function gp(e,t){const n=e[wd];n&&n.forEach(r=>{UJ(r,t)})}var d4=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");HJ(this,e)}},HJ=(e,t)=>h4(e,mp,t);function nh(e,t){if(e[mp]){let n=e[wd];n||h4(e,wd,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function vp(e,t){const n=e[wd];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[wd]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var h4=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Pv=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,GJ=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,KL=new RegExp(`(${Pv.source})(%|[a-z]+)`,"i"),VJ=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,hb=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,f4=e=>{const[t,n]=WJ(e);if(!t||IT())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&hb.test(n))return f4(n);if(n)return n}return e},WJ=e=>{const t=hb.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},rw,$J=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,p4=e=>{rw||(rw=ul?new RegExp(`(${Object.keys(ul).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(o=>li(o).replace(hb,f4).replace(GJ,$L).replace(rw,$L)),n=t.map(o=>o.match(Pv).map(Number)),i=n[0].map((o,s)=>n.map(a=>{if(!(s in a))throw Error('The arity of each "output" value must be equal');return a[s]})).map(o=>pp({...e,output:o}));return o=>{var l;const s=!KL.test(t[0])&&((l=t.find(c=>KL.test(c)))==null?void 0:l.replace(Pv,""));let a=0;return t[0].replace(Pv,()=>`${i[a++](o)}${s||""}`).replace(VJ,$J)}},BT="react-spring: ",m4=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${BT}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},YJ=m4(console.warn);function qJ(){YJ(`${BT}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var ZJ=m4(console.warn);function XJ(){ZJ(`${BT}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function fb(e){return ve.str(e)&&(e[0]=="#"||/\d/.test(e)||!IT()&&hb.test(e)||e in(ul||{}))}var lc=IT()?R.useEffect:R.useLayoutEffect,KJ=()=>{const e=R.useRef(!1);return lc(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function FT(){const e=R.useState()[1],t=KJ();return()=>{t.current&&e(Math.random())}}function JJ(e,t){const[n]=R.useState(()=>({inputs:t,result:e()})),r=R.useRef(),i=r.current;let o=i;return o?t&&o.inputs&&QJ(t,o.inputs)||(o={inputs:t,result:e()}):o=n,R.useEffect(()=>{r.current=o,i==n&&(n.inputs=n.result=void 0)},[o]),o.result}function QJ(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var jT=e=>R.useEffect(e,eQ),eQ=[];function hE(e){const t=R.useRef();return R.useEffect(()=>{t.current=e}),t.current}var yp=Symbol.for("Animated:node"),tQ=e=>!!e&&e[yp]===e,rs=e=>e&&e[yp],zT=(e,t)=>_J(e,yp,t),pb=e=>e&&e[yp]&&e[yp].getPayload(),g4=class{constructor(){zT(this,this)}getPayload(){return this.payload||[]}},Nm=class extends g4{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,ve.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Nm(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return ve.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ve.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},xp=class extends Nm{constructor(e){super(0),this._string=null,this._toString=pp({output:[e,e]})}static create(e){return new xp(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(ve.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=pp({output:[this.getValue(),e]})),this._value=0,super.reset()}},M0={dependencies:null},mb=class extends g4{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return ys(this.source,(n,r)=>{tQ(n)?t[r]=n.getValue(e):io(n)?t[r]=li(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&rt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return ys(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){M0.dependencies&&io(e)&&M0.dependencies.add(e);const t=pb(e);t&&rt(t,n=>this.add(n))}},v4=class extends mb{constructor(e){super(e)}static create(e){return new v4(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(nQ)),!0)}};function nQ(e){return(fb(e)?xp:Nm).create(e)}function fE(e){const t=rs(e);return t?t.constructor:ve.arr(e)?v4:fb(e)?xp:Nm}var JL=(e,t)=>{const n=!ve.fun(e)||e.prototype&&e.prototype.isReactComponent;return R.forwardRef((r,i)=>{const o=R.useRef(null),s=n&&R.useCallback(g=>{o.current=oQ(i,g)},[i]),[a,l]=iQ(r,t),c=FT(),d=()=>{const g=o.current;if(n&&!g)return;(g?t.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&c()},h=new rQ(d,l),f=R.useRef();lc(()=>(f.current=h,rt(l,g=>nh(g,h)),()=>{f.current&&(rt(f.current.deps,g=>vp(g,f.current)),ct.cancel(f.current.update))})),R.useEffect(d,[]),jT(()=>()=>{const g=f.current;rt(g.deps,y=>vp(y,g))});const m=t.getComponentProps(a.getValue());return R.createElement(e,{...m,ref:s})})},rQ=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&ct.write(this.update)}};function iQ(e,t){const n=new Set;return M0.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new mb(e),M0.dependencies=null,[e,n]}function oQ(e,t){return e&&(ve.fun(e)?e(t):e.current=t),t}var QL=Symbol.for("AnimatedComponent"),sQ=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new mb(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=s=>{const a=eP(s)||"Anonymous";return ve.str(s)?s=o[s]||(o[s]=JL(s,i)):s=s[QL]||(s[QL]=JL(s,i)),s.displayName=`Animated(${a})`,s};return ys(e,(s,a)=>{ve.arr(e)&&(a=eP(s)),o[a]=o(s)}),{animated:o}},eP=e=>ve.str(e)?e:e&&ve.str(e.displayName)?e.displayName:ve.fun(e)&&e.name||null;function ci(e,...t){return ve.fun(e)?e(...t):e}var Lf=(e,t)=>e===!0||!!(t&&e&&(ve.fun(e)?e(t):Xr(e).includes(t))),y4=(e,t)=>ve.obj(e)?t&&e[t]:e,x4=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,aQ=e=>e,gb=(e,t=aQ)=>{let n=lQ;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const o=t(e[i],i);ve.und(o)||(r[i]=o)}return r},lQ=["config","onProps","onStart","onChange","onPause","onResume","onRest"],cQ={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function uQ(e){const t={};let n=0;if(ys(e,(r,i)=>{cQ[i]||(t[i]=r,n++)}),n)return t}function UT(e){const t=uQ(e);if(t){const n={to:t};return ys(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function bp(e){return e=li(e),ve.arr(e)?e.map(bp):fb(e)?Yo.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function b4(e){for(const t in e)return!0;return!1}function pE(e){return ve.fun(e)||ve.arr(e)&&ve.obj(e[0])}function mE(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function w4(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var bl={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},gE={...bl.default,mass:1,damping:1,easing:zJ.linear,clamp:!1},dQ=class{constructor(){this.velocity=0,Object.assign(this,gE)}};function hQ(e,t,n){n&&(n={...n},tP(n,t),t={...n,...t}),tP(e,t),Object.assign(e,t);for(const s in gE)e[s]==null&&(e[s]=gE[s]);let{frequency:r,damping:i}=e;const{mass:o}=e;return ve.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*i*o/r),e}function tP(e,t){if(!ve.und(t.decay))e.duration=void 0;else{const n=!ve.und(t.tension)||!ve.und(t.friction);(n||!ve.und(t.frequency)||!ve.und(t.damping)||!ve.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var nP=[],fQ=class{constructor(){this.changed=!1,this.values=nP,this.toValues=null,this.fromValues=nP,this.config=new dQ,this.immediate=!1}};function _4(e,{key:t,props:n,defaultProps:r,state:i,actions:o}){return new Promise((s,a)=>{let l,c,d=Lf(n.cancel??(r==null?void 0:r.cancel),t);if(d)m();else{ve.und(n.pause)||(i.paused=Lf(n.pause,t));let g=r==null?void 0:r.pause;g!==!0&&(g=i.paused||Lf(g,t)),l=ci(n.delay||0,t),g?(i.resumeQueue.add(f),o.pause()):(o.resume(),f())}function h(){i.resumeQueue.add(f),i.timeouts.delete(c),c.cancel(),l=c.time-ct.now()}function f(){l>0&&!Yo.skipAnimation?(i.delayed=!0,c=ct.setTimeout(m,l),i.pauseQueue.add(h),i.timeouts.add(c)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(c),e<=(i.cancelId||0)&&(d=!0);try{o.start({...n,callId:e,cancel:d},s)}catch(g){a(g)}}})}var HT=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?rd(e.get()):t.every(n=>n.noop)?E4(e.get()):No(e.get(),t.every(n=>n.finished)),E4=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),No=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),rd=e=>({value:e,cancelled:!0,finished:!1});function S4(e,t,n,r){const{callId:i,parentId:o,onRest:s}=t,{asyncTo:a,promise:l}=n;return!o&&e===a&&!t.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const c=gb(t,(b,x)=>x==="onRest"?void 0:b);let d,h;const f=new Promise((b,x)=>(d=b,h=x)),m=b=>{const x=i<=(n.cancelId||0)&&rd(r)||i!==n.asyncId&&No(r,!1);if(x)throw b.result=x,h(b),b},g=(b,x)=>{const w=new rP,S=new iP;return(async()=>{if(Yo.skipAnimation)throw wp(n),S.result=No(r,!1),h(S),S;m(w);const _=ve.obj(b)?{...b}:{...x,to:b};_.parentId=i,ys(c,(A,P)=>{ve.und(_[P])&&(_[P]=A)});const T=await r.start(_);return m(w),n.paused&&await new Promise(A=>{n.resumeQueue.add(A)}),T})()};let y;if(Yo.skipAnimation)return wp(n),No(r,!1);try{let b;ve.arr(e)?b=(async x=>{for(const w of x)await g(w)})(e):b=Promise.resolve(e(g,r.stop.bind(r))),await Promise.all([b.then(d),f]),y=No(r.get(),!0,!1)}catch(b){if(b instanceof rP)y=b.result;else if(b instanceof iP)y=b.result;else throw b}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?a:void 0,n.promise=o?l:void 0)}return ve.fun(s)&&ct.batchedUpdates(()=>{s(y,r,r.item)}),y})()}function wp(e,t){kf(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var rP=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},iP=class extends Error{constructor(){super("SkipAnimationSignal")}},vE=e=>e instanceof GT,pQ=1,GT=class extends d4{constructor(){super(...arguments),this.id=pQ++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=rs(this);return e&&e.getValue()}to(...e){return Yo.to(this,e)}interpolate(...e){return qJ(),Yo.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){gp(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||ub.sort(this),gp(this,{type:"priority",parent:this,priority:e})}},kc=Symbol.for("SpringPhase"),T4=1,yE=2,xE=4,iw=e=>(e[kc]&T4)>0,La=e=>(e[kc]&yE)>0,Vh=e=>(e[kc]&xE)>0,oP=(e,t)=>t?e[kc]|=yE|T4:e[kc]&=~yE,sP=(e,t)=>t?e[kc]|=xE:e[kc]&=~xE,mQ=class extends GT{constructor(e,t){if(super(),this.animation=new fQ,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ve.und(e)||!ve.und(t)){const n=ve.obj(e)?{...e}:{...t,from:e};ve.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(La(this)||this._state.asyncTo)||Vh(this)}get goal(){return li(this.animation.to)}get velocity(){const e=rs(this);return e instanceof Nm?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return iw(this)}get isAnimating(){return La(this)}get isPaused(){return Vh(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,s=pb(r.to);!s&&io(r.to)&&(i=Xr(li(r.to))),r.values.forEach((c,d)=>{if(c.done)return;const h=c.constructor==xp?1:s?s[d].lastPosition:i[d];let f=r.immediate,m=h;if(!f){if(m=c.lastPosition,o.tension<=0){c.done=!0;return}let g=c.elapsedTime+=e;const y=r.fromValues[d],b=c.v0!=null?c.v0:c.v0=ve.arr(o.velocity)?o.velocity[d]:o.velocity;let x;const w=o.precision||(y==h?.005:Math.min(1,Math.abs(h-y)*.001));if(ve.und(o.duration))if(o.decay){const S=o.decay===!0?.998:o.decay,_=Math.exp(-(1-S)*g);m=y+b/(1-S)*(1-_),f=Math.abs(c.lastPosition-m)<=w,x=b*_}else{x=c.lastVelocity==null?b:c.lastVelocity;const S=o.restVelocity||w/10,_=o.clamp?0:o.bounce,T=!ve.und(_),A=y==h?c.v0>0:y<h;let P,k=!1;const M=1,I=Math.ceil(e/M);for(let N=0;N<I&&(P=Math.abs(x)>S,!(!P&&(f=Math.abs(h-m)<=w,f)));++N){T&&(k=m==h||m>h==A,k&&(x=-x*_,m=h));const U=-o.tension*1e-6*(m-h),Y=-o.friction*.001*x,H=(U+Y)/o.mass;x=x+H*M,m=m+x*M}}else{let S=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,c.durationProgress>0&&(c.elapsedTime=o.duration*c.durationProgress,g=c.elapsedTime+=e)),S=(o.progress||0)+g/this._memoizedDuration,S=S>1?1:S<0?0:S,c.durationProgress=S),m=y+o.easing(S)*(h-y),x=(m-c.lastPosition)/e,f=S==1}c.lastVelocity=x,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),f=!0)}s&&!s[d].done&&(f=!1),f?c.done=!0:t=!1,c.setValue(m,o.round)&&(n=!0)});const a=rs(this),l=a.getValue();if(t){const c=li(r.to);(l!==c||n)&&!o.decay?(a.setValue(c),this._onChange(c)):n&&o.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(e){return ct.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(La(this)){const{to:e,config:t}=this.animation;ct.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return ve.und(e)?(n=this.queue||[],this.queue=[]):n=[ve.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>HT(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),wp(this._state,e&&this._lastCallId),ct.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=ve.obj(n)?n[t]:n,(n==null||pE(n))&&(n=void 0),r=ve.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return iw(this)||(e.reverse&&([n,r]=[r,n]),r=li(r),ve.und(r)?rs(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,gb(e,(s,a)=>/^on/.test(a)?y4(s,n):s)),lP(this,e,"onProps"),$h(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return _4(++this._lastCallId,{key:n,props:e,defaultProps:r,state:o,actions:{pause:()=>{Vh(this)||(sP(this,!0),af(o.pauseQueue),$h(this,"onPause",No(this,Wh(this,this.animation.to)),this))},resume:()=>{Vh(this)&&(sP(this,!1),La(this)&&this._resume(),af(o.resumeQueue),$h(this,"onResume",No(this,Wh(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(s=>{if(e.loop&&s.finished&&!(t&&s.noop)){const a=C4(e);if(a)return this._update(a,!0)}return s})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(rd(this));const r=!ve.und(e.to),i=!ve.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(rd(this));const{key:o,defaultProps:s,animation:a}=this,{to:l,from:c}=a;let{to:d=l,from:h=c}=e;i&&!r&&(!t.default||ve.und(d))&&(d=h),t.reverse&&([d,h]=[h,d]);const f=!Vs(h,c);f&&(a.from=h),h=li(h);const m=!Vs(d,l);m&&this._focus(d);const g=pE(t.to),{config:y}=a,{decay:b,velocity:x}=y;(r||i)&&(y.velocity=0),t.config&&!g&&hQ(y,ci(t.config,o),t.config!==s.config?ci(s.config,o):void 0);let w=rs(this);if(!w||ve.und(d))return n(No(this,!0));const S=ve.und(t.reset)?i&&!t.default:!ve.und(h)&&Lf(t.reset,o),_=S?h:this.get(),T=bp(d),A=ve.num(T)||ve.arr(T)||fb(T),P=!g&&(!A||Lf(s.immediate||t.immediate,o));if(m){const N=fE(d);if(N!==w.constructor)if(P)w=this._set(T);else throw Error(`Cannot animate between ${w.constructor.name} and ${N.name}, as the "to" prop suggests`)}const k=w.constructor;let M=io(d),I=!1;if(!M){const N=S||!iw(this)&&f;(m||N)&&(I=Vs(bp(_),T),M=!I),(!Vs(a.immediate,P)&&!P||!Vs(y.decay,b)||!Vs(y.velocity,x))&&(M=!0)}if(I&&La(this)&&(a.changed&&!S?M=!0:M||this._stop(l)),!g&&((M||io(l))&&(a.values=w.getPayload(),a.toValues=io(d)?null:k==xp?[1]:Xr(T)),a.immediate!=P&&(a.immediate=P,!P&&!S&&this._set(l)),M)){const{onRest:N}=a;rt(vQ,Y=>lP(this,t,Y));const U=No(this,Wh(this,l));af(this._pendingCalls,U),this._pendingCalls.add(n),a.changed&&ct.batchedUpdates(()=>{var Y;a.changed=!S,N==null||N(U,this),S?ci(s.onRest,U):(Y=a.onStart)==null||Y.call(a,U,this)})}S&&this._set(_),g?n(S4(t.to,t,this._state,this)):M?this._start():La(this)&&!m?this._pendingCalls.add(n):n(E4(_))}_focus(e){const t=this.animation;e!==t.to&&(XL(this)&&this._detach(),t.to=e,XL(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;io(t)&&(nh(t,this),vE(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;io(e)&&vp(e,this)}_set(e,t=!0){const n=li(e);if(!ve.und(n)){const r=rs(this);if(!r||!Vs(n,r.getValue())){const i=fE(n);!r||r.constructor!=i?zT(this,i.create(n)):r.setValue(n),r&&ct.batchedUpdates(()=>{this._onChange(n,t)})}}return rs(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,$h(this,"onStart",No(this,Wh(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),ci(this.animation.onChange,e,this)),ci(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;rs(this).reset(li(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),La(this)||(oP(this,!0),Vh(this)||this._resume())}_resume(){Yo.skipAnimation?this.finish():ub.start(this)}_stop(e,t){if(La(this)){oP(this,!1);const n=this.animation;rt(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),gp(this,{type:"idle",parent:this});const r=t?rd(this.get()):No(this.get(),Wh(this,e??n.to));af(this._pendingCalls,r),n.changed&&(n.changed=!1,$h(this,"onRest",r,this))}}};function Wh(e,t){const n=bp(t),r=bp(e.get());return Vs(r,n)}function C4(e,t=e.loop,n=e.to){const r=ci(t);if(r){const i=r!==!0&&UT(r),o=(i||e).reverse,s=!i||i.reset;return _p({...e,loop:t,default:!1,pause:void 0,to:!o||pE(n)?n:void 0,from:s?e.from:void 0,reset:s,...i})}}function _p(e){const{to:t,from:n}=e=UT(e),r=new Set;return ve.obj(t)&&aP(t,r),ve.obj(n)&&aP(n,r),e.keys=r.size?Array.from(r):null,e}function gQ(e){const t=_p(e);return ve.und(t.default)&&(t.default=gb(t)),t}function aP(e,t){ys(e,(n,r)=>n!=null&&t.add(r))}var vQ=["onStart","onRest","onChange","onPause","onResume"];function lP(e,t,n){e.animation[n]=t[n]!==x4(t,n)?y4(t[n],e.key):void 0}function $h(e,t,...n){var r,i,o,s;(i=(r=e.animation)[t])==null||i.call(r,...n),(s=(o=e.defaultProps)[t])==null||s.call(o,...n)}var yQ=["onStart","onChange","onRest"],xQ=1,A4=class{constructor(e,t){this.id=xQ++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];ve.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(_p(e)),this}start(e){let{queue:t}=this;return e?t=Xr(e).map(_p):this.queue=[],this._flush?this._flush(this,t):(R4(this,t),bE(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;rt(Xr(t),r=>n[r].stop(!!e))}else wp(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(ve.und(e))this.start({pause:!0});else{const t=this.springs;rt(Xr(e),n=>t[n].pause())}return this}resume(e){if(ve.und(e))this.start({pause:!1});else{const t=this.springs;rt(Xr(e),n=>t[n].resume())}return this}each(e){ys(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,kf(e,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const o=!r&&this._started,s=i||o&&n.size?this.get():null;i&&t.size&&kf(t,([a,l])=>{l.value=s,a(l,this,this._item)}),o&&(this._started=!1,kf(n,([a,l])=>{l.value=s,a(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;ct.onFrame(this._onFrame)}};function bE(e,t){return Promise.all(t.map(n=>k4(e,n))).then(n=>HT(e,n))}async function k4(e,t,n){const{keys:r,to:i,from:o,loop:s,onRest:a,onResolve:l}=t,c=ve.obj(t.default)&&t.default;s&&(t.loop=!1),i===!1&&(t.to=null),o===!1&&(t.from=null);const d=ve.arr(i)||ve.fun(i)?i:void 0;d?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):rt(yQ,y=>{const b=t[y];if(ve.fun(b)){const x=e._events[y];t[y]=({finished:w,cancelled:S})=>{const _=x.get(b);_?(w||(_.finished=!1),S&&(_.cancelled=!0)):x.set(b,{value:null,finished:w||!1,cancelled:S||!1})},c&&(c[y]=t[y])}});const h=e._state;t.pause===!h.paused?(h.paused=t.pause,af(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const f=(r||Object.keys(e.springs)).map(y=>e.springs[y].start(t)),m=t.cancel===!0||x4(t,"cancel")===!0;(d||m&&h.asyncId)&&f.push(_4(++e._lastAsyncId,{props:t,state:h,actions:{pause:uE,resume:uE,start(y,b){m?(wp(h,e._lastAsyncId),b(rd(e))):(y.onRest=a,b(S4(d,y,h,e)))}}})),h.paused&&await new Promise(y=>{h.resumeQueue.add(y)});const g=HT(e,await Promise.all(f));if(s&&g.finished&&!(n&&g.noop)){const y=C4(t,s,i);if(y)return R4(e,[y]),k4(e,y,!0)}return l&&ct.batchedUpdates(()=>l(g,e,e.item)),g}function wE(e,t){const n={...e.springs};return t&&rt(Xr(t),r=>{ve.und(r.keys)&&(r=_p(r)),ve.obj(r.to)||(r={...r,to:void 0}),P4(n,r,i=>L4(i))}),M4(e,n),n}function M4(e,t){ys(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,nh(n,e))})}function L4(e,t){const n=new mQ;return n.key=e,t&&nh(n,t),n}function P4(e,t,n){t.keys&&rt(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function R4(e,t){rt(t,n=>{P4(e.springs,n,r=>L4(r,e))})}var Dm=({children:e,...t})=>{const n=R.useContext(L0),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=JJ(()=>({pause:r,immediate:i}),[r,i]);const{Provider:o}=L0;return R.createElement(o,{value:t},e)},L0=bQ(Dm,{});Dm.Provider=L0.Provider;Dm.Consumer=L0.Consumer;function bQ(e,t){return Object.assign(e,R.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var O4=()=>{const e=[],t=function(r){XJ();const i=[];return rt(e,(o,s)=>{if(ve.und(r))i.push(o.start());else{const a=n(r,o,s);a&&i.push(o.start(a))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return rt(e,r=>r.pause(...arguments)),this},t.resume=function(){return rt(e,r=>r.resume(...arguments)),this},t.set=function(r){rt(e,(i,o)=>{const s=ve.fun(r)?r(o,i):r;s&&i.set(s)})},t.start=function(r){const i=[];return rt(e,(o,s)=>{if(ve.und(r))i.push(o.start());else{const a=this._getProps(r,o,s);a&&i.push(o.start(a))}}),i},t.stop=function(){return rt(e,r=>r.stop(...arguments)),this},t.update=function(r){return rt(e,(i,o)=>i.update(this._getProps(r,i,o))),this};const n=function(r,i,o){return ve.fun(r)?r(o,i):r};return t._getProps=n,t};function wQ(e,t,n){const r=ve.fun(t)&&t;r&&!n&&(n=[]);const i=R.useMemo(()=>r||arguments.length==3?O4():void 0,[]),o=R.useRef(0),s=FT(),a=R.useMemo(()=>({ctrls:[],queue:[],flush(x,w){const S=wE(x,w);return o.current>0&&!a.queue.length&&!Object.keys(S).some(T=>!x.springs[T])?bE(x,w):new Promise(T=>{M4(x,S),a.queue.push(()=>{T(bE(x,w))}),s()})}}),[]),l=R.useRef([...a.ctrls]),c=[],d=hE(e)||0;R.useMemo(()=>{rt(l.current.slice(e,d),x=>{mE(x,i),x.stop(!0)}),l.current.length=e,h(d,e)},[e]),R.useMemo(()=>{h(0,Math.min(d,e))},n);function h(x,w){for(let S=x;S<w;S++){const _=l.current[S]||(l.current[S]=new A4(null,a.flush)),T=r?r(S,_):t[S];T&&(c[S]=gQ(T))}}const f=l.current.map((x,w)=>wE(x,c[w])),m=R.useContext(Dm),g=hE(m),y=m!==g&&b4(m);lc(()=>{o.current++,a.ctrls=l.current;const{queue:x}=a;x.length&&(a.queue=[],rt(x,w=>w())),rt(l.current,(w,S)=>{i==null||i.add(w),y&&w.start({default:m});const _=c[S];_&&(w4(w,_.ref),w.ref?w.queue.push(_):w.start(_))})}),jT(()=>()=>{rt(a.ctrls,x=>x.stop(!0))});const b=f.map(x=>({...x}));return i?[b,i]:b}function wl(e,t){const n=ve.fun(e),[[r],i]=wQ(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}function _Q(e,t,n){const r=ve.fun(t)&&t,{reset:i,sort:o,trail:s=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:c,ref:d,config:h}=r?r():t,f=R.useMemo(()=>r||arguments.length==3?O4():void 0,[]),m=Xr(e),g=[],y=R.useRef(null),b=i?null:y.current;lc(()=>{y.current=g}),jT(()=>(rt(g,H=>{f==null||f.add(H.ctrl),H.ctrl.ref=f}),()=>{rt(y.current,H=>{H.expired&&clearTimeout(H.expirationId),mE(H.ctrl,f),H.ctrl.stop(!0)})}));const x=SQ(m,r?r():t,b),w=i&&y.current||[];lc(()=>rt(w,({ctrl:H,item:G,key:Z})=>{mE(H,f),ci(c,G,Z)}));const S=[];if(b&&rt(b,(H,G)=>{H.expired?(clearTimeout(H.expirationId),w.push(H)):(G=S[G]=x.indexOf(H.key),~G&&(g[G]=H))}),rt(m,(H,G)=>{g[G]||(g[G]={key:x[G],item:H,phase:"mount",ctrl:new A4},g[G].ctrl.item=H)}),S.length){let H=-1;const{leave:G}=r?r():t;rt(S,(Z,ee)=>{const V=b[ee];~Z?(H=g.indexOf(V),g[H]={...V,item:m[Z]}):G&&g.splice(++H,0,V)})}ve.fun(o)&&g.sort((H,G)=>o(H.item,G.item));let _=-s;const T=FT(),A=gb(t),P=new Map,k=R.useRef(new Map),M=R.useRef(!1);rt(g,(H,G)=>{const Z=H.key,ee=H.phase,V=r?r():t;let B,D;const J=ci(V.delay||0,Z);if(ee=="mount")B=V.enter,D="enter";else{const te=x.indexOf(Z)<0;if(ee!="leave")if(te)B=V.leave,D="leave";else if(B=V.update)D="update";else return;else if(!te)B=V.enter,D="enter";else return}if(B=ci(B,H.item,G),B=ve.obj(B)?UT(B):{to:B},!B.config){const te=h||A.config;B.config=ci(te,H.item,G,D)}_+=s;const j={...A,delay:J+_,ref:d,immediate:V.immediate,reset:!1,...B};if(D=="enter"&&ve.und(j.from)){const te=r?r():t,ne=ve.und(te.initial)||b?te.from:te.initial;j.from=ci(ne,H.item,G)}const{onResolve:oe}=j;j.onResolve=te=>{ci(oe,te);const ne=y.current,le=ne.find(ue=>ue.key===Z);if(le&&!(te.cancelled&&le.phase!="update")&&le.ctrl.idle){const ue=ne.every(he=>he.ctrl.idle);if(le.phase=="leave"){const he=ci(a,le.item);if(he!==!1){const se=he===!0?0:he;if(le.expired=!0,!ue&&se>0){se<=2147483647&&(le.expirationId=setTimeout(T,se));return}}}ue&&ne.some(he=>he.expired)&&(k.current.delete(le),l&&(M.current=!0),T())}};const q=wE(H.ctrl,j);D==="leave"&&l?k.current.set(H,{phase:D,springs:q,payload:j}):P.set(H,{phase:D,springs:q,payload:j})});const I=R.useContext(Dm),N=hE(I),U=I!==N&&b4(I);lc(()=>{U&&rt(g,H=>{H.ctrl.start({default:I})})},[I]),rt(P,(H,G)=>{if(k.current.size){const Z=g.findIndex(ee=>ee.key===G.key);g.splice(Z,1)}}),lc(()=>{rt(k.current.size?k.current:P,({phase:H,payload:G},Z)=>{const{ctrl:ee}=Z;Z.phase=H,f==null||f.add(ee),U&&H=="enter"&&ee.start({default:I}),G&&(w4(ee,G.ref),(ee.ref||f)&&!M.current?ee.update(G):(ee.start(G),M.current&&(M.current=!1)))})},i?void 0:n);const Y=H=>R.createElement(R.Fragment,null,g.map((G,Z)=>{const{springs:ee}=P.get(G)||G.ctrl,V=H({...ee},G.item,G,Z);return V&&V.type?R.createElement(V.type,{...V.props,key:ve.str(G.key)||ve.num(G.key)?G.key:G.ctrl.id,ref:V.ref}):V}));return f?[Y,f]:Y}var EQ=1;function SQ(e,{key:t,keys:n=t},r){if(n===null){const i=new Set;return e.map(o=>{const s=r&&r.find(a=>a.item===o&&a.phase!=="leave"&&!i.has(a));return s?(i.add(s),s.key):EQ++})}return ve.und(n)?e:ve.fun(n)?e.map(n):Xr(n)}var TQ=class extends GT{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=pp(...t);const n=this._get(),r=fE(n);zT(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Vs(t,n)||(rs(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&cP(this._active)&&ow(this)}_get(){const e=ve.arr(this.source)?this.source.map(li):Xr(li(this.source));return this.calc(...e)}_start(){this.idle&&!cP(this._active)&&(this.idle=!1,rt(pb(this),e=>{e.done=!1}),Yo.skipAnimation?(ct.batchedUpdates(()=>this.advance()),ow(this)):ub.start(this))}_attach(){let e=1;rt(Xr(this.source),t=>{io(t)&&nh(t,this),vE(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){rt(Xr(this.source),e=>{io(e)&&vp(e,this)}),this._active.clear(),ow(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Xr(this.source).reduce((t,n)=>Math.max(t,(vE(n)?n.priority:0)+1),0))}};function CQ(e){return e.idle!==!1}function cP(e){return!e.size||Array.from(e).every(CQ)}function ow(e){e.idle||(e.idle=!0,rt(pb(e),t=>{t.done=!0}),gp(e,{type:"idle",parent:e}))}Yo.assign({createStringInterpolator:p4,to:(e,t)=>new TQ(e,t)});var I4=/^--/;function AQ(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!I4.test(e)&&!(Pf.hasOwnProperty(e)&&Pf[e])?t+"px":(""+t).trim()}var uP={};function kQ(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:o,scrollLeft:s,viewBox:a,...l}=t,c=Object.values(l),d=Object.keys(l).map(h=>n||e.hasAttribute(h)?h:uP[h]||(uP[h]=h.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));i!==void 0&&(e.textContent=i);for(const h in r)if(r.hasOwnProperty(h)){const f=AQ(h,r[h]);I4.test(h)?e.style.setProperty(h,f):e.style[h]=f}d.forEach((h,f)=>{e.setAttribute(h,c[f])}),o!==void 0&&(e.scrollTop=o),s!==void 0&&(e.scrollLeft=s),a!==void 0&&e.setAttribute("viewBox",a)}var Pf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MQ=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),LQ=["Webkit","Ms","Moz","O"];Pf=Object.keys(Pf).reduce((e,t)=>(LQ.forEach(n=>e[MQ(n,t)]=e[t]),e),Pf);var PQ=/^(matrix|translate|scale|rotate|skew)/,RQ=/^(translate)/,OQ=/^(rotate|skew)/,sw=(e,t)=>ve.num(e)&&e!==0?e+t:e,Rv=(e,t)=>ve.arr(e)?e.every(n=>Rv(n,t)):ve.num(e)?e===t:parseFloat(e)===t,IQ=class extends mb{constructor({x:e,y:t,z:n,...r}){const i=[],o=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),o.push(s=>[`translate3d(${s.map(a=>sw(a,"px")).join(",")})`,Rv(s,0)])),ys(r,(s,a)=>{if(a==="transform")i.push([s||""]),o.push(l=>[l,l===""]);else if(PQ.test(a)){if(delete r[a],ve.und(s))return;const l=RQ.test(a)?"px":OQ.test(a)?"deg":"";i.push(Xr(s)),o.push(a==="rotate3d"?([c,d,h,f])=>[`rotate3d(${c},${d},${h},${sw(f,l)})`,Rv(f,0)]:c=>[`${a}(${c.map(d=>sw(d,l)).join(",")})`,Rv(c,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new NQ(i,o)),super(r)}},NQ=class extends d4{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return rt(this.inputs,(n,r)=>{const i=li(n[0]),[o,s]=this.transforms[r](ve.arr(i)?i:n.map(li));e+=" "+o,t=t&&s}),t?"none":e}observerAdded(e){e==1&&rt(this.inputs,t=>rt(t,n=>io(n)&&nh(n,this)))}observerRemoved(e){e==0&&rt(this.inputs,t=>rt(t,n=>io(n)&&vp(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),gp(this,e)}},DQ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Yo.assign({batchedUpdates:Rl.unstable_batchedUpdates,createStringInterpolator:p4,colors:AJ});var BQ=sQ(DQ,{applyAnimatedValues:kQ,createAnimatedStyle:e=>new IQ(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),ds=BQ.animated;function vb({children:e,title:t,keepopen:n,className:r,usingCustomIcon:i,customOriginTransform:o}){const[s,a]=R.useState(null),l=!!s;R.useEffect(()=>{n||a(null)},[n]);const c=f=>{a(f.currentTarget)},d=()=>{a(null)},h=wl({opacity:l?1:0,config:bl.slow});return v.jsxs("div",{className:"my-1",children:[v.jsx("div",{hidden:!l,style:{...h,zIndex:9999},className:" backdrop-blur-lg absolute top-[30vh] left-[19vw] h-[500vh] w-[500vw] transform -translate-x-1/2 -translate-y-1/2 bg-black/50 justify-center items-center md:inset-0 "}),v.jsxs("button",{onClick:c,className:r||" max-h-[5vh] min-w-[7vw] text-white focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-blue-800",style:{zIndex:9999},children:[t,!i&&v.jsxs(v.Fragment,{children:["",v.jsx(t4,{})]})]}),v.jsx(OY,{elevation:0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:o||{vertical:"bottom",horizontal:"right"},id:"demo-customized-menu",anchorEl:s,open:l,onClose:d,sx:{backgroundColor:"transparent","& .MuiPaper-root":{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)",borderRadius:"8px",marginTop:"-4px",minWidth:180,"& .MuiMenu-list":{padding:"4px"},"& .MuiMenuItem-root":{borderRadius:"8px",padding:"4px 16px",margin:"6px","& .MuiSvgIcon-root":{fontSize:18,color:"white",marginRight:1.5}}}},children:e})]})}const dP=Qn(v.jsx("path",{d:"M20 1v3h3v2h-3v3h-2V6h-3V4h3V1h2zm-8 12c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm2-9.75V7h3v3h2.92c.05.39.08.79.08 1.2 0 3.32-2.67 7.25-8 11.8-5.33-4.55-8-8.48-8-11.8C4 6.22 7.8 3 12 3c.68 0 1.35.08 2 .25z"}),"AddLocationAlt"),FQ=Qn(v.jsx("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull"),jQ=Qn(v.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),zQ=Qn(v.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),UQ=Qn(v.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),VT=Qn(v.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),HQ=Qn(v.jsx("path",{d:"M14 12c0 .74-.4 1.38-1 1.72V22h-2v-8.28c-.6-.35-1-.98-1-1.72 0-1.1.9-2 2-2s2 .9 2 2zm-2-6c-3.31 0-6 2.69-6 6 0 1.74.75 3.31 1.94 4.4l1.42-1.42C8.53 14.25 8 13.19 8 12c0-2.21 1.79-4 4-4s4 1.79 4 4c0 1.19-.53 2.25-1.36 2.98l1.42 1.42C17.25 15.31 18 13.74 18 12c0-3.31-2.69-6-6-6zm0-4C6.48 2 2 6.48 2 12c0 2.85 1.2 5.41 3.11 7.24l1.42-1.42C4.98 16.36 4 14.29 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 2.29-.98 4.36-2.53 5.82l1.42 1.42C20.8 17.41 22 14.85 22 12c0-5.52-4.48-10-10-10z"}),"PodcastsOutlined"),GQ=Qn(v.jsx("path",{d:"M3.42 2.36 2.01 3.78 4.1 5.87C2.79 7.57 2 9.69 2 12c0 3.7 2.01 6.92 4.99 8.65l1-1.73C5.61 17.53 4 14.96 4 12c0-1.76.57-3.38 1.53-4.69l1.43 1.44C6.36 9.68 6 10.8 6 12c0 2.22 1.21 4.15 3 5.19l1-1.74c-1.19-.7-2-1.97-2-3.45 0-.65.17-1.25.44-1.79l1.58 1.58L10 12c0 1.1.9 2 2 2l.21-.02 7.52 7.52 1.41-1.41L3.42 2.36zm14.29 11.46c.18-.57.29-1.19.29-1.82 0-3.31-2.69-6-6-6-.63 0-1.25.11-1.82.29l1.72 1.72c.03 0 .06-.01.1-.01 2.21 0 4 1.79 4 4 0 .04-.01.07-.01.11l1.72 1.71zM12 4c4.42 0 8 3.58 8 8 0 1.2-.29 2.32-.77 3.35l1.49 1.49C21.53 15.4 22 13.76 22 12c0-5.52-4.48-10-10-10-1.76 0-3.4.48-4.84 1.28l1.48 1.48C9.66 4.28 10.8 4 12 4z"}),"PortableWifiOffOutlined"),N4=Qn(v.jsx("path",{d:"M13 7h9v2h-9zm0 8h9v2h-9zm3-4h6v2h-6zm-3 1L8 7v4H2v2h6v4z"}),"ReadMore"),VQ=Qn(v.jsx("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"SettingsOutlined"),WQ=Qn(v.jsx("path",{d:"M20 6.83V20H6.83L20 6.83M22 2 2 22h20V2z"}),"SignalCellular0Bar"),$Q=Qn([v.jsx("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44z"},"0"),v.jsx("path",{d:"M10.59 15.41a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"},"1")],"SpeedOutlined"),YQ=Qn(v.jsx("path",{d:"M12 10c3.03 0 5.78 1.23 7.76 3.22l-2.12 2.12C16.2 13.9 14.2 13 12 13c-2.2 0-4.2.9-5.64 2.35l-2.12-2.12C6.22 11.23 8.97 10 12 10zm0 6c-1.38 0-2.63.56-3.53 1.46L12 21l3.53-3.54c-.9-.9-2.15-1.46-3.53-1.46z"}),"Wifi2Bar");function qQ({call:e}){var d;const{t}=it(),[n,r]=R.useState(!1),{respondingCall:i,deleteCall:o,respondSpecific:s}=Rm();function a(h){e!=null&&e.id&&(o(!1,e==null?void 0:e.id),r(!0))}function l(h){o(!0),r(!0)}function c(h){e!=null&&e.id&&(s(e==null?void 0:e.id),r(!0))}return R.useEffect(()=>{const h=setTimeout(()=>{r(!1)},500);return()=>clearTimeout(h)},[n]),v.jsx(v.Fragment,{children:v.jsxs(vb,{title:v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:` ${(i==null?void 0:i.id)===(e==null?void 0:e.id)?"police-effect":""} ${e!=null&&e.flashes?"emergence-effect":""} flex justify-between px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700`,children:[v.jsx("div",{className:"flex items-center",children:v.jsxs("span",{children:["#",e==null?void 0:e.id]})}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("i",{className:"fas fa-user-secret mr-2"}),v.jsx("span",{id:"",children:e==null?void 0:e.officersList.length})]})]}),v.jsx("div",{id:"",className:"flex flex-col p-2 text-white",children:v.jsxs("center",{className:"p-2",children:[v.jsxs("p",{className:" text-xl",id:"callcode",children:[e==null?void 0:e.code,"",v.jsx("span",{className:"text-xs",id:"call-code-snippet",children:e==null?void 0:e.codeSnippet})]}),v.jsx("hr",{}),v.jsx("p",{className:"",id:"message",children:e==null?void 0:e.message}),(e==null?void 0:e.otherData)&&v.jsx("div",{className:" my-1",children:(d=e==null?void 0:e.otherData)==null?void 0:d.map((h,f)=>v.jsxs("p",{className:" text-xs",id:"other-data",children:[v.jsx("i",{className:h==null?void 0:h.icon}),"",h.text]},f))}),v.jsx("p",{className:" text-xs",id:"text-location",children:e==null?void 0:e.locationText})]})}),v.jsx("div",{className:`flex justify-between px-4 py-2 text-sm font-medium text-white bg-gray-700 ${e!=null&&e.flashes?"emergence-effect":""}`,children:v.jsx("div",{className:"flex items-center",children:v.jsx("p",{className:"text-xs",children:ye(e==null?void 0:e.createdAt).fromNow()})})})]}),keepopen:n,customOriginTransform:{vertical:"top",horizontal:"left"},className:`${(i==null?void 0:i.id)===(e==null?void 0:e.id)?"sirens":""} w-52 max-h-screen overflow-y-auto bg-gray-800 shadow-lg rounded-lg overflow-hidden m-2`,usingCustomIcon:!0,children:[v.jsxs(na,{onClick:c,children:[(i==null?void 0:i.id)===(e==null?void 0:e.id)&&v.jsxs(v.Fragment,{children:[v.jsx(zQ,{}),"",t("CANCEL_CALL")]}),(i==null?void 0:i.id)!==(e==null?void 0:e.id)&&v.jsx(v.Fragment,{children:v.jsxs(v.Fragment,{children:[v.jsx(jQ,{}),"",t("RESPOND")]})})]}),v.jsx(y0,{sx:{my:.5}}),v.jsxs(na,{onClick:a,children:[v.jsx(UQ,{}),"",t("DELETE")]}),v.jsx(y0,{sx:{my:.5}}),v.jsxs(na,{onClick:l,children:[v.jsx(VT,{}),"",t("DELETE_ALL")]})]})})}var WT={},ZQ=Eo;Object.defineProperty(WT,"__esModule",{value:!0});var $T=WT.default=void 0,XQ=ZQ(So()),KQ=v,JQ=(0,XQ.default)((0,KQ.jsx)("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9 1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}),"DirectionsRunOutlined");$T=WT.default=JQ;var YT={},QQ=Eo;Object.defineProperty(YT,"__esModule",{value:!0});var qT=YT.default=void 0,eee=QQ(So()),aw=v,tee=(0,eee.default)([(0,aw.jsx)("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.85 7h10.29l1.04 3H5.81l1.04-3zM19 17H5v-5h14v5z"},"0"),(0,aw.jsx)("circle",{cx:"7.5",cy:"14.5",r:"1.5"},"1"),(0,aw.jsx)("circle",{cx:"16.5",cy:"14.5",r:"1.5"},"2")],"DirectionsCarFilledOutlined");qT=YT.default=tee;var ZT={},nee=Eo;Object.defineProperty(ZT,"__esModule",{value:!0});var XT=ZT.default=void 0,ree=nee(So()),iee=v,oee=(0,ree.default)((0,iee.jsx)("path",{d:"M4.17 11H4h.17m9.24-6H9v2h3.59l2 2H11l-4 2-2-2H0v2h4c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4l2 2h3l3.49-6.1 1.01 1.01c-.91.73-1.5 1.84-1.5 3.09 0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4c-.18 0-.36.03-.53.05L17.41 9H20V6l-3.72 1.86L13.41 5zM20 17c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM4 17c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"TwoWheelerOutlined");XT=ZT.default=oee;var KT={},see=Eo;Object.defineProperty(KT,"__esModule",{value:!0});var JT=KT.default=void 0,aee=see(So()),lee=v,cee=(0,aee.default)((0,lee.jsx)("path",{d:"M11 13.5V2L3 13.5h8zm-2-2H6.83L9 8.38v3.12zm12 2C21 6.5 14.5 1 12.5 1c0 0 1 3 1 6.5s-1 6-1 6H21zm-5.62-8.26c1.42 1.52 2.88 3.72 3.41 6.26h-3.68c.21-1.1.39-2.46.39-4 0-.79-.05-1.55-.12-2.26zM22 15H2c.31 1.53 1.16 2.84 2.33 3.73.65-.27 1.22-.72 1.67-1.23.73.84 1.8 1.5 3 1.5s2.27-.66 3-1.5c.73.84 1.8 1.5 3 1.5s2.26-.66 3-1.5c.45.51 1.02.96 1.67 1.23 1.17-.89 2.02-2.2 2.33-3.73zm0 8v-2h-1c-1.04 0-2.08-.35-3-1-1.83 1.3-4.17 1.3-6 0-1.83 1.3-4.17 1.3-6 0-.91.65-1.96 1-3 1H2v2h1c1.03 0 2.05-.25 3-.75 1.89 1 4.11 1 6 0 1.89 1 4.11 1 6 0 .95.5 1.97.75 3 .75h1z"}),"SailingOutlined");JT=KT.default=cee;var QT={},uee=Eo;Object.defineProperty(QT,"__esModule",{value:!0});var eC=QT.default=void 0,dee=uee(So()),hee=v,fee=(0,dee.default)((0,hee.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"FlightOutlined");eC=QT.default=fee;var tC={},pee=Eo;Object.defineProperty(tC,"__esModule",{value:!0});var nC=tC.default=void 0,mee=pee(So()),hP=v,gee=(0,mee.default)([(0,hP.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"0"),(0,hP.jsx)("path",{d:"M22 7.47V5.35C20.05 4.77 16.56 4 12 4c-2.15 0-4.11.86-5.54 2.24.13-.85.4-2.4 1.01-4.24H5.35C4.77 3.95 4 7.44 4 12c0 2.15.86 4.11 2.24 5.54-.85-.14-2.4-.4-4.24-1.01v2.12C3.95 19.23 7.44 20 12 20c2.15 0 4.11-.86 5.54-2.24-.14.85-.4 2.4-1.01 4.24h2.12c.58-1.95 1.35-5.44 1.35-10 0-2.15-.86-4.11-2.24-5.54.85.13 2.4.4 4.24 1.01zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"},"1")],"CycloneOutlined");nC=tC.default=gee;const vee={walking:$T,automobile:qT,bike:XT,boat:JT,heli:nC,plane:eC};function yee({player:e}){var c;const{t}=it(),{PlayClick:n}=Rm(),{ToggleLargue:r,largueDispatch:i}=zn();function o(d){n(),r(),Se("setmarkerplayer",{coords:e.coords},()=>{})}function s(){if(n(),r(),!(e!=null&&e.src))return Me.error(t("PLAYER_NOT_CONNECTED"));Se("setbodycam",e==null?void 0:e.src,()=>{})}let a=vee[(e==null?void 0:e.vehType)||"walking"],l=(c=e==null?void 0:e.name)==null?void 0:c.replace(/\B#([A-Za-z0-9]{2,})(?![~!@#$%^&*()=+_`\-\|\\/'\[\]\{\}]|[?.,]*\w)/i,"");return v.jsx(v.Fragment,{children:v.jsxs(vb,{keepopen:i,title:v.jsxs(v.Fragment,{children:[l," | ",v.jsx(a,{})]}),className:"w-full px-4 py-2 border-b rounded-t-lg border-gray-600",usingCustomIcon:!0,children:[v.jsxs(na,{onClick:o,disableRipple:!0,children:[v.jsx(dP,{}),t("MARK_YOUR_CURENT_LOCATION")]}),v.jsxs(na,{onClick:s,disableRipple:!0,children:[v.jsx(dP,{}),t("VIEW_BODY_CAM")]})]})})}function D4(e,t){const n=R.useRef(t);R.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const xee=1;function bee(e){return Object.freeze({__version:xee,map:e})}function yb(e,t){return Object.freeze({...e,...t})}const B4=R.createContext(null),rC=B4.Provider;function xb(){const e=R.useContext(B4);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function F4(e){function t(n,r){const{instance:i,context:o}=e(n).current;return R.useImperativeHandle(r,()=>i),n.children==null?null:_e.createElement(rC,{value:o},n.children)}return R.forwardRef(t)}function wee(e){function t(n,r){const[i,o]=R.useState(!1),{instance:s}=e(n,o).current;R.useImperativeHandle(r,()=>s),R.useEffect(function(){i&&s.update()},[s,i,n.children]);const a=s._contentNode;return a?Rl.createPortal(n.children,a):null}return R.forwardRef(t)}function _ee(e){function t(n,r){const{instance:i}=e(n).current;return R.useImperativeHandle(r,()=>i),null}return R.forwardRef(t)}function Eee(e){return function(n){const r=xb(),i=e(n,r),{instance:o}=i.current,s=R.useRef(n.position),{position:a}=n;return R.useEffect(function(){return o.addTo(r.map),function(){o.remove()}},[r.map,o]),R.useEffect(function(){a!=null&&a!==s.current&&(o.setPosition(a),s.current=a)},[o,a]),i}}function j4(e,t){const n=R.useRef();R.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function iC(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function See(e,t){return function(r,i){const o=xb(),s=e(iC(r,o),o);return D4(o.map,r.attribution),j4(s.current,r.eventHandlers),t(s.current,o,r,i),s}}var _E={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(uc,function(n){var r="1.9.4";function i(u){var p,E,C,O;for(E=1,C=arguments.length;E<C;E++){O=arguments[E];for(p in O)u[p]=O[p]}return u}var o=Object.create||function(){function u(){}return function(p){return u.prototype=p,new u}}();function s(u,p){var E=Array.prototype.slice;if(u.bind)return u.bind.apply(u,E.call(arguments,1));var C=E.call(arguments,2);return function(){return u.apply(p,C.length?C.concat(E.call(arguments)):arguments)}}var a=0;function l(u){return"_leaflet_id"in u||(u._leaflet_id=++a),u._leaflet_id}function c(u,p,E){var C,O,F,K;return K=function(){C=!1,O&&(F.apply(E,O),O=!1)},F=function(){C?O=arguments:(u.apply(E,arguments),setTimeout(K,p),C=!0)},F}function d(u,p,E){var C=p[1],O=p[0],F=C-O;return u===C&&E?u:((u-O)%F+F)%F+O}function h(){return!1}function f(u,p){if(p===!1)return u;var E=Math.pow(10,p===void 0?6:p);return Math.round(u*E)/E}function m(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function g(u){return m(u).split(/\s+/)}function y(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?o(u.options):{});for(var E in p)u.options[E]=p[E];return u.options}function b(u,p,E){var C=[];for(var O in u)C.push(encodeURIComponent(E?O.toUpperCase():O)+"="+encodeURIComponent(u[O]));return(!p||p.indexOf("?")===-1?"?":"&")+C.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function w(u,p){return u.replace(x,function(E,C){var O=p[C];if(O===void 0)throw new Error("No value provided for variable "+E);return typeof O=="function"&&(O=O(p)),O})}var S=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function _(u,p){for(var E=0;E<u.length;E++)if(u[E]===p)return E;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var P=0;function k(u){var p=+new Date,E=Math.max(0,16-(p-P));return P=p+E,window.setTimeout(u,E)}var M=window.requestAnimationFrame||A("RequestAnimationFrame")||k,I=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function N(u,p,E){if(E&&M===k)u.call(p);else return M.call(window,s(u,p))}function U(u){u&&I.call(window,u)}var Y={__proto__:null,extend:i,create:o,bind:s,get lastId(){return a},stamp:l,throttle:c,wrapNum:d,falseFn:h,formatNum:f,trim:m,splitWords:g,setOptions:y,getParamString:b,template:w,isArray:S,indexOf:_,emptyImageUrl:T,requestFn:M,cancelFn:I,requestAnimFrame:N,cancelAnimFrame:U};function H(){}H.extend=function(u){var p=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=p.__super__=this.prototype,C=o(E);C.constructor=p,p.prototype=C;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(p[O]=this[O]);return u.statics&&i(p,u.statics),u.includes&&(G(u.includes),i.apply(null,[C].concat(u.includes))),i(C,u),delete C.statics,delete C.includes,C.options&&(C.options=E.options?o(E.options):{},i(C.options,u.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,K=C._initHooks.length;F<K;F++)C._initHooks[F].call(this)}},p},H.include=function(u){var p=this.prototype.options;return i(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},H.mergeOptions=function(u){return i(this.prototype.options,u),this},H.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),E=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function G(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=S(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(u,p,E){if(typeof u=="object")for(var C in u)this._on(C,u[C],p);else{u=g(u);for(var O=0,F=u.length;O<F;O++)this._on(u[O],p,E)}return this},off:function(u,p,E){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var C in u)this._off(C,u[C],p);else{u=g(u);for(var O=arguments.length===1,F=0,K=u.length;F<K;F++)O?this._off(u[F]):this._off(u[F],p,E)}return this},_on:function(u,p,E,C){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,E)===!1){E===this&&(E=void 0);var O={fn:p,ctx:E};C&&(O.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(O)}},_off:function(u,p,E){var C,O,F;if(this._events&&(C=this._events[u],!!C)){if(arguments.length===1){if(this._firingCount)for(O=0,F=C.length;O<F;O++)C[O].fn=h;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var K=this._listens(u,p,E);if(K!==!1){var ie=C[K];this._firingCount&&(ie.fn=h,this._events[u]=C=C.slice()),C.splice(K,1)}}},fire:function(u,p,E){if(!this.listens(u,E))return this;var C=i({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var O=this._events[u];if(O){this._firingCount=this._firingCount+1||1;for(var F=0,K=O.length;F<K;F++){var ie=O[F],ae=ie.fn;ie.once&&this.off(u,ae,ie.ctx),ae.call(ie.ctx||this,C)}this._firingCount--}}return E&&this._propagateEvent(C),this},listens:function(u,p,E,C){typeof u!="string"&&console.warn('"string" type argument expected');var O=p;typeof p!="function"&&(C=!!p,O=void 0,E=void 0);var F=this._events&&this._events[u];if(F&&F.length&&this._listens(u,O,E)!==!1)return!0;if(C){for(var K in this._eventParents)if(this._eventParents[K].listens(u,p,E,C))return!0}return!1},_listens:function(u,p,E){if(!this._events)return!1;var C=this._events[u]||[];if(!p)return!!C.length;E===this&&(E=void 0);for(var O=0,F=C.length;O<F;O++)if(C[O].fn===p&&C[O].ctx===E)return O;return!1},once:function(u,p,E){if(typeof u=="object")for(var C in u)this._on(C,u[C],p,!0);else{u=g(u);for(var O=0,F=u.length;O<F;O++)this._on(u[O],p,E,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[l(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[l(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,i({layer:u.target,propagatedFrom:u.target},u),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var ee=H.extend(Z);function V(u,p,E){this.x=E?Math.round(u):u,this.y=E?Math.round(p):p}var B=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(u){return this.clone()._add(D(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(D(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new V(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new V(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=B(this.x),this.y=B(this.y),this},distanceTo:function(u){u=D(u);var p=u.x-this.x,E=u.y-this.y;return Math.sqrt(p*p+E*E)},equals:function(u){return u=D(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=D(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function D(u,p,E){return u instanceof V?u:S(u)?new V(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new V(u.x,u.y):new V(u,p,E)}function J(u,p){if(u)for(var E=p?[u,p]:u,C=0,O=E.length;C<O;C++)this.extend(E[C])}J.prototype={extend:function(u){var p,E;if(!u)return this;if(u instanceof V||typeof u[0]=="number"||"x"in u)p=E=D(u);else if(u=j(u),p=u.min,E=u.max,!p||!E)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=E.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(u){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,E;return typeof u[0]=="number"||u instanceof V?u=D(u):u=j(u),u instanceof J?(p=u.min,E=u.max):p=E=u,p.x>=this.min.x&&E.x<=this.max.x&&p.y>=this.min.y&&E.y<=this.max.y},intersects:function(u){u=j(u);var p=this.min,E=this.max,C=u.min,O=u.max,F=O.x>=p.x&&C.x<=E.x,K=O.y>=p.y&&C.y<=E.y;return F&&K},overlaps:function(u){u=j(u);var p=this.min,E=this.max,C=u.min,O=u.max,F=O.x>p.x&&C.x<E.x,K=O.y>p.y&&C.y<E.y;return F&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,E=this.max,C=Math.abs(p.x-E.x)*u,O=Math.abs(p.y-E.y)*u;return j(D(p.x-C,p.y-O),D(E.x+C,E.y+O))},equals:function(u){return u?(u=j(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function j(u,p){return!u||u instanceof J?u:new J(u,p)}function oe(u,p){if(u)for(var E=p?[u,p]:u,C=0,O=E.length;C<O;C++)this.extend(E[C])}oe.prototype={extend:function(u){var p=this._southWest,E=this._northEast,C,O;if(u instanceof te)C=u,O=u;else if(u instanceof oe){if(C=u._southWest,O=u._northEast,!C||!O)return this}else return u?this.extend(ne(u)||q(u)):this;return!p&&!E?(this._southWest=new te(C.lat,C.lng),this._northEast=new te(O.lat,O.lng)):(p.lat=Math.min(C.lat,p.lat),p.lng=Math.min(C.lng,p.lng),E.lat=Math.max(O.lat,E.lat),E.lng=Math.max(O.lng,E.lng)),this},pad:function(u){var p=this._southWest,E=this._northEast,C=Math.abs(p.lat-E.lat)*u,O=Math.abs(p.lng-E.lng)*u;return new oe(new te(p.lat-C,p.lng-O),new te(E.lat+C,E.lng+O))},getCenter:function(){return new te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new te(this.getNorth(),this.getWest())},getSouthEast:function(){return new te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof te||"lat"in u?u=ne(u):u=q(u);var p=this._southWest,E=this._northEast,C,O;return u instanceof oe?(C=u.getSouthWest(),O=u.getNorthEast()):C=O=u,C.lat>=p.lat&&O.lat<=E.lat&&C.lng>=p.lng&&O.lng<=E.lng},intersects:function(u){u=q(u);var p=this._southWest,E=this._northEast,C=u.getSouthWest(),O=u.getNorthEast(),F=O.lat>=p.lat&&C.lat<=E.lat,K=O.lng>=p.lng&&C.lng<=E.lng;return F&&K},overlaps:function(u){u=q(u);var p=this._southWest,E=this._northEast,C=u.getSouthWest(),O=u.getNorthEast(),F=O.lat>p.lat&&C.lat<E.lat,K=O.lng>p.lng&&C.lng<E.lng;return F&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=q(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(u,p){return u instanceof oe?u:new oe(u,p)}function te(u,p,E){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,E!==void 0&&(this.alt=+E)}te.prototype={equals:function(u,p){if(!u)return!1;u=ne(u);var E=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return E<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+f(this.lat,u)+", "+f(this.lng,u)+")"},distanceTo:function(u){return ue.distance(this,ne(u))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,E=p/Math.cos(Math.PI/180*this.lat);return q([this.lat-p,this.lng-E],[this.lat+p,this.lng+E])},clone:function(){return new te(this.lat,this.lng,this.alt)}};function ne(u,p,E){return u instanceof te?u:S(u)&&typeof u[0]!="object"?u.length===3?new te(u[0],u[1],u[2]):u.length===2?new te(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new te(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new te(u,p,E)}var le={latLngToPoint:function(u,p){var E=this.projection.project(u),C=this.scale(p);return this.transformation._transform(E,C)},pointToLatLng:function(u,p){var E=this.scale(p),C=this.transformation.untransform(u,E);return this.projection.unproject(C)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,E=this.scale(u),C=this.transformation.transform(p.min,E),O=this.transformation.transform(p.max,E);return new J(C,O)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?d(u.lng,this.wrapLng,!0):u.lng,E=this.wrapLat?d(u.lat,this.wrapLat,!0):u.lat,C=u.alt;return new te(E,p,C)},wrapLatLngBounds:function(u){var p=u.getCenter(),E=this.wrapLatLng(p),C=p.lat-E.lat,O=p.lng-E.lng;if(C===0&&O===0)return u;var F=u.getSouthWest(),K=u.getNorthEast(),ie=new te(F.lat-C,F.lng-O),ae=new te(K.lat-C,K.lng-O);return new oe(ie,ae)}},ue=i({},le,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var E=Math.PI/180,C=u.lat*E,O=p.lat*E,F=Math.sin((p.lat-u.lat)*E/2),K=Math.sin((p.lng-u.lng)*E/2),ie=F*F+Math.cos(C)*Math.cos(O)*K*K,ae=2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie));return this.R*ae}}),he=6378137,se={R:he,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,E=this.MAX_LATITUDE,C=Math.max(Math.min(E,u.lat),-E),O=Math.sin(C*p);return new V(this.R*u.lng*p,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(u){var p=180/Math.PI;return new te((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:function(){var u=he*Math.PI;return new J([-u,-u],[u,u])}()};function we(u,p,E,C){if(S(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=E,this._d=C}we.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new V((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function Fe(u,p,E,C){return new we(u,p,E,C)}var ge=i({},ue,{code:"EPSG:3857",projection:se,transformation:function(){var u=.5/(Math.PI*se.R);return Fe(u,.5,-u,.5)}()}),Ge=i({},ge,{code:"EPSG:900913"});function Ue(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function gt(u,p){var E="",C,O,F,K,ie,ae;for(C=0,F=u.length;C<F;C++){for(ie=u[C],O=0,K=ie.length;O<K;O++)ae=ie[O],E+=(O?"L":"M")+ae.x+" "+ae.y;E+=p?Pe.svg?"z":"x":""}return E||"M0 0"}var ut=document.documentElement.style,Et="ActiveXObject"in window,Ht=Et&&!document.addEventListener,Ke="msLaunchUri"in navigator&&!("documentMode"in document),xt=Er("webkit"),St=Er("android"),_n=Er("android 2")||Er("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Kt=St&&Er("Google")&&ot<537&&!("AudioNode"in window),Ze=!!window.opera,st=!Ke&&Er("chrome"),re=Er("gecko")&&!xt&&!Ze&&!Et,de=!st&&Er("safari"),Te=Er("phantom"),nt="OTransition"in ut,Oe=navigator.platform.indexOf("Win")===0,at=Et&&"transition"in ut,Lt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_n,Tt="MozPerspective"in ut,Un=!window.L_DISABLE_3D&&(at||Lt||Tt)&&!nt&&!Te,Ct=typeof orientation<"u"||Er("mobile"),er=Ct&&xt,En=Ct&&Lt,Ls=!window.PointerEvent&&window.MSPointerEvent,Ps=!!(window.PointerEvent||Ls),Rs="ontouchstart"in window||!!window.TouchEvent,_a=!window.L_NO_TOUCH&&(Rs||Ps),Os=Ct&&Ze,Is=Ct&&re,$i=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Wc=function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",h,p),window.removeEventListener("testPassiveEventSupport",h,p)}catch{}return u}(),$c=function(){return!!document.createElement("canvas").getContext}(),Bl=!!(document.createElementNS&&Ue("svg").createSVGRect),ph=!!Bl&&function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Fl=!Bl&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}}(),mh=navigator.platform.indexOf("Mac")===0,Ns=navigator.platform.indexOf("Linux")===0;function Er(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Pe={ie:Et,ielt9:Ht,edge:Ke,webkit:xt,android:St,android23:_n,androidStock:Kt,opera:Ze,chrome:st,gecko:re,safari:de,phantom:Te,opera12:nt,win:Oe,ie3d:at,webkit3d:Lt,gecko3d:Tt,any3d:Un,mobile:Ct,mobileWebkit:er,mobileWebkit3d:En,msPointer:Ls,pointer:Ps,touch:_a,touchNative:Rs,mobileOpera:Os,mobileGecko:Is,retina:$i,passiveEvents:Wc,canvas:$c,svg:Bl,vml:Fl,inlineSvg:ph,mac:mh,linux:Ns},z=Pe.msPointer?"MSPointerDown":"pointerdown",$=Pe.msPointer?"MSPointerMove":"pointermove",X=Pe.msPointer?"MSPointerUp":"pointerup",pe=Pe.msPointer?"MSPointerCancel":"pointercancel",ke={touchstart:z,touchmove:$,touchend:X,touchcancel:pe},vt={touchstart:Pt,touchmove:He,touchend:He,touchcancel:He},Ae={},Ie=!1;function dt(u,p,E){return p==="touchstart"&&qe(),vt[p]?(E=vt[p].bind(this,E),u.addEventListener(ke[p],E,!1),E):(console.warn("wrong event specified:",p),h)}function Yt(u,p,E){if(!ke[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(ke[p],E,!1)}function Ft(u){Ae[u.pointerId]=u}function Qt(u){Ae[u.pointerId]&&(Ae[u.pointerId]=u)}function je(u){delete Ae[u.pointerId]}function qe(){Ie||(document.addEventListener(z,Ft,!0),document.addEventListener($,Qt,!0),document.addEventListener(X,je,!0),document.addEventListener(pe,je,!0),Ie=!0)}function He(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var E in Ae)p.touches.push(Ae[E]);p.changedTouches=[p],u(p)}}function Pt(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&ur(p),He(u,p)}function Hn(u){var p={},E,C;for(C in u)E=u[C],p[C]=E&&E.bind?E.bind(u):E;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Yi=200;function Mn(u,p){u.addEventListener("dblclick",p);var E=0,C;function O(F){if(F.detail!==1){C=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var K=LA(F);if(!(K.some(function(ae){return ae instanceof HTMLLabelElement&&ae.attributes.for})&&!K.some(function(ae){return ae instanceof HTMLInputElement||ae instanceof HTMLSelectElement}))){var ie=Date.now();ie-E<=Yi?(C++,C===2&&p(Hn(F))):C=1,E=ie}}}return u.addEventListener("click",O),{dblclick:p,simDblclick:O}}function To(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var Ea=tg(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ds=tg(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yc=Ds==="webkitTransition"||Ds==="OTransition"?Ds+"End":"transitionend";function AA(u){return typeof u=="string"?document.getElementById(u):u}function gh(u,p){var E=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!E||E==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(u,null);E=C?C[p]:null}return E==="auto"?null:E}function Gt(u,p,E){var C=document.createElement(u);return C.className=p||"",E&&E.appendChild(C),C}function Sn(u){var p=u.parentNode;p&&p.removeChild(u)}function Qm(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function qc(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function Zc(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function zb(u,p){if(u.classList!==void 0)return u.classList.contains(p);var E=eg(u);return E.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(E)}function yt(u,p){if(u.classList!==void 0)for(var E=g(p),C=0,O=E.length;C<O;C++)u.classList.add(E[C]);else if(!zb(u,p)){var F=eg(u);Ub(u,(F?F+" ":"")+p)}}function Nn(u,p){u.classList!==void 0?u.classList.remove(p):Ub(u,m((" "+eg(u)+" ").replace(" "+p+" "," ")))}function Ub(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function eg(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function qi(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&I8(u,p)}function I8(u,p){var E=!1,C="DXImageTransform.Microsoft.Alpha";try{E=u.filters.item(C)}catch{if(p===1)return}p=Math.round(p*100),E?(E.Enabled=p!==100,E.Opacity=p):u.style.filter+=" progid:"+C+"(opacity="+p+")"}function tg(u){for(var p=document.documentElement.style,E=0;E<u.length;E++)if(u[E]in p)return u[E];return!1}function jl(u,p,E){var C=p||new V(0,0);u.style[Ea]=(Pe.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(E?" scale("+E+")":"")}function Gn(u,p){u._leaflet_pos=p,Pe.any3d?jl(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function zl(u){return u._leaflet_pos||new V(0,0)}var vh,yh,Hb;if("onselectstart"in document)vh=function(){ht(window,"selectstart",ur)},yh=function(){un(window,"selectstart",ur)};else{var xh=tg(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vh=function(){if(xh){var u=document.documentElement.style;Hb=u[xh],u[xh]="none"}},yh=function(){xh&&(document.documentElement.style[xh]=Hb,Hb=void 0)}}function Gb(){ht(window,"dragstart",ur)}function Vb(){un(window,"dragstart",ur)}var ng,Wb;function $b(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(rg(),ng=u,Wb=u.style.outlineStyle,u.style.outlineStyle="none",ht(window,"keydown",rg))}function rg(){ng&&(ng.style.outlineStyle=Wb,ng=void 0,Wb=void 0,un(window,"keydown",rg))}function kA(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Yb(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var N8={__proto__:null,TRANSFORM:Ea,TRANSITION:Ds,TRANSITION_END:Yc,get:AA,getStyle:gh,create:Gt,remove:Sn,empty:Qm,toFront:qc,toBack:Zc,hasClass:zb,addClass:yt,removeClass:Nn,setClass:Ub,getClass:eg,setOpacity:qi,testProp:tg,setTransform:jl,setPosition:Gn,getPosition:zl,get disableTextSelection(){return vh},get enableTextSelection(){return yh},disableImageDrag:Gb,enableImageDrag:Vb,preventOutline:$b,restoreOutline:rg,getSizedParentNode:kA,getScale:Yb};function ht(u,p,E,C){if(p&&typeof p=="object")for(var O in p)Zb(u,O,p[O],E);else{p=g(p);for(var F=0,K=p.length;F<K;F++)Zb(u,p[F],E,C)}return this}var Jo="_leaflet_events";function un(u,p,E,C){if(arguments.length===1)MA(u),delete u[Jo];else if(p&&typeof p=="object")for(var O in p)Xb(u,O,p[O],E);else if(p=g(p),arguments.length===2)MA(u,function(ie){return _(p,ie)!==-1});else for(var F=0,K=p.length;F<K;F++)Xb(u,p[F],E,C);return this}function MA(u,p){for(var E in u[Jo]){var C=E.split(/\d/)[0];(!p||p(C))&&Xb(u,C,null,null,E)}}var qb={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zb(u,p,E,C){var O=p+l(E)+(C?"_"+l(C):"");if(u[Jo]&&u[Jo][O])return this;var F=function(ie){return E.call(C||u,ie||window.event)},K=F;!Pe.touchNative&&Pe.pointer&&p.indexOf("touch")===0?F=dt(u,p,F):Pe.touch&&p==="dblclick"?F=Mn(u,F):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(qb[p]||p,F,Pe.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(F=function(ie){ie=ie||window.event,Jb(u,ie)&&K(ie)},u.addEventListener(qb[p],F,!1)):u.addEventListener(p,K,!1):u.attachEvent("on"+p,F),u[Jo]=u[Jo]||{},u[Jo][O]=F}function Xb(u,p,E,C,O){O=O||p+l(E)+(C?"_"+l(C):"");var F=u[Jo]&&u[Jo][O];if(!F)return this;!Pe.touchNative&&Pe.pointer&&p.indexOf("touch")===0?Yt(u,p,F):Pe.touch&&p==="dblclick"?To(u,F):"removeEventListener"in u?u.removeEventListener(qb[p]||p,F,!1):u.detachEvent("on"+p,F),u[Jo][O]=null}function Ul(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Kb(u){return Zb(u,"wheel",Ul),this}function bh(u){return ht(u,"mousedown touchstart dblclick contextmenu",Ul),u._leaflet_disable_click=!0,this}function ur(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Hl(u){return ur(u),Ul(u),this}function LA(u){if(u.composedPath)return u.composedPath();for(var p=[],E=u.target;E;)p.push(E),E=E.parentNode;return p}function PA(u,p){if(!p)return new V(u.clientX,u.clientY);var E=Yb(p),C=E.boundingClientRect;return new V((u.clientX-C.left)/E.x-p.clientLeft,(u.clientY-C.top)/E.y-p.clientTop)}var D8=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function RA(u){return Pe.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/D8:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Jb(u,p){var E=p.relatedTarget;if(!E)return!0;try{for(;E&&E!==u;)E=E.parentNode}catch{return!1}return E!==u}var B8={__proto__:null,on:ht,off:un,stopPropagation:Ul,disableScrollPropagation:Kb,disableClickPropagation:bh,preventDefault:ur,stop:Hl,getPropagationPath:LA,getMousePosition:PA,getWheelDelta:RA,isExternalTarget:Jb,addListener:ht,removeListener:un},OA=ee.extend({run:function(u,p,E,C){this.stop(),this._el=u,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=zl(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,E=this._duration*1e3;p<E?this._runFrame(this._easeOut(p/E),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var E=this._startPos.add(this._offset.multiplyBy(u));p&&E._round(),Gn(this._el,E),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),Rt=ee.extend({options:{crs:ge,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=y(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(ne(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ds&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ht(this._proxy,Yc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,E){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(ne(u),p,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var C=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,E.zoom):this._tryAnimatedPan(u,E.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,E.pan&&E.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,E){var C=this.getZoomScale(p),O=this.getSize().divideBy(2),F=u instanceof V?u:this.latLngToContainerPoint(u),K=F.subtract(O).multiplyBy(1-1/C),ie=this.containerPointToLatLng(O.add(K));return this.setView(ie,p,{zoom:E})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():q(u);var E=D(p.paddingTopLeft||p.padding||[0,0]),C=D(p.paddingBottomRight||p.padding||[0,0]),O=this.getBoundsZoom(u,!1,E.add(C));if(O=typeof p.maxZoom=="number"?Math.min(p.maxZoom,O):O,O===1/0)return{center:u.getCenter(),zoom:O};var F=C.subtract(E).divideBy(2),K=this.project(u.getSouthWest(),O),ie=this.project(u.getNorthEast(),O),ae=this.unproject(K.add(ie).divideBy(2).add(F),O);return{center:ae,zoom:O}},fitBounds:function(u,p){if(u=q(u),!u.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(u,p);return this.setView(E.center,E.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=D(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new OA,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){yt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,E,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,E){if(E=E||{},E.animate===!1||!Pe.any3d)return this.setView(u,p,E);this._stop();var C=this.project(this.getCenter()),O=this.project(u),F=this.getSize(),K=this._zoom;u=ne(u),p=p===void 0?K:p;var ie=Math.max(F.x,F.y),ae=ie*this.getZoomScale(K,p),fe=O.distanceTo(C)||1,Re=1.42,Je=Re*Re;function bt(Vn){var mg=Vn?-1:1,T6=Vn?ae:ie,C6=ae*ae-ie*ie+mg*Je*Je*fe*fe,A6=2*T6*Je*fe,c1=C6/A6,fk=Math.sqrt(c1*c1+1)-c1,k6=fk<1e-9?-18:Math.log(fk);return k6}function zr(Vn){return(Math.exp(Vn)-Math.exp(-Vn))/2}function tr(Vn){return(Math.exp(Vn)+Math.exp(-Vn))/2}function Xi(Vn){return zr(Vn)/tr(Vn)}var ri=bt(0);function tu(Vn){return ie*(tr(ri)/tr(ri+Re*Vn))}function w6(Vn){return ie*(tr(ri)*Xi(ri+Re*Vn)-zr(ri))/Je}function _6(Vn){return 1-Math.pow(1-Vn,1.5)}var E6=Date.now(),dk=(bt(1)-ri)/Re,S6=E.duration?1e3*E.duration:1e3*dk*.8;function hk(){var Vn=(Date.now()-E6)/S6,mg=_6(Vn)*dk;Vn<=1?(this._flyToFrame=N(hk,this),this._move(this.unproject(C.add(O.subtract(C).multiplyBy(w6(mg)/fe)),K),this.getScaleZoom(ie/tu(mg),K),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),hk.call(this),this},flyToBounds:function(u,p){var E=this._getBoundsCenterZoom(u,p);return this.flyTo(E.center,E.zoom,p)},setMaxBounds:function(u){return u=q(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var E=this.getCenter(),C=this._limitCenter(E,this._zoom,q(u));return E.equals(C)||this.panTo(C,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var E=D(p.paddingTopLeft||p.padding||[0,0]),C=D(p.paddingBottomRight||p.padding||[0,0]),O=this.project(this.getCenter()),F=this.project(u),K=this.getPixelBounds(),ie=j([K.min.add(E),K.max.subtract(C)]),ae=ie.getSize();if(!ie.contains(F)){this._enforcingBounds=!0;var fe=F.subtract(ie.getCenter()),Re=ie.extend(F).getSize().subtract(ae);O.x+=fe.x<0?-Re.x:Re.x,O.y+=fe.y<0?-Re.y:Re.y,this.panTo(this.unproject(O),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=i({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),C=p.divideBy(2).round(),O=E.divideBy(2).round(),F=C.subtract(O);return!F.x&&!F.y?this:(u.animate&&u.pan?this.panBy(F):(u.pan&&this._rawPanBy(F),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=i({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=s(this._handleGeolocationResponse,this),E=s(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,E,u):navigator.geolocation.getCurrentPosition(p,E,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,E=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,E=u.coords.longitude,C=new te(p,E),O=C.toBounds(u.coords.accuracy*2),F=this._locateOptions;if(F.setView){var K=this.getBoundsZoom(O);this.setView(C,F.maxZoom?Math.min(K,F.maxZoom):K)}var ie={latlng:C,bounds:O,timestamp:u.timestamp};for(var ae in u.coords)typeof u.coords[ae]=="number"&&(ie[ae]=u.coords[ae]);this.fire("locationfound",ie)}},addHandler:function(u,p){if(!p)return this;var E=this[u]=new p(this);return this._handlers.push(E),this.options[u]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Sn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Sn(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var E="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),C=Gt("div",E,p||this._mapPane);return u&&(this._panes[u]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),E=this.unproject(u.getTopRight());return new oe(p,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,E){u=q(u),E=D(E||[0,0]);var C=this.getZoom()||0,O=this.getMinZoom(),F=this.getMaxZoom(),K=u.getNorthWest(),ie=u.getSouthEast(),ae=this.getSize().subtract(E),fe=j(this.project(ie,C),this.project(K,C)).getSize(),Re=Pe.any3d?this.options.zoomSnap:1,Je=ae.x/fe.x,bt=ae.y/fe.y,zr=p?Math.max(Je,bt):Math.min(Je,bt);return C=this.getScaleZoom(zr,C),Re&&(C=Math.round(C/(Re/100))*(Re/100),C=p?Math.ceil(C/Re)*Re:Math.floor(C/Re)*Re),Math.max(O,Math.min(F,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var E=this._getTopLeftPoint(u,p);return new J(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var E=this.options.crs;return p=p===void 0?this._zoom:p,E.scale(u)/E.scale(p)},getScaleZoom:function(u,p){var E=this.options.crs;p=p===void 0?this._zoom:p;var C=E.zoom(u*E.scale(p));return isNaN(C)?1/0:C},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(ne(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(D(u),p)},layerPointToLatLng:function(u){var p=D(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(ne(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(ne(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(q(u))},distance:function(u,p){return this.options.crs.distance(ne(u),ne(p))},containerPointToLayerPoint:function(u){return D(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return D(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(D(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(u)))},mouseEventToContainerPoint:function(u){return PA(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=AA(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ht(p,"scroll",this._onScroll,this),this._containerId=l(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,yt(u,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=gh(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Gn(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(u.markerPane,"leaflet-zoom-hide"),yt(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,E){Gn(this._mapPane,new V(0,0));var C=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var O=this._zoom!==p;this._moveStart(O,E)._move(u,p)._moveEnd(O),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,E,C){p===void 0&&(p=this._zoom);var O=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),C?E&&E.pinch&&this.fire("zoom",E):((O||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Gn(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[l(this._container)]=this;var p=u?un:ht;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var E=[],C,O=p==="mouseout"||p==="mouseover",F=u.target||u.srcElement,K=!1;F;){if(C=this._targets[l(F)],C&&(p==="click"||p==="preclick")&&this._draggableMoved(C)){K=!0;break}if(C&&C.listens(p,!0)&&(O&&!Jb(F,u)||(E.push(C),O))||F===this._container)break;F=F.parentNode}return!E.length&&!K&&!O&&this.listens(p,!0)&&(E=[this]),E},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var E=u.type;E==="mousedown"&&$b(p),this._fireDOMEvent(u,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,E){if(u.type==="click"){var C=i({},u);C.type="preclick",this._fireDOMEvent(C,C.type,E)}var O=this._findEventTargets(u,p);if(E){for(var F=[],K=0;K<E.length;K++)E[K].listens(p,!0)&&F.push(E[K]);O=F.concat(O)}if(O.length){p==="contextmenu"&&ur(u);var ie=O[0],ae={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var fe=ie.getLatLng&&(!ie._radius||ie._radius<=10);ae.containerPoint=fe?this.latLngToContainerPoint(ie.getLatLng()):this.mouseEventToContainerPoint(u),ae.layerPoint=this.containerPointToLayerPoint(ae.containerPoint),ae.latlng=fe?ie.getLatLng():this.layerPointToLatLng(ae.layerPoint)}for(K=0;K<O.length;K++)if(O[K].fire(p,ae,!0),ae.originalEvent._stopped||O[K].options.bubblingMouseEvents===!1&&_(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return zl(this._mapPane)||new V(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var E=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var E=this.getSize()._divideBy(2);return this.project(u,p)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,E){var C=this._getNewPixelOrigin(E,p);return this.project(u,p)._subtract(C)},_latLngBoundsToNewLayerBounds:function(u,p,E){var C=this._getNewPixelOrigin(E,p);return j([this.project(u.getSouthWest(),p)._subtract(C),this.project(u.getNorthWest(),p)._subtract(C),this.project(u.getSouthEast(),p)._subtract(C),this.project(u.getNorthEast(),p)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,E){if(!E)return u;var C=this.project(u,p),O=this.getSize().divideBy(2),F=new J(C.subtract(O),C.add(O)),K=this._getBoundsOffset(F,E,p);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?u:this.unproject(C.add(K),p)},_limitOffset:function(u,p){if(!p)return u;var E=this.getPixelBounds(),C=new J(E.min.add(u),E.max.add(u));return u.add(this._getBoundsOffset(C,p))},_getBoundsOffset:function(u,p,E){var C=j(this.project(p.getNorthEast(),E),this.project(p.getSouthWest(),E)),O=C.min.subtract(u.min),F=C.max.subtract(u.max),K=this._rebound(O.x,-F.x),ie=this._rebound(O.y,-F.y);return new V(K,ie)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),E=this.getMaxZoom(),C=Pe.any3d?this.options.zoomSnap:1;return C&&(u=Math.round(u/C)*C),Math.max(p,Math.min(E,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var E=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,p),!0)},_createAnimProxy:function(){var u=this._proxy=Gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var E=Ea,C=this._proxy.style[E];jl(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),C===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Sn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();jl(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(p),O=this._getCenterOffset(u)._divideBy(1-1/C);return E.animate!==!0&&!this.getSize().contains(O)?!1:(N(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,E,C){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function F8(u,p){return new Rt(u,p)}var Co=H.extend({options:{position:"topright"},initialize:function(u){y(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),E=this.getPosition(),C=u._controlCorners[E];return yt(p,"leaflet-control"),E.indexOf("bottom")!==-1?C.insertBefore(p,C.firstChild):C.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Sn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),wh=function(u){return new Co(u)};Rt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",E=this._controlContainer=Gt("div",p+"control-container",this._container);function C(O,F){var K=p+O+" "+p+F;u[O+F]=Gt("div",K,E)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Sn(this._controlCorners[u]);Sn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var IA=Co.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,E,C){return E<C?-1:C<E?1:0}},initialize:function(u,p,E){y(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in u)this._addLayer(u[C],C);for(C in p)this._addLayer(p[C],C,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return Co.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(l(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Nn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=Gt("div",u),E=this.options.collapsed;p.setAttribute("aria-haspopup",!0),bh(p),Kb(p);var C=this._section=Gt("section",u+"-list");E&&(this._map.on("click",this.collapse,this),ht(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=Gt("a",u+"-toggle",p);O.href="#",O.title="Layers",O.setAttribute("role","button"),ht(O,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){ur(F),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=Gt("div",u+"-base",C),this._separator=Gt("div",u+"-separator",C),this._overlaysList=Gt("div",u+"-overlays",C),p.appendChild(C)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&l(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,E){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:E}),this.options.sortLayers&&this._layers.sort(s(function(C,O){return this.options.sortFunction(C.layer,O.layer,C.name,O.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qm(this._baseLayersList),Qm(this._overlaysList),this._layerControlInputs=[];var u,p,E,C,O=0;for(E=0;E<this._layers.length;E++)C=this._layers[E],this._addItem(C),p=p||C.overlay,u=u||!C.overlay,O+=C.overlay?0:1;return this.options.hideSingleBase&&(u=u&&O>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(l(u.target)),E=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;E&&this._map.fire(E,p)},_createRadioElement:function(u,p){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=E,C.firstChild},_addItem:function(u){var p=document.createElement("label"),E=this._map.hasLayer(u.layer),C;u.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=E):C=this._createRadioElement("leaflet-base-layers_"+l(this),E),this._layerControlInputs.push(C),C.layerId=l(u.layer),ht(C,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+u.name;var F=document.createElement("span");p.appendChild(F),F.appendChild(C),F.appendChild(O);var K=u.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,E,C=[],O=[];this._handlingClick=!0;for(var F=u.length-1;F>=0;F--)p=u[F],E=this._getLayer(p.layerId).layer,p.checked?C.push(E):p.checked||O.push(E);for(F=0;F<O.length;F++)this._map.hasLayer(O[F])&&this._map.removeLayer(O[F]);for(F=0;F<C.length;F++)this._map.hasLayer(C[F])||this._map.addLayer(C[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,E,C=this._map.getZoom(),O=u.length-1;O>=0;O--)p=u[O],E=this._getLayer(p.layerId).layer,p.disabled=E.options.minZoom!==void 0&&C<E.options.minZoom||E.options.maxZoom!==void 0&&C>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,ht(u,"click",ur),this.expand();var p=this;setTimeout(function(){un(u,"click",ur),p._preventClick=!1})}}),j8=function(u,p,E){return new IA(u,p,E)},Qb=Co.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",E=Gt("div",p+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,p+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,p+"-out",E,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,E,C,O){var F=Gt("a",E,C);return F.innerHTML=u,F.href="#",F.title=p,F.setAttribute("role","button"),F.setAttribute("aria-label",p),bh(F),ht(F,"click",Hl),ht(F,"click",O,this),ht(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";Nn(this._zoomInButton,p),Nn(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(yt(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(yt(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});Rt.mergeOptions({zoomControl:!0}),Rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qb,this.addControl(this.zoomControl))});var z8=function(u){return new Qb(u)},NA=Co.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",E=Gt("div",p),C=this.options;return this._addScales(C,p+"-line",E),u.on(C.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),E},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,E){u.metric&&(this._mScale=Gt("div",p,E)),u.imperial&&(this._iScale=Gt("div",p,E))},_update:function(){var u=this._map,p=u.getSize().y/2,E=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(E)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),E=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,E,p/u)},_updateImperial:function(u){var p=u*3.2808399,E,C,O;p>5280?(E=p/5280,C=this._getRoundNum(E),this._updateScale(this._iScale,C+" mi",C/E)):(O=this._getRoundNum(p),this._updateScale(this._iScale,O+" ft",O/p))},_updateScale:function(u,p,E){u.style.width=Math.round(this.options.maxWidth*E)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),E=u/p;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,p*E}}),U8=function(u){return new NA(u)},H8='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',e1=Co.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?H8+" ":"")+"Leaflet</a>"},initialize:function(u){y(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=Gt("div","leaflet-control-attribution"),bh(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var E=[];this.options.prefix&&E.push(this.options.prefix),u.length&&E.push(u.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});Rt.mergeOptions({attributionControl:!0}),Rt.addInitHook(function(){this.options.attributionControl&&new e1().addTo(this)});var G8=function(u){return new e1(u)};Co.Layers=IA,Co.Zoom=Qb,Co.Scale=NA,Co.Attribution=e1,wh.layers=j8,wh.zoom=z8,wh.scale=U8,wh.attribution=G8;var Qo=H.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qo.addTo=function(u,p){return u.addHandler(p,this),this};var V8={Events:Z},DA=Pe.touch?"touchstart mousedown":"mousedown",Sa=ee.extend({options:{clickTolerance:3},initialize:function(u,p,E,C){y(this,C),this._element=u,this._dragStartTarget=p||u,this._preventOutline=E},enable:function(){this._enabled||(ht(this._dragStartTarget,DA,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Sa._dragging===this&&this.finishDrag(!0),un(this._dragStartTarget,DA,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!zb(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){Sa._dragging===this&&this.finishDrag();return}if(!(Sa._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(Sa._dragging=this,this._preventOutline&&$b(this._element),Gb(),vh(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,E=kA(this._element);this._startPoint=new V(p.clientX,p.clientY),this._startPos=zl(this._element),this._parentScale=Yb(E);var C=u.type==="mousedown";ht(document,C?"mousemove":"touchmove",this._onMove,this),ht(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,E=new V(p.clientX,p.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,ur(u),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Gn(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Nn(document.body,"leaflet-dragging"),this._lastTarget&&(Nn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),un(document,"mousemove touchmove",this._onMove,this),un(document,"mouseup touchend touchcancel",this._onUp,this),Vb(),yh();var p=this._moved&&this._moving;this._moving=!1,Sa._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function BA(u,p,E){var C,O=[1,4,2,8],F,K,ie,ae,fe,Re,Je,bt;for(F=0,Re=u.length;F<Re;F++)u[F]._code=Gl(u[F],p);for(ie=0;ie<4;ie++){for(Je=O[ie],C=[],F=0,Re=u.length,K=Re-1;F<Re;K=F++)ae=u[F],fe=u[K],ae._code&Je?fe._code&Je||(bt=ig(fe,ae,Je,p,E),bt._code=Gl(bt,p),C.push(bt)):(fe._code&Je&&(bt=ig(fe,ae,Je,p,E),bt._code=Gl(bt,p),C.push(bt)),C.push(ae));u=C}return u}function FA(u,p){var E,C,O,F,K,ie,ae,fe,Re;if(!u||u.length===0)throw new Error("latlngs not passed");Zi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Je=ne([0,0]),bt=q(u),zr=bt.getNorthWest().distanceTo(bt.getSouthWest())*bt.getNorthEast().distanceTo(bt.getNorthWest());zr<1700&&(Je=t1(u));var tr=u.length,Xi=[];for(E=0;E<tr;E++){var ri=ne(u[E]);Xi.push(p.project(ne([ri.lat-Je.lat,ri.lng-Je.lng])))}for(ie=ae=fe=0,E=0,C=tr-1;E<tr;C=E++)O=Xi[E],F=Xi[C],K=O.y*F.x-F.y*O.x,ae+=(O.x+F.x)*K,fe+=(O.y+F.y)*K,ie+=K*3;ie===0?Re=Xi[0]:Re=[ae/ie,fe/ie];var tu=p.unproject(D(Re));return ne([tu.lat+Je.lat,tu.lng+Je.lng])}function t1(u){for(var p=0,E=0,C=0,O=0;O<u.length;O++){var F=ne(u[O]);p+=F.lat,E+=F.lng,C++}return ne([p/C,E/C])}var W8={__proto__:null,clipPolygon:BA,polygonCenter:FA,centroid:t1};function jA(u,p){if(!p||!u.length)return u.slice();var E=p*p;return u=q8(u,E),u=Y8(u,E),u}function zA(u,p,E){return Math.sqrt(_h(u,p,E,!0))}function $8(u,p,E){return _h(u,p,E)}function Y8(u,p){var E=u.length,C=typeof Uint8Array!=void 0+""?Uint8Array:Array,O=new C(E);O[0]=O[E-1]=1,n1(u,O,p,0,E-1);var F,K=[];for(F=0;F<E;F++)O[F]&&K.push(u[F]);return K}function n1(u,p,E,C,O){var F=0,K,ie,ae;for(ie=C+1;ie<=O-1;ie++)ae=_h(u[ie],u[C],u[O],!0),ae>F&&(K=ie,F=ae);F>E&&(p[K]=1,n1(u,p,E,C,K),n1(u,p,E,K,O))}function q8(u,p){for(var E=[u[0]],C=1,O=0,F=u.length;C<F;C++)Z8(u[C],u[O])>p&&(E.push(u[C]),O=C);return O<F-1&&E.push(u[F-1]),E}var UA;function HA(u,p,E,C,O){var F=C?UA:Gl(u,E),K=Gl(p,E),ie,ae,fe;for(UA=K;;){if(!(F|K))return[u,p];if(F&K)return!1;ie=F||K,ae=ig(u,p,ie,E,O),fe=Gl(ae,E),ie===F?(u=ae,F=fe):(p=ae,K=fe)}}function ig(u,p,E,C,O){var F=p.x-u.x,K=p.y-u.y,ie=C.min,ae=C.max,fe,Re;return E&8?(fe=u.x+F*(ae.y-u.y)/K,Re=ae.y):E&4?(fe=u.x+F*(ie.y-u.y)/K,Re=ie.y):E&2?(fe=ae.x,Re=u.y+K*(ae.x-u.x)/F):E&1&&(fe=ie.x,Re=u.y+K*(ie.x-u.x)/F),new V(fe,Re,O)}function Gl(u,p){var E=0;return u.x<p.min.x?E|=1:u.x>p.max.x&&(E|=2),u.y<p.min.y?E|=4:u.y>p.max.y&&(E|=8),E}function Z8(u,p){var E=p.x-u.x,C=p.y-u.y;return E*E+C*C}function _h(u,p,E,C){var O=p.x,F=p.y,K=E.x-O,ie=E.y-F,ae=K*K+ie*ie,fe;return ae>0&&(fe=((u.x-O)*K+(u.y-F)*ie)/ae,fe>1?(O=E.x,F=E.y):fe>0&&(O+=K*fe,F+=ie*fe)),K=u.x-O,ie=u.y-F,C?K*K+ie*ie:new V(O,F)}function Zi(u){return!S(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function GA(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zi(u)}function VA(u,p){var E,C,O,F,K,ie,ae,fe;if(!u||u.length===0)throw new Error("latlngs not passed");Zi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Re=ne([0,0]),Je=q(u),bt=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());bt<1700&&(Re=t1(u));var zr=u.length,tr=[];for(E=0;E<zr;E++){var Xi=ne(u[E]);tr.push(p.project(ne([Xi.lat-Re.lat,Xi.lng-Re.lng])))}for(E=0,C=0;E<zr-1;E++)C+=tr[E].distanceTo(tr[E+1])/2;if(C===0)fe=tr[0];else for(E=0,F=0;E<zr-1;E++)if(K=tr[E],ie=tr[E+1],O=K.distanceTo(ie),F+=O,F>C){ae=(F-C)/O,fe=[ie.x-ae*(ie.x-K.x),ie.y-ae*(ie.y-K.y)];break}var ri=p.unproject(D(fe));return ne([ri.lat+Re.lat,ri.lng+Re.lng])}var X8={__proto__:null,simplify:jA,pointToSegmentDistance:zA,closestPointOnSegment:$8,clipSegment:HA,_getEdgeIntersection:ig,_getBitCode:Gl,_sqClosestPointOnSegment:_h,isFlat:Zi,_flat:GA,polylineCenter:VA},r1={project:function(u){return new V(u.lng,u.lat)},unproject:function(u){return new te(u.y,u.x)},bounds:new J([-180,-90],[180,90])},i1={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,E=this.R,C=u.lat*p,O=this.R_MINOR/E,F=Math.sqrt(1-O*O),K=F*Math.sin(C),ie=Math.tan(Math.PI/4-C/2)/Math.pow((1-K)/(1+K),F/2);return C=-E*Math.log(Math.max(ie,1e-10)),new V(u.lng*p*E,C)},unproject:function(u){for(var p=180/Math.PI,E=this.R,C=this.R_MINOR/E,O=Math.sqrt(1-C*C),F=Math.exp(-u.y/E),K=Math.PI/2-2*Math.atan(F),ie=0,ae=.1,fe;ie<15&&Math.abs(ae)>1e-7;ie++)fe=O*Math.sin(K),fe=Math.pow((1-fe)/(1+fe),O/2),ae=Math.PI/2-2*Math.atan(F*fe)-K,K+=ae;return new te(K*p,u.x*p/E)}},K8={__proto__:null,LonLat:r1,Mercator:i1,SphericalMercator:se},J8=i({},ue,{code:"EPSG:3395",projection:i1,transformation:function(){var u=.5/(Math.PI*i1.R);return Fe(u,.5,-u,.5)}()}),WA=i({},ue,{code:"EPSG:4326",projection:r1,transformation:Fe(1/180,1,-1/180,.5)}),Q8=i({},le,{projection:r1,transformation:Fe(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var E=p.lng-u.lng,C=p.lat-u.lat;return Math.sqrt(E*E+C*C)},infinite:!0});le.Earth=ue,le.EPSG3395=J8,le.EPSG3857=ge,le.EPSG900913=Ge,le.EPSG4326=WA,le.Simple=Q8;var Ao=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[l(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[l(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var E=this.getEvents();p.on(E,this),this.once("remove",function(){p.off(E,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});Rt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=l(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=l(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return l(u)in this._layers},eachLayer:function(u,p){for(var E in this._layers)u.call(p,this._layers[E]);return this},_addLayers:function(u){u=u?S(u)?u:[u]:[];for(var p=0,E=u.length;p<E;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[l(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=l(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,E=this._getZoomSpan();for(var C in this._zoomBoundLayers){var O=this._zoomBoundLayers[C].options;u=O.minZoom===void 0?u:Math.min(u,O.minZoom),p=O.maxZoom===void 0?p:Math.max(p,O.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xc=Ao.extend({initialize:function(u,p){y(this,p),this._layers={};var E,C;if(u)for(E=0,C=u.length;E<C;E++)this.addLayer(u[E])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),E,C;for(E in this._layers)C=this._layers[E],C[u]&&C[u].apply(C,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var E in this._layers)u.call(p,this._layers[E]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return l(u)}}),e6=function(u,p){return new Xc(u,p)},Bs=Xc.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),Xc.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),Xc.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new oe;for(var p in this._layers){var E=this._layers[p];u.extend(E.getBounds?E.getBounds():E.getLatLng())}return u}}),t6=function(u,p){return new Bs(u,p)},Kc=H.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){y(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var E=this._getIconUrl(u);if(!E){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(E,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(C,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(u,p){var E=this.options,C=E[p+"Size"];typeof C=="number"&&(C=[C,C]);var O=D(C),F=D(p==="shadow"&&E.shadowAnchor||E.iconAnchor||O&&O.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(E.className||""),F&&(u.style.marginLeft=-F.x+"px",u.style.marginTop=-F.y+"px"),O&&(u.style.width=O.x+"px",u.style.height=O.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return Pe.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function n6(u){return new Kc(u)}var Eh=Kc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Eh.imagePath!="string"&&(Eh.imagePath=this._detectIconPath()),(this.options.imagePath||Eh.imagePath)+Kc.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(E,C,O){var F=C.exec(E);return F&&F[O]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=Gt("div","leaflet-default-icon-path",document.body),p=gh(u,"background-image")||gh(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),$A=Qo.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Sa(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,E=p._map,C=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,F=zl(p._icon),K=E.getPixelBounds(),ie=E.getPixelOrigin(),ae=j(K.min._subtract(ie).add(O),K.max._subtract(ie).subtract(O));if(!ae.contains(F)){var fe=D((Math.max(ae.max.x,F.x)-ae.max.x)/(K.max.x-ae.max.x)-(Math.min(ae.min.x,F.x)-ae.min.x)/(K.min.x-ae.min.x),(Math.max(ae.max.y,F.y)-ae.max.y)/(K.max.y-ae.max.y)-(Math.min(ae.min.y,F.y)-ae.min.y)/(K.min.y-ae.min.y)).multiplyBy(C);E.panBy(fe,{animate:!1}),this._draggable._newPos._add(fe),this._draggable._startPos._add(fe),Gn(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=N(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,E=p._shadow,C=zl(p._icon),O=p._map.layerPointToLatLng(C);E&&Gn(E,C),p._latlng=O,u.latlng=O,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),og=Ao.extend({options:{icon:new Eh,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){y(this,p),this._latlng=ne(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=ne(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=u.icon.createIcon(this._icon),C=!1;E!==this._icon&&(this._icon&&this._removeIcon(),C=!0,u.title&&(E.title=u.title),E.tagName==="IMG"&&(E.alt=u.alt||"")),yt(E,p),u.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(E,"focus",this._panOnFocus,this);var O=u.icon.createShadow(this._shadow),F=!1;O!==this._shadow&&(this._removeShadow(),F=!0),O&&(yt(O,p),O.alt=""),this._shadow=O,u.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&F&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&un(this._icon,"focus",this._panOnFocus,this),Sn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Sn(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Gn(this._icon,u),this._shadow&&Gn(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$A)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $A(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&qi(this._icon,u),this._shadow&&qi(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,E=p.iconSize?D(p.iconSize):D(0,0),C=p.iconAnchor?D(p.iconAnchor):D(0,0);u.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:E.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function r6(u,p){return new og(u,p)}var Ta=Ao.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return y(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sg=Ta.extend({options:{fill:!0,radius:10},initialize:function(u,p){y(this,p),this._latlng=ne(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=ne(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return Ta.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,E=this._clickTolerance(),C=[u+E,p+E];this._pxBounds=new J(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function i6(u,p){return new sg(u,p)}var o1=sg.extend({initialize:function(u,p,E){if(typeof p=="number"&&(p=i({},E,{radius:p})),y(this,p),this._latlng=ne(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new oe(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Ta.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,E=this._map,C=E.options.crs;if(C.distance===ue.distance){var O=Math.PI/180,F=this._mRadius/ue.R/O,K=E.project([p+F,u]),ie=E.project([p-F,u]),ae=K.add(ie).divideBy(2),fe=E.unproject(ae).lat,Re=Math.acos((Math.cos(F*O)-Math.sin(p*O)*Math.sin(fe*O))/(Math.cos(p*O)*Math.cos(fe*O)))/O;(isNaN(Re)||Re===0)&&(Re=F/Math.cos(Math.PI/180*p)),this._point=ae.subtract(E.getPixelOrigin()),this._radius=isNaN(Re)?0:ae.x-E.project([fe,u-Re]).x,this._radiusY=ae.y-K.y}else{var Je=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Je).x}this._updateBounds()}});function o6(u,p,E){return new o1(u,p,E)}var Fs=Ta.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){y(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,E=null,C=_h,O,F,K=0,ie=this._parts.length;K<ie;K++)for(var ae=this._parts[K],fe=1,Re=ae.length;fe<Re;fe++){O=ae[fe-1],F=ae[fe];var Je=C(u,O,F,!0);Je<p&&(p=Je,E=C(u,O,F))}return E&&(E.distance=Math.sqrt(p)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return VA(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=ne(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new oe,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Zi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],E=Zi(u),C=0,O=u.length;C<O;C++)E?(p[C]=ne(u[C]),this._bounds.extend(p[C])):p[C]=this._convertLatLngs(u[C]);return p},_project:function(){var u=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new V(u,u);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,E){var C=u[0]instanceof te,O=u.length,F,K;if(C){for(K=[],F=0;F<O;F++)K[F]=this._map.latLngToLayerPoint(u[F]),E.extend(K[F]);p.push(K)}else for(F=0;F<O;F++)this._projectLatlngs(u[F],p,E)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,E,C,O,F,K,ie,ae;for(E=0,O=0,F=this._rings.length;E<F;E++)for(ae=this._rings[E],C=0,K=ae.length;C<K-1;C++)ie=HA(ae[C],ae[C+1],u,C,!0),ie&&(p[O]=p[O]||[],p[O].push(ie[0]),(ie[1]!==ae[C+1]||C===K-2)&&(p[O].push(ie[1]),O++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,E=0,C=u.length;E<C;E++)u[E]=jA(u[E],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var E,C,O,F,K,ie,ae=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(E=0,F=this._parts.length;E<F;E++)for(ie=this._parts[E],C=0,K=ie.length,O=K-1;C<K;O=C++)if(!(!p&&C===0)&&zA(u,ie[O],ie[C])<=ae)return!0;return!1}});function s6(u,p){return new Fs(u,p)}Fs._flat=GA;var Jc=Fs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return FA(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=Fs.prototype._convertLatLngs.call(this,u),E=p.length;return E>=2&&p[0]instanceof te&&p[0].equals(p[E-1])&&p.pop(),p},_setLatLngs:function(u){Fs.prototype._setLatLngs.call(this,u),Zi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,E=new V(p,p);if(u=new J(u.min.subtract(E),u.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,O=this._rings.length,F;C<O;C++)F=BA(this._rings[C],u,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,E,C,O,F,K,ie,ae,fe;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(F=0,ae=this._parts.length;F<ae;F++)for(E=this._parts[F],K=0,fe=E.length,ie=fe-1;K<fe;ie=K++)C=E[K],O=E[ie],C.y>u.y!=O.y>u.y&&u.x<(O.x-C.x)*(u.y-C.y)/(O.y-C.y)+C.x&&(p=!p);return p||Fs.prototype._containsPoint.call(this,u,!0)}});function a6(u,p){return new Jc(u,p)}var js=Bs.extend({initialize:function(u,p){y(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=S(u)?u:u.features,E,C,O;if(p){for(E=0,C=p.length;E<C;E++)O=p[E],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var F=this.options;if(F.filter&&!F.filter(u))return this;var K=ag(u,F);return K?(K.feature=ug(u),K.defaultOptions=K.options,this.resetStyle(K),F.onEachFeature&&F.onEachFeature(u,K),this.addLayer(K)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=i({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function ag(u,p){var E=u.type==="Feature"?u.geometry:u,C=E?E.coordinates:null,O=[],F=p&&p.pointToLayer,K=p&&p.coordsToLatLng||s1,ie,ae,fe,Re;if(!C&&!E)return null;switch(E.type){case"Point":return ie=K(C),YA(F,u,ie,p);case"MultiPoint":for(fe=0,Re=C.length;fe<Re;fe++)ie=K(C[fe]),O.push(YA(F,u,ie,p));return new Bs(O);case"LineString":case"MultiLineString":return ae=lg(C,E.type==="LineString"?0:1,K),new Fs(ae,p);case"Polygon":case"MultiPolygon":return ae=lg(C,E.type==="Polygon"?1:2,K),new Jc(ae,p);case"GeometryCollection":for(fe=0,Re=E.geometries.length;fe<Re;fe++){var Je=ag({geometry:E.geometries[fe],type:"Feature",properties:u.properties},p);Je&&O.push(Je)}return new Bs(O);case"FeatureCollection":for(fe=0,Re=E.features.length;fe<Re;fe++){var bt=ag(E.features[fe],p);bt&&O.push(bt)}return new Bs(O);default:throw new Error("Invalid GeoJSON object.")}}function YA(u,p,E,C){return u?u(p,E):new og(E,C&&C.markersInheritOptions&&C)}function s1(u){return new te(u[1],u[0],u[2])}function lg(u,p,E){for(var C=[],O=0,F=u.length,K;O<F;O++)K=p?lg(u[O],p-1,E):(E||s1)(u[O]),C.push(K);return C}function a1(u,p){return u=ne(u),u.alt!==void 0?[f(u.lng,p),f(u.lat,p),f(u.alt,p)]:[f(u.lng,p),f(u.lat,p)]}function cg(u,p,E,C){for(var O=[],F=0,K=u.length;F<K;F++)O.push(p?cg(u[F],Zi(u[F])?0:p-1,E,C):a1(u[F],C));return!p&&E&&O.length>0&&O.push(O[0].slice()),O}function Qc(u,p){return u.feature?i({},u.feature,{geometry:p}):ug(p)}function ug(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var l1={toGeoJSON:function(u){return Qc(this,{type:"Point",coordinates:a1(this.getLatLng(),u)})}};og.include(l1),o1.include(l1),sg.include(l1),Fs.include({toGeoJSON:function(u){var p=!Zi(this._latlngs),E=cg(this._latlngs,p?1:0,!1,u);return Qc(this,{type:(p?"Multi":"")+"LineString",coordinates:E})}}),Jc.include({toGeoJSON:function(u){var p=!Zi(this._latlngs),E=p&&!Zi(this._latlngs[0]),C=cg(this._latlngs,E?2:p?1:0,!0,u);return p||(C=[C]),Qc(this,{type:(E?"Multi":"")+"Polygon",coordinates:C})}}),Xc.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(E){p.push(E.toGeoJSON(u).geometry.coordinates)}),Qc(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var E=p==="GeometryCollection",C=[];return this.eachLayer(function(O){if(O.toGeoJSON){var F=O.toGeoJSON(u);if(E)C.push(F.geometry);else{var K=ug(F);K.type==="FeatureCollection"?C.push.apply(C,K.features):C.push(K)}}}),E?Qc(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function qA(u,p){return new js(u,p)}var l6=qA,dg=Ao.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,E){this._url=u,this._bounds=q(p),y(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Sn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&qc(this._image),this},bringToBack:function(){return this._map&&Zc(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=q(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:Gt("img");if(yt(p,"leaflet-image-layer"),this._zoomAnimated&&yt(p,"leaflet-zoom-animated"),this.options.className&&yt(p,this.options.className),p.onselectstart=h,p.onmousemove=h,p.onload=s(this.fire,this,"load"),p.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;jl(this._image,E,p)},_reset:function(){var u=this._image,p=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=p.getSize();Gn(u,p.min),u.style.width=E.x+"px",u.style.height=E.y+"px"},_updateOpacity:function(){qi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),c6=function(u,p,E){return new dg(u,p,E)},ZA=dg.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:Gt("video");if(yt(p,"leaflet-image-layer"),this._zoomAnimated&&yt(p,"leaflet-zoom-animated"),this.options.className&&yt(p,this.options.className),p.onselectstart=h,p.onmousemove=h,p.onloadeddata=s(this.fire,this,"load"),u){for(var E=p.getElementsByTagName("source"),C=[],O=0;O<E.length;O++)C.push(E[O].src);this._url=E.length>0?C:[p.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var K=Gt("source");K.src=this._url[F],p.appendChild(K)}}});function u6(u,p,E){return new ZA(u,p,E)}var XA=dg.extend({_initImage:function(){var u=this._image=this._url;yt(u,"leaflet-image-layer"),this._zoomAnimated&&yt(u,"leaflet-zoom-animated"),this.options.className&&yt(u,this.options.className),u.onselectstart=h,u.onmousemove=h}});function d6(u,p,E){return new XA(u,p,E)}var es=Ao.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof te||S(u))?(this._latlng=ne(u),y(this,p)):(y(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&qi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&qi(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(qi(this._container,0),this._removeTimeout=setTimeout(s(Sn,void 0,this._container),200)):Sn(this._container),this.options.interactive&&(Nn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=ne(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qc(this._container),this},bringToBack:function(){return this._map&&Zc(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof Bs){p=null;var E=this._source._layers;for(var C in E)if(E[C]._map){p=E[C];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=D(this.options.offset),E=this._getAnchor();this._zoomAnimated?Gn(this._container,u.add(E)):p=p.add(u).add(E);var C=this._containerBottom=-p.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=C+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Rt.include({_initOverlay:function(u,p,E,C){var O=p;return O instanceof u||(O=new u(C).setContent(p)),E&&O.setLatLng(E),O}}),Ao.include({_initOverlay:function(u,p,E,C){var O=E;return O instanceof u?(y(O,C),O._source=this):(O=p&&!C?p:new u(C,this),O.setContent(E)),O}});var hg=es.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,es.prototype.openOn.call(this,u)},onAdd:function(u){es.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ta||this._source.on("preclick",Ul))},onRemove:function(u){es.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ta||this._source.off("preclick",Ul))},getEvents:function(){var u=es.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=Gt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=Gt("div",u+"-content-wrapper",p);if(this._contentNode=Gt("div",u+"-content",E),bh(p),Kb(this._contentNode),ht(p,"contextmenu",Ul),this._tipContainer=Gt("div",u+"-tip-container",p),this._tip=Gt("div",u+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=Gt("a",u+"-close-button",p);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',ht(C,"click",function(O){ur(O),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var E=u.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),p.width=E+1+"px",p.whiteSpace="",p.height="";var C=u.offsetHeight,O=this.options.maxHeight,F="leaflet-popup-scrolled";O&&C>O?(p.height=O+"px",yt(u,F)):Nn(u,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),E=this._getAnchor();Gn(this._container,p.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(gh(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+p,C=this._containerWidth,O=new V(this._containerLeft,-E-this._containerBottom);O._add(zl(this._container));var F=u.layerPointToContainerPoint(O),K=D(this.options.autoPanPadding),ie=D(this.options.autoPanPaddingTopLeft||K),ae=D(this.options.autoPanPaddingBottomRight||K),fe=u.getSize(),Re=0,Je=0;F.x+C+ae.x>fe.x&&(Re=F.x+C-fe.x+ae.x),F.x-Re-ie.x<0&&(Re=F.x-ie.x),F.y+E+ae.y>fe.y&&(Je=F.y+E-fe.y+ae.y),F.y-Je-ie.y<0&&(Je=F.y-ie.y),(Re||Je)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Re,Je]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),h6=function(u,p){return new hg(u,p)};Rt.mergeOptions({closePopupOnClick:!0}),Rt.include({openPopup:function(u,p,E){return this._initOverlay(hg,u,p,E).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),Ao.include({bindPopup:function(u,p){return this._popup=this._initOverlay(hg,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof Bs||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Hl(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof Ta)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var fg=es.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){es.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){es.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=es.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Gt("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,E,C=this._map,O=this._container,F=C.latLngToContainerPoint(C.getCenter()),K=C.layerPointToContainerPoint(u),ie=this.options.direction,ae=O.offsetWidth,fe=O.offsetHeight,Re=D(this.options.offset),Je=this._getAnchor();ie==="top"?(p=ae/2,E=fe):ie==="bottom"?(p=ae/2,E=0):ie==="center"?(p=ae/2,E=fe/2):ie==="right"?(p=0,E=fe/2):ie==="left"?(p=ae,E=fe/2):K.x<F.x?(ie="right",p=0,E=fe/2):(ie="left",p=ae+(Re.x+Je.x)*2,E=fe/2),u=u.subtract(D(p,E,!0)).add(Re).add(Je),Nn(O,"leaflet-tooltip-right"),Nn(O,"leaflet-tooltip-left"),Nn(O,"leaflet-tooltip-top"),Nn(O,"leaflet-tooltip-bottom"),yt(O,"leaflet-tooltip-"+ie),Gn(O,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&qi(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),f6=function(u,p){return new fg(u,p)};Rt.include({openTooltip:function(u,p,E){return this._initOverlay(fg,u,p,E).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Ao.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(fg,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[p](E),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof Bs||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(ht(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),ht(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,E,C;this._tooltip.options.sticky&&u.originalEvent&&(E=this._map.mouseEventToContainerPoint(u.originalEvent),C=this._map.containerPointToLayerPoint(E),p=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(p)}});var KA=Kc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),E=this.options;if(E.html instanceof Element?(Qm(p),p.appendChild(E.html)):p.innerHTML=E.html!==!1?E.html:"",E.bgPos){var C=D(E.bgPos);p.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function p6(u){return new KA(u)}Kc.Default=Eh;var Sh=Ao.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){y(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Sn(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qc(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zc(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof V?u:new V(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,E=-u(-1/0,1/0),C=0,O=p.length,F;C<O;C++)F=p[C].style.zIndex,p[C]!==this._container&&F&&(E=u(E,+F));isFinite(E)&&(this.options.zIndex=E+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){qi(this._container,this.options.opacity);var u=+new Date,p=!1,E=!1;for(var C in this._tiles){var O=this._tiles[C];if(!(!O.current||!O.loaded)){var F=Math.min(1,(u-O.loaded)/200);qi(O.el,F),F<1?p=!0:(O.active?E=!0:this._onOpaqueTile(O),O.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),p&&(U(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===u?(this._levels[E].el.style.zIndex=p-Math.abs(u-E),this._onUpdateLevel(E)):(Sn(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var C=this._levels[u],O=this._map;return C||(C=this._levels[u]={},C.el=Gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=p,C.origin=O.project(O.unproject(O.getPixelOrigin()),u).round(),C.zoom=u,this._setZoomTransform(C,O.getCenter(),O.getZoom()),h(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var u,p,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var C=p.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Sn(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,E,C){var O=Math.floor(u/2),F=Math.floor(p/2),K=E-1,ie=new V(+O,+F);ie.z=+K;var ae=this._tileCoordsToKey(ie),fe=this._tiles[ae];return fe&&fe.active?(fe.retain=!0,!0):(fe&&fe.loaded&&(fe.retain=!0),K>C?this._retainParent(O,F,K,C):!1)},_retainChildren:function(u,p,E,C){for(var O=2*u;O<2*u+2;O++)for(var F=2*p;F<2*p+2;F++){var K=new V(O,F);K.z=E+1;var ie=this._tileCoordsToKey(K),ae=this._tiles[ie];if(ae&&ae.active){ae.retain=!0;continue}else ae&&ae.loaded&&(ae.retain=!0);E+1<C&&this._retainChildren(O,F,E+1,C)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,E,C){var O=Math.round(p);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var F=this.options.updateWhenZooming&&O!==this._tileZoom;(!C||F)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(u),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var E in this._levels)this._setZoomTransform(this._levels[E],u,p)},_setZoomTransform:function(u,p,E){var C=this._map.getZoomScale(E,u.zoom),O=u.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(p,E)).round();Pe.any3d?jl(u.el,O,C):Gn(u.el,O)},_resetGrid:function(){var u=this._map,p=u.options.crs,E=this._tileSize=this.getTileSize(),C=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],C).x/E.x),Math.ceil(u.project([0,p.wrapLng[1]],C).x/E.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],C).y/E.x),Math.ceil(u.project([p.wrapLat[1],0],C).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,E=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),C=p.getZoomScale(E,this._tileZoom),O=p.project(u,this._tileZoom).floor(),F=p.getSize().divideBy(C*2);return new J(O.subtract(F),O.add(F))},_update:function(u){var p=this._map;if(p){var E=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(u),O=this._pxBoundsToTileRange(C),F=O.getCenter(),K=[],ie=this.options.keepBuffer,ae=new J(O.getBottomLeft().subtract([ie,-ie]),O.getTopRight().add([ie,-ie]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var fe in this._tiles){var Re=this._tiles[fe].coords;(Re.z!==this._tileZoom||!ae.contains(new V(Re.x,Re.y)))&&(this._tiles[fe].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(u,E);return}for(var Je=O.min.y;Je<=O.max.y;Je++)for(var bt=O.min.x;bt<=O.max.x;bt++){var zr=new V(bt,Je);if(zr.z=this._tileZoom,!!this._isValidTile(zr)){var tr=this._tiles[this._tileCoordsToKey(zr)];tr?tr.current=!0:K.push(zr)}}if(K.sort(function(ri,tu){return ri.distanceTo(F)-tu.distanceTo(F)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xi=document.createDocumentFragment();for(bt=0;bt<K.length;bt++)this._addTile(K[bt],Xi);this._level.el.appendChild(Xi)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var E=this._globalTileRange;if(!p.wrapLng&&(u.x<E.min.x||u.x>E.max.x)||!p.wrapLat&&(u.y<E.min.y||u.y>E.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(u);return q(this.options.bounds).overlaps(C)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,E=this.getTileSize(),C=u.scaleBy(E),O=C.add(E),F=p.unproject(C,u.z),K=p.unproject(O,u.z);return[F,K]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),E=new oe(p[0],p[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),E=new V(+p[0],+p[1]);return E.z=+p[2],E},_removeTile:function(u){var p=this._tiles[u];p&&(Sn(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){yt(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=h,u.onmousemove=h,Pe.ielt9&&this.options.opacity<1&&qi(u,this.options.opacity)},_addTile:function(u,p){var E=this._getTilePos(u),C=this._tileCoordsToKey(u),O=this.createTile(this._wrapCoords(u),s(this._tileReady,this,u));this._initTile(O),this.createTile.length<2&&N(s(this._tileReady,this,u,null,O)),Gn(O,E),this._tiles[C]={el:O,coords:u,current:!0},p.appendChild(O),this.fire("tileloadstart",{tile:O,coords:u})},_tileReady:function(u,p,E){p&&this.fire("tileerror",{error:p,tile:E,coords:u});var C=this._tileCoordsToKey(u);E=this._tiles[C],E&&(E.loaded=+new Date,this._map._fadeAnimated?(qi(E.el,0),U(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),p||(yt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new V(this._wrapX?d(u.x,this._wrapX):u.x,this._wrapY?d(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new J(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function m6(u){return new Sh(u)}var eu=Sh.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=y(this,p),p.detectRetina&&Pe.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var E=document.createElement("img");return ht(E,"load",s(this._tileOnLoad,this,p,E)),ht(E,"error",s(this._tileOnError,this,p,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(u),E},getTileUrl:function(u){var p={r:Pe.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=E),p["-y"]=E}return w(this._url,i(p,this.options))},_tileOnLoad:function(u,p){Pe.ielt9?setTimeout(s(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,E){var C=this.options.errorTileUrl;C&&p.getAttribute("src")!==C&&(p.src=C),u(E,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,E=this.options.zoomReverse,C=this.options.zoomOffset;return E&&(u=p-u),u+C},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=h,p.onerror=h,!p.complete)){p.src=T;var E=this._tiles[u].coords;Sn(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:E})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",T),Sh.prototype._removeTile.call(this,u)},_tileReady:function(u,p,E){if(!(!this._map||E&&E.getAttribute("src")===T))return Sh.prototype._tileReady.call(this,u,p,E)}});function JA(u,p){return new eu(u,p)}var QA=eu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var E=i({},this.defaultWmsParams);for(var C in p)C in this.options||(E[C]=p[C]);p=y(this,p);var O=p.detectRetina&&Pe.retina?2:1,F=this.getTileSize();E.width=F.x*O,E.height=F.y*O,this.wmsParams=E},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,eu.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),E=this._crs,C=j(E.project(p[0]),E.project(p[1])),O=C.min,F=C.max,K=(this._wmsVersion>=1.3&&this._crs===WA?[O.y,O.x,F.y,F.x]:[O.x,O.y,F.x,F.y]).join(","),ie=eu.prototype.getTileUrl.call(this,u);return ie+b(this.wmsParams,ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(u,p){return i(this.wmsParams,u),p||this.redraw(),this}});function g6(u,p){return new QA(u,p)}eu.WMS=QA,JA.wms=g6;var zs=Ao.extend({options:{padding:.1},initialize:function(u){y(this,u),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var E=this._map.getZoomScale(p,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,p),F=C.multiplyBy(-E).add(O).subtract(this._map._getNewPixelOrigin(u,p));Pe.any3d?jl(this._container,F,E):Gn(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),E=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new J(E,E.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ek=zs.extend({options:{tolerance:0},getEvents:function(){var u=zs.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");ht(u,"mousemove",this._onMouseMove,this),ht(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ht(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Sn(this._container),un(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zs.prototype._update.call(this);var u=this._bounds,p=this._container,E=u.getSize(),C=Pe.retina?2:1;Gn(p,u.min),p.width=C*E.x,p.height=C*E.y,p.style.width=E.x+"px",p.style.height=E.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){zs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[l(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,E=p.next,C=p.prev;E?E.prev=C:this._drawLast=C,C?C.next=E:this._drawFirst=E,delete u._order,delete this._layers[l(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),E=[],C,O;for(O=0;O<p.length;O++){if(C=Number(p[O]),isNaN(C))return;E.push(C)}u.options._dashArray=E}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var E=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)u=C.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var E,C,O,F,K=u._parts,ie=K.length,ae=this._ctx;if(ie){for(ae.beginPath(),E=0;E<ie;E++){for(C=0,O=K[E].length;C<O;C++)F=K[E][C],ae[C?"lineTo":"moveTo"](F.x,F.y);p&&ae.closePath()}this._fillStroke(ae,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,E=this._ctx,C=Math.max(Math.round(u._radius),1),O=(Math.max(Math.round(u._radiusY),1)||C)/C;O!==1&&(E.save(),E.scale(1,O)),E.beginPath(),E.arc(p.x,p.y/O,C,0,Math.PI*2,!1),O!==1&&E.restore(),this._fillStroke(E,u)}},_fillStroke:function(u,p){var E=p.options;E.fill&&(u.globalAlpha=E.fillOpacity,u.fillStyle=E.fillColor||E.color,u.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=E.opacity,u.lineWidth=E.weight,u.strokeStyle=E.color,u.lineCap=E.lineCap,u.lineJoin=E.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),E,C,O=this._drawFirst;O;O=O.next)E=O.layer,E.options.interactive&&E._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(E))&&(C=E);this._fireEvent(C?[C]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(Nn(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var E,C,O=this._drawFirst;O;O=O.next)E=O.layer,E.options.interactive&&E._containsPoint(p)&&(C=E);C!==this._hoveredLayer&&(this._handleMouseOut(u),C&&(yt(this._container,"leaflet-interactive"),this._fireEvent([C],u,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,E){this._map._fireDOMEvent(p,E||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var E=p.next,C=p.prev;if(E)E.prev=C;else return;C?C.next=E:E&&(this._drawFirst=E),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var E=p.next,C=p.prev;if(C)C.next=E;else return;E?E.prev=C:C&&(this._drawLast=C),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function tk(u){return Pe.canvas?new ek(u):null}var Th=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),v6={_initContainer:function(){this._container=Gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zs.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=Th("shape");yt(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=Th("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[l(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;Sn(p),u.removeInteractiveTarget(p),delete this._layers[l(u)]},_updateStyle:function(u){var p=u._stroke,E=u._fill,C=u.options,O=u._container;O.stroked=!!C.stroke,O.filled=!!C.fill,C.stroke?(p||(p=u._stroke=Th("stroke")),O.appendChild(p),p.weight=C.weight+"px",p.color=C.color,p.opacity=C.opacity,C.dashArray?p.dashStyle=S(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=C.lineCap.replace("butt","flat"),p.joinstyle=C.lineJoin):p&&(O.removeChild(p),u._stroke=null),C.fill?(E||(E=u._fill=Th("fill")),O.appendChild(E),E.color=C.fillColor||C.color,E.opacity=C.fillOpacity):E&&(O.removeChild(E),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),E=Math.round(u._radius),C=Math.round(u._radiusY||E);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+E+","+C+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){qc(u._container)},_bringToBack:function(u){Zc(u._container)}},pg=Pe.vml?Th:Ue,Ch=zs.extend({_initContainer:function(){this._container=pg("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pg("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Sn(this._container),un(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zs.prototype._update.call(this);var u=this._bounds,p=u.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,E.setAttribute("width",p.x),E.setAttribute("height",p.y)),Gn(E,u.min),E.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=pg("path");u.options.className&&yt(p,u.options.className),u.options.interactive&&yt(p,"leaflet-interactive"),this._updateStyle(u),this._layers[l(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Sn(u._path),u.removeInteractiveTarget(u._path),delete this._layers[l(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,E=u.options;p&&(E.stroke?(p.setAttribute("stroke",E.color),p.setAttribute("stroke-opacity",E.opacity),p.setAttribute("stroke-width",E.weight),p.setAttribute("stroke-linecap",E.lineCap),p.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?p.setAttribute("stroke-dasharray",E.dashArray):p.removeAttribute("stroke-dasharray"),E.dashOffset?p.setAttribute("stroke-dashoffset",E.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),E.fill?(p.setAttribute("fill",E.fillColor||E.color),p.setAttribute("fill-opacity",E.fillOpacity),p.setAttribute("fill-rule",E.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,gt(u._parts,p))},_updateCircle:function(u){var p=u._point,E=Math.max(Math.round(u._radius),1),C=Math.max(Math.round(u._radiusY),1)||E,O="a"+E+","+C+" 0 1,0 ",F=u._empty()?"M0 0":"M"+(p.x-E)+","+p.y+O+E*2+",0 "+O+-E*2+",0 ";this._setPath(u,F)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){qc(u._path)},_bringToBack:function(u){Zc(u._path)}});Pe.vml&&Ch.include(v6);function nk(u){return Pe.svg||Pe.vml?new Ch(u):null}Rt.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&tk(u)||nk(u)}});var rk=Jc.extend({initialize:function(u,p){Jc.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=q(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function y6(u,p){return new rk(u,p)}Ch.create=pg,Ch.pointsToPath=gt,js.geometryToLayer=ag,js.coordsToLatLng=s1,js.coordsToLatLngs=lg,js.latLngToCoords=a1,js.latLngsToCoords=cg,js.getFeature=Qc,js.asFeature=ug,Rt.mergeOptions({boxZoom:!0});var ik=Qo.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){un(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Sn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vh(),Gb(),this._startPoint=this._map.mouseEventToContainerPoint(u),ht(document,{contextmenu:Hl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Gt("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new J(this._point,this._startPoint),E=p.getSize();Gn(this._box,p.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Sn(this._box),Nn(this._container,"leaflet-crosshair")),yh(),Vb(),un(document,{contextmenu:Hl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var p=new oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Rt.addInitHook("addHandler","boxZoom",ik),Rt.mergeOptions({doubleClickZoom:!0});var ok=Qo.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,E=p.getZoom(),C=p.options.zoomDelta,O=u.originalEvent.shiftKey?E-C:E+C;p.options.doubleClickZoom==="center"?p.setZoom(O):p.setZoomAround(u.containerPoint,O)}});Rt.addInitHook("addHandler","doubleClickZoom",ok),Rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sk=Qo.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Sa(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nn(this._map._container,"leaflet-grab"),Nn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=q(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),E=this._initialWorldOffset,C=this._draggable._newPos.x,O=(C-p+E)%u+p-E,F=(C+p+E)%u-p-E,K=Math.abs(O+E)<Math.abs(F+E)?O:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(u){var p=this._map,E=p.options,C=!E.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),C)p.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,K=E.easeLinearity,ie=O.multiplyBy(K/F),ae=ie.distanceTo([0,0]),fe=Math.min(E.inertiaMaxSpeed,ae),Re=ie.multiplyBy(fe/ae),Je=fe/(E.inertiaDeceleration*K),bt=Re.multiplyBy(-Je/2).round();!bt.x&&!bt.y?p.fire("moveend"):(bt=p._limitOffset(bt,p.options.maxBounds),N(function(){p.panBy(bt,{duration:Je,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});Rt.addInitHook("addHandler","dragging",sk),Rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ak=Qo.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),ht(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),un(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,E=u.scrollTop||p.scrollTop,C=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(C,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},E=this.keyCodes,C,O;for(C=0,O=E.left.length;C<O;C++)p[E.left[C]]=[-1*u,0];for(C=0,O=E.right.length;C<O;C++)p[E.right[C]]=[u,0];for(C=0,O=E.down.length;C<O;C++)p[E.down[C]]=[0,u];for(C=0,O=E.up.length;C<O;C++)p[E.up[C]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},E=this.keyCodes,C,O;for(C=0,O=E.zoomIn.length;C<O;C++)p[E.zoomIn[C]]=u;for(C=0,O=E.zoomOut.length;C<O;C++)p[E.zoomOut[C]]=-u},_addHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){un(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,E=this._map,C;if(p in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(C=this._panKeys[p],u.shiftKey&&(C=D(C).multiplyBy(3)),E.options.maxBounds&&(C=E._limitOffset(D(C),E.options.maxBounds)),E.options.worldCopyJump){var O=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(C)));E.panTo(O)}else E.panBy(C)}else if(p in this._zoomKeys)E.setZoom(E.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;Hl(u)}}});Rt.addInitHook("addHandler","keyboard",ak),Rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var lk=Qo.extend({addHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){un(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=RA(u),E=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var C=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),C),Hl(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),E=this._map.options.zoomSnap||0;u._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,F=E?Math.ceil(O/E)*E:O,K=u._limitZoom(p+(this._delta>0?F:-F))-p;this._delta=0,this._startTime=null,K&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+K):u.setZoomAround(this._lastMousePos,p+K))}});Rt.addInitHook("addHandler","scrollWheelZoom",lk);var x6=600;Rt.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var ck=Qo.extend({addHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){un(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new V(p.clientX,p.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(ht(document,"touchend",ur),ht(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),x6),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){un(document,"touchend",ur),un(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),un(document,"touchend touchcancel contextmenu",this._cancel,this),un(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new V(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var E=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});E._simulated=!0,p.target.dispatchEvent(E)}});Rt.addInitHook("addHandler","tapHold",ck),Rt.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var uk=Qo.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nn(this._map._container,"leaflet-touch-zoom"),un(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var E=p.mouseEventToContainerPoint(u.touches[0]),C=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(E.add(C)._divideBy(2))),this._startDist=E.distanceTo(C),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),ur(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,E=p.mouseEventToContainerPoint(u.touches[0]),C=p.mouseEventToContainerPoint(u.touches[1]),O=E.distanceTo(C)/this._startDist;if(this._zoom=p.getScaleZoom(O,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&O<1||this._zoom>p.getMaxZoom()&&O>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var F=E._add(C)._divideBy(2)._subtract(this._centerPoint);if(O===1&&F.x===0&&F.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var K=s(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(K,this,!0),ur(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),un(document,"touchmove",this._onTouchMove,this),un(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Rt.addInitHook("addHandler","touchZoom",uk),Rt.BoxZoom=ik,Rt.DoubleClickZoom=ok,Rt.Drag=sk,Rt.Keyboard=ak,Rt.ScrollWheelZoom=lk,Rt.TapHold=ck,Rt.TouchZoom=uk,n.Bounds=J,n.Browser=Pe,n.CRS=le,n.Canvas=ek,n.Circle=o1,n.CircleMarker=sg,n.Class=H,n.Control=Co,n.DivIcon=KA,n.DivOverlay=es,n.DomEvent=B8,n.DomUtil=N8,n.Draggable=Sa,n.Evented=ee,n.FeatureGroup=Bs,n.GeoJSON=js,n.GridLayer=Sh,n.Handler=Qo,n.Icon=Kc,n.ImageOverlay=dg,n.LatLng=te,n.LatLngBounds=oe,n.Layer=Ao,n.LayerGroup=Xc,n.LineUtil=X8,n.Map=Rt,n.Marker=og,n.Mixin=V8,n.Path=Ta,n.Point=V,n.PolyUtil=W8,n.Polygon=Jc,n.Polyline=Fs,n.Popup=hg,n.PosAnimation=OA,n.Projection=K8,n.Rectangle=rk,n.Renderer=zs,n.SVG=Ch,n.SVGOverlay=XA,n.TileLayer=eu,n.Tooltip=fg,n.Transformation=we,n.Util=Y,n.VideoOverlay=ZA,n.bind=s,n.bounds=j,n.canvas=tk,n.circle=o6,n.circleMarker=i6,n.control=wh,n.divIcon=p6,n.extend=i,n.featureGroup=t6,n.geoJSON=qA,n.geoJson=l6,n.gridLayer=m6,n.icon=n6,n.imageOverlay=c6,n.latLng=ne,n.latLngBounds=q,n.layerGroup=e6,n.map=F8,n.marker=r6,n.point=D,n.polygon=a6,n.polyline=s6,n.popup=h6,n.rectangle=y6,n.setOptions=y,n.stamp=l,n.svg=nk,n.svgOverlay=d6,n.tileLayer=JA,n.tooltip=f6,n.transformation=Fe,n.version=r,n.videoOverlay=u6;var b6=window.L;n.noConflict=function(){return window.L=b6,this},window.L=n})})(_E,_E.exports);var Il=_E.exports;const Ja=Fc(Il);function rh(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function bb(e,t){return t==null?function(r,i){const o=R.useRef();return o.current||(o.current=e(r,i)),o}:function(r,i){const o=R.useRef();o.current||(o.current=e(r,i));const s=R.useRef(r),{instance:a}=o.current;return R.useEffect(function(){s.current!==r&&(t(a,r,s.current),s.current=r)},[a,r,i]),o}}function Tee(e,t){R.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function z4(e){return function(n){const r=xb(),i=e(iC(n,r),r);return D4(r.map,n.attribution),j4(i.current,n.eventHandlers),Tee(i.current,r),i}}function U4(e,t){const n=bb(e,t),r=z4(n);return F4(r)}function H4(e,t){const n=bb(e),r=See(n,t);return wee(r)}function Cee(e,t){const n=bb(e,t),r=z4(n);return _ee(r)}function Aee(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}const lw=U4(function({children:t,...n},r){const i=new Il.LayerGroup([],n);return rh(i,yb(r,{layerContainer:i}))}),kee=bb(function({children:t,...n},r){const i=new Il.Control.Layers(void 0,void 0,n);return rh(i,yb(r,{layersControl:i}))},function(t,n,r){n.collapsed!==r.collapsed&&(n.collapsed===!0?t.collapse():t.expand())}),Mee=Eee(kee),Ws=F4(Mee);function G4(e){return function(n){const r=xb(),i=R.useRef(n),[o,s]=R.useState(null),{layersControl:a,map:l}=r,c=R.useCallback(f=>{a!=null&&(i.current.checked&&l.addLayer(f),e(a,f,i.current.name),s(f))},[a,l]),d=R.useCallback(f=>{a==null||a.removeLayer(f),s(null)},[a]),h=R.useMemo(()=>yb(r,{layerContainer:{addLayer:c,removeLayer:d}}),[r,c,d]);return R.useEffect(()=>{o!==null&&i.current!==n&&(n.checked===!0&&(i.current.checked==null||i.current.checked===!1)?l.addLayer(o):i.current.checked===!0&&(n.checked==null||n.checked===!1)&&l.removeLayer(o),i.current=n)}),n.children?_e.createElement(rC,{value:h},n.children):null}}Ws.BaseLayer=G4(function(t,n,r){t.addBaseLayer(n,r)});Ws.Overlay=G4(function(t,n,r){t.addOverlay(n,r)});function EE(){return EE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EE.apply(this,arguments)}function Lee({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:s,style:a,whenReady:l,zoom:c,...d},h){const[f]=R.useState({className:i,id:o,style:a}),[m,g]=R.useState(null);R.useImperativeHandle(h,()=>(m==null?void 0:m.map)??null,[m]);const y=R.useCallback(x=>{if(x!==null&&m===null){const w=new Il.Map(x,d);n!=null&&c!=null?w.setView(n,c):e!=null&&w.fitBounds(e,t),l!=null&&w.whenReady(l),g(bee(w))}},[]);R.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const b=m?_e.createElement(rC,{value:m},r):s??null;return _e.createElement("div",EE({},f,{ref:y}),b)}const Pee=R.forwardRef(Lee),cw=U4(function({position:t,...n},r){const i=new Il.Marker(t,n);return rh(i,yb(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),uw=H4(function(t,n){const r=new Il.Popup(t,n.overlayContainer);return rh(r,n)},function(t,n,{position:r},i){R.useEffect(function(){const{instance:s}=t;function a(c){c.popup===s&&(s.update(),i(!0))}function l(c){c.popup===s&&i(!1)}return n.map.on({popupopen:a,popupclose:l}),n.overlayContainer==null?(r!=null&&s.setLatLng(r),s.openOn(n.map)):n.overlayContainer.bindPopup(s),function(){var d;n.map.off({popupopen:a,popupclose:l}),(d=n.overlayContainer)==null||d.unbindPopup(),n.map.removeLayer(s)}},[t,n,i,r])}),dw=Cee(function({url:t,...n},r){const i=new Il.TileLayer(t,iC(n,r));return rh(i,r)},function(t,n,r){Aee(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),Ree=H4(function(t,n){const r=new Il.Tooltip(t,n.overlayContainer);return rh(r,n)},function(t,n,{position:r},i){R.useEffect(function(){const s=n.overlayContainer;if(s==null)return;const{instance:a}=t,l=d=>{d.tooltip===a&&(r!=null&&a.setLatLng(r),a.update(),i(!0))},c=d=>{d.tooltip===a&&i(!1)};return s.on({tooltipopen:l,tooltipclose:c}),s.bindTooltip(a),function(){s.off({tooltipopen:l,tooltipclose:c}),s._map!=null&&s.unbindTooltip()}},[t,n,i,r])}),hw="data:image/jpeg;base64,/9j/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwMBAQEBAQEBAgEBAgICAQICAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA//dAAQAIP/uAA5BZG9iZQBkwAAAAAH/wAARCAEAAQADABEAAREBAhEB/8QATAABAQAAAAAAAAAAAAAAAAAAAAoBAQEAAAAAAAAAAAAAAAAAAAAJEAEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMAAAERAhEAPwCXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9CXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9GXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9KXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9OXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9SXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9WXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9aXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9eXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9CXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9GXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9KXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9OXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9SXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9WXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9aXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9eXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9CXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9GXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9KXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9OXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9SXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9WXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9aXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9eXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9CXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9GXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9KXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9OXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9SXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9WXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9aXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9k=",Oee=""+new URL("location_target-8076ad5c.png",import.meta.url).href,Iee=""+new URL("location-8f316350.png",import.meta.url).href,Nee=""+new URL("user-1efb44cb.png",import.meta.url).href,Dee=""+new URL("cctv-camera-4efb1d2e.png",import.meta.url).href,V4=R.createContext(null),Bee=({children:e})=>{const[t,n]=R.useState([]);return fn("map_players",function({players:r,localjob:i}){Array.isArray(r)||(r=Object.values(r)),n(r.filter(o=>i===(o==null?void 0:o.job)))}),v.jsx(V4.Provider,{value:{playerList:t,setPlayersList:n},children:e})},W4=()=>R.useContext(V4),Fee=""+new URL("helicopter-4417265a.png",import.meta.url).href,jee=""+new URL("plane-a92c9a52.png",import.meta.url).href,zee=""+new URL("boat-e60986a1.png",import.meta.url).href,Uee=""+new URL("motorbike-40608bf3.png",import.meta.url).href,Hee=""+new URL("sport-car-b8aeec5f.png",import.meta.url).href,Gee=117.3,Vee=172.8,Wee=.02072,$ee=.0205,Yee=Ja.extend({},Ja.CRS.Simple,{projection:Ja.Projection.LonLat,scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/.6931471805599453},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},transformation:new Ja.Transformation(Wee,Gee,-$ee,Vee),infinite:!0}),qee={walking:Nee,automobile:Hee,bike:Uee,boat:zee,heli:Fee,plane:jee};function Yg(e,t){if(e==="location_target")return Ja.icon({iconUrl:Oee,iconSize:[30,30],iconAnchor:[30,30],popupAnchor:[-10,-27]});if(e==="location")return Ja.icon({iconUrl:Iee,iconSize:[30,30],iconAnchor:[30,30],popupAnchor:[-10,-27]});if(e==="user")return Ja.icon({iconUrl:qee[t],iconSize:[30,30],iconAnchor:[30,30],popupAnchor:[-10,-27]});if(e==="camera")return Ja.icon({iconUrl:Dee,iconSize:[30,30],iconAnchor:[30,30],popupAnchor:[-10,-27]})}const Zee={walking:$T,automobile:qT,bike:XT,boat:JT,heli:nC,plane:eC};function Xee(){const{t:e,gameconfig:t}=it(),{playerList:n}=W4(),{respondingCall:r,callList:i,respondSpecific:o,deleteCall:s}=Rm(),{camerasData:a,ToggleLargue:l,largueDispatch:c}=zn(),[d,h]=R.useState(!1),f=m=>{Se("setmarkerplayer",{coords:m},()=>{})};return R.useEffect(()=>{c?setTimeout(()=>{h(!0)},500):h(!1)},[c]),d?v.jsx(Pee,{className:"relative h-full w-full bg-blue z-0",crs:Yee,center:[0,0],zoom:3,minZoom:2,maxZoom:5,children:v.jsxs(Ws,{position:"topright",children:[v.jsx(Ws.BaseLayer,{checked:!0,name:"Style Satelite",children:v.jsx(dw,{url:"https://www.quasar-store.com/static/mapStyles/styleSatelite/{z}/{x}/{y}.jpg",errorTileUrl:hw,noWrap:!0})}),v.jsx(Ws.BaseLayer,{name:"Style Atlas",children:v.jsx(dw,{url:"https://www.quasar-store.com/static/mapStyles/styleAtlas/{z}/{x}/{y}.jpg",errorTileUrl:hw,noWrap:!0})}),v.jsx(Ws.BaseLayer,{name:"Style Grid",children:v.jsx(dw,{url:"https://www.quasar-store.com/static/mapStyles/styleGrid/{z}/{x}/{y}.png",errorTileUrl:hw,noWrap:!0})}),v.jsx(Ws.Overlay,{checked:!0,name:e("CALLS"),children:v.jsx(lw,{children:i.map(m=>{var y,b;const g=v.jsx(v.Fragment,{children:v.jsxs("div",{className:"p-4",children:[v.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[v.jsxs("span",{id:"popupcallid","call-id":m==null?void 0:m.id,children:["#",m==null?void 0:m.id]}),"Code: ",m==null?void 0:m.code,"",v.jsx("span",{className:"text-xs",children:m==null?void 0:m.codeSnippet})]}),v.jsx("ul",{className:"list-disc pl-4 mb-4",children:v.jsxs("li",{children:[e("MESSAGE"),": ",m!=null&&m.message?m==null?void 0:m.message:e("NOTHING")]})}),v.jsx("br",{}),(m==null?void 0:m.image)&&v.jsx("img",{src:m==null?void 0:m.image,alt:"axD"}),v.jsx("br",{}),v.jsxs("div",{className:"flex justify-center",children:[v.jsx(Lr,{variant:"outlined",color:"error",onClick:()=>s(!1,m==null?void 0:m.id),children:e("DELETE")}),"",v.jsx(Lr,{variant:"contained",onClick:()=>o(m==null?void 0:m.id),children:(r==null?void 0:r.id)===(m==null?void 0:m.id)?e("CANCEL_CALL"):e("ACCEPT_CALL")})]})]})});return v.jsx(cw,{position:[((y=m==null?void 0:m.location)==null?void 0:y.y)||0,((b=m==null?void 0:m.location)==null?void 0:b.x)||0],icon:(r==null?void 0:r.id)===(m==null?void 0:m.id)?Yg("location_target"):Yg("location"),children:v.jsx(uw,{children:g})},m==null?void 0:m.id)})})}),v.jsx(Ws.Overlay,{checked:!0,name:e("CAMERAS"),children:v.jsx(lw,{children:Object.values((a==null?void 0:a.spawnedObjects)??{}).map(m=>{var y,b;const g=v.jsx(v.Fragment,{children:v.jsxs("div",{className:"p-4",children:[v.jsx("h1",{className:"text-center",children:m==null?void 0:m.name}),v.jsx("button",{onClick:()=>{l(),Se("createCCTV",{id:m==null?void 0:m.id})},className:"text-center cursor-pointer focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 m-2 bg-blue-600 hover:bg-blue-700 focus:ring-blue-900 transition-colors select-none",children:e("CONNECT_TO_CCTV")})]})});return v.jsx(cw,{position:[((y=m==null?void 0:m.coords)==null?void 0:y.y)||0,((b=m==null?void 0:m.coords)==null?void 0:b.x)||0],icon:Yg("camera"),children:v.jsx(uw,{children:g})},m==null?void 0:m.id)})})}),v.jsx(Ws.Overlay,{checked:!0,name:e("COLLEGUES"),children:v.jsx(lw,{children:n.map(m=>{var y,b,x;let g=Zee[(m==null?void 0:m.vehType)||"walking"];return v.jsxs(cw,{position:[((y=m==null?void 0:m.coords)==null?void 0:y.y)||0,((b=m==null?void 0:m.coords)==null?void 0:b.x)||0],icon:Yg("user",t.useVehicleIconsInDispatchLargueMap&&(m==null?void 0:m.vehType)||"walking"),children:[v.jsxs(uw,{children:[v.jsxs("p",{className:"text-center",children:[((x=m==null?void 0:m.name)==null?void 0:x.replace(/\B#([A-Za-z0-9]{2,})(?![~!@#$%^&*()=+_`\-\|\\/'\[\]\{\}]|[?.,]*\w)/i,""))+` #${m==null?void 0:m.callsign}`," | ",v.jsx(g,{})," "]}),v.jsx("button",{onClick:()=>f(m.coords),className:"text-center cursor-pointer focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 m-2 bg-blue-600 hover:bg-blue-700 focus:ring-blue-900 transition-colors select-none",children:e("MARK_YOUR_CURENT_LOCATION")})]}),v.jsx(Ree,{children:m.name+` #${m==null?void 0:m.callsign}`})]},m.src)})})})]})}):v.jsx("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center",children:v.jsxs("div",{role:"status",children:[v.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),v.jsx("span",{className:"sr-only",children:"Loading..."})]})})}function oC({children:e,open:t}){const[n,r]=R.useState(ye()),i=wl({opacity:t?1:0,transform:t?"translateY(0%)":"translateY(100%)",config:bl.stiff});return R.useEffect(()=>{const o=setInterval(()=>{r(ye())},1e3);return()=>clearInterval(o)},[]),v.jsx(ds.div,{style:{...i,zIndex:998},className:`absolute flex justify-center items-center ${t?"w-full h-full":"w-0 h-0"}`,children:v.jsx("div",{className:"tablet h-[90vh] w-[74vw] flex justify-center",children:v.jsx("div",{className:"",children:v.jsxs("div",{className:"flex items-center justify-center w-full h-full",children:[v.jsx("div",{className:"cam"}),v.jsxs("div",{id:"mdt_main_cont",className:"absolute h-[82%] rounded-[3vh] overflow-hidden w-[70%] bg-[#111828] text-white m-4 border-gray-400",children:[v.jsx("div",{id:"head_tablet",style:{zIndex:997},className:"bg-[rgba(0,0,0,0.17)] h-[2.1vh] mt-[.09vh]  w-[100vw] backdrop-filter backdrop-blur-sm flex items-center justify-between px-4",children:v.jsxs("div",{className:"flex items-center justify-between w-[68vw]",children:[v.jsx("div",{className:"text-white text-[.8vh] mr-4 right-0",children:n.format("LLL")}),v.jsxs("div",{className:"flex items-center left-0",children:[v.jsx(WQ,{fontSize:"1vh",className:"text-white text-[1vh] mr-2"}),v.jsx(YQ,{fontSize:"1vh",className:"text-white text-[1vh] mr-2"}),v.jsx(FQ,{fontSize:"1vh",className:"text-white text-[1vh] transform rotate-90"})]})]})}),e]})]})})})})}function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function Kee(e,t){if(Ep(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ep(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jee(e){var t=Kee(e,"string");return Ep(t)==="symbol"?t:String(t)}function Qee(e,t,n){return t=Jee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(r){Qee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function si(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var mP=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),fw=function(){return Math.random().toString(36).substring(7).split("").join(".")},gP={INIT:"@@redux/INIT"+fw(),REPLACE:"@@redux/REPLACE"+fw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fw()}};function ete(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $4(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(si(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(si(1));return n($4)(e,t)}if(typeof e!="function")throw new Error(si(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function d(){if(l)throw new Error(si(3));return o}function h(y){if(typeof y!="function")throw new Error(si(4));if(l)throw new Error(si(5));var b=!0;return c(),a.push(y),function(){if(b){if(l)throw new Error(si(6));b=!1,c();var w=a.indexOf(y);a.splice(w,1),s=null}}}function f(y){if(!ete(y))throw new Error(si(7));if(typeof y.type>"u")throw new Error(si(8));if(l)throw new Error(si(9));try{l=!0,o=i(o,y)}finally{l=!1}for(var b=s=a,x=0;x<b.length;x++){var w=b[x];w()}return y}function m(y){if(typeof y!="function")throw new Error(si(10));i=y,f({type:gP.REPLACE})}function g(){var y,b=h;return y={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(si(11));function S(){w.next&&w.next(d())}S();var _=b(S);return{unsubscribe:_}}},y[mP]=function(){return this},y}return f({type:gP.INIT}),r={dispatch:f,subscribe:h,getState:d,replaceReducer:m},r[mP]=g,r}function vP(e,t){return function(){return t(e.apply(this,arguments))}}function yP(e,t){if(typeof e=="function")return vP(e,t);if(typeof e!="object"||e===null)throw new Error(si(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=vP(i,t))}return n}function Y4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function tte(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(si(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=Y4.apply(void 0,a)(i.dispatch),pP(pP({},i),{},{dispatch:o})}}}var q4=_e.createContext(null);function nte(e){e()}var Z4=nte,rte=function(t){return Z4=t},ite=function(){return Z4};function ote(){var e=ite(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=t;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var xP={notify:function(){},get:function(){return[]}};function X4(e,t){var n,r=xP;function i(h){return l(),r.subscribe(h)}function o(){r.notify()}function s(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=ote())}function c(){n&&(n(),n=void 0,r.clear(),r=xP)}var d={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return d}var K4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect;function ste(e){var t=e.store,n=e.context,r=e.children,i=R.useMemo(function(){var a=X4(t);return{store:t,subscription:a}},[t]),o=R.useMemo(function(){return t.getState()},[t]);K4(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||q4;return _e.createElement(s.Provider,{value:i},r)}var J4={exports:{}},cn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb=60103,_b=60106,Bm=60107,Fm=60108,jm=60114,zm=60109,Um=60110,Hm=60112,Gm=60113,sC=60120,Vm=60115,Wm=60116,Q4=60121,e5=60122,t5=60117,n5=60129,r5=60131;if(typeof Symbol=="function"&&Symbol.for){var dr=Symbol.for;wb=dr("react.element"),_b=dr("react.portal"),Bm=dr("react.fragment"),Fm=dr("react.strict_mode"),jm=dr("react.profiler"),zm=dr("react.provider"),Um=dr("react.context"),Hm=dr("react.forward_ref"),Gm=dr("react.suspense"),sC=dr("react.suspense_list"),Vm=dr("react.memo"),Wm=dr("react.lazy"),Q4=dr("react.block"),e5=dr("react.server.block"),t5=dr("react.fundamental"),n5=dr("react.debug_trace_mode"),r5=dr("react.legacy_hidden")}function Ko(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wb:switch(e=e.type,e){case Bm:case jm:case Fm:case Gm:case sC:return e;default:switch(e=e&&e.$$typeof,e){case Um:case Hm:case Wm:case Vm:case zm:return e;default:return t}}case _b:return t}}}var ate=zm,lte=wb,cte=Hm,ute=Bm,dte=Wm,hte=Vm,fte=_b,pte=jm,mte=Fm,gte=Gm;cn.ContextConsumer=Um;cn.ContextProvider=ate;cn.Element=lte;cn.ForwardRef=cte;cn.Fragment=ute;cn.Lazy=dte;cn.Memo=hte;cn.Portal=fte;cn.Profiler=pte;cn.StrictMode=mte;cn.Suspense=gte;cn.isAsyncMode=function(){return!1};cn.isConcurrentMode=function(){return!1};cn.isContextConsumer=function(e){return Ko(e)===Um};cn.isContextProvider=function(e){return Ko(e)===zm};cn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wb};cn.isForwardRef=function(e){return Ko(e)===Hm};cn.isFragment=function(e){return Ko(e)===Bm};cn.isLazy=function(e){return Ko(e)===Wm};cn.isMemo=function(e){return Ko(e)===Vm};cn.isPortal=function(e){return Ko(e)===_b};cn.isProfiler=function(e){return Ko(e)===jm};cn.isStrictMode=function(e){return Ko(e)===Fm};cn.isSuspense=function(e){return Ko(e)===Gm};cn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bm||e===jm||e===n5||e===Fm||e===Gm||e===sC||e===r5||typeof e=="object"&&e!==null&&(e.$$typeof===Wm||e.$$typeof===Vm||e.$$typeof===zm||e.$$typeof===Um||e.$$typeof===Hm||e.$$typeof===t5||e.$$typeof===Q4||e[0]===e5)};cn.typeOf=Ko;J4.exports=cn;var vte=J4.exports,yte=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],xte=["reactReduxForwardedRef"],bte=[],wte=[null,null];function _te(e,t){var n=e[1];return[t.payload,n+1]}function bP(e,t,n){K4(function(){return e.apply(void 0,t)},n)}function Ete(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function Ste(e,t,n,r,i,o,s,a,l,c){if(e){var d=!1,h=null,f=function(){if(!d){var y=t.getState(),b,x;try{b=r(y,i.current)}catch(w){x=w,h=w}x||(h=null),b===o.current?s.current||l():(o.current=b,a.current=b,s.current=!0,c({type:"STORE_UPDATED",payload:{error:x}}))}};n.onStateChange=f,n.trySubscribe(),f();var m=function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h};return m}}var Tte=function(){return[null,0]};function Cte(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,i=r===void 0?function(S){return"ConnectAdvanced("+S+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,a=n.renderCountProp,l=a===void 0?void 0:a,c=n.shouldHandleStateChanges,d=c===void 0?!0:c,h=n.storeKey,f=h===void 0?"store":h;n.withRef;var m=n.forwardRef,g=m===void 0?!1:m,y=n.context,b=y===void 0?q4:y,x=mt(n,yte),w=b;return function(_){var T=_.displayName||_.name||"Component",A=i(T),P=Q({},x,{getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:d,storeKey:f,displayName:A,wrappedComponentName:T,WrappedComponent:_}),k=x.pure;function M(H){return e(H.dispatch,P)}var I=k?R.useMemo:function(H){return H()};function N(H){var G=R.useMemo(function(){var Ht=H.reactReduxForwardedRef,Ke=mt(H,xte);return[H.context,Ht,Ke]},[H]),Z=G[0],ee=G[1],V=G[2],B=R.useMemo(function(){return Z&&Z.Consumer&&vte.isContextConsumer(_e.createElement(Z.Consumer,null))?Z:w},[Z,w]),D=R.useContext(B),J=!!H.store&&!!H.store.getState&&!!H.store.dispatch;D&&D.store;var j=J?H.store:D.store,oe=R.useMemo(function(){return M(j)},[j]),q=R.useMemo(function(){if(!d)return wte;var Ht=X4(j,J?null:D.subscription),Ke=Ht.notifyNestedSubs.bind(Ht);return[Ht,Ke]},[j,J,D]),te=q[0],ne=q[1],le=R.useMemo(function(){return J?D:Q({},D,{subscription:te})},[J,D,te]),ue=R.useReducer(_te,bte,Tte),he=ue[0],se=he[0],we=ue[1];if(se&&se.error)throw se.error;var Fe=R.useRef(),ge=R.useRef(V),Ge=R.useRef(),Ue=R.useRef(!1),gt=I(function(){return Ge.current&&V===ge.current?Ge.current:oe(j.getState(),V)},[j,se,V]);bP(Ete,[ge,Fe,Ue,V,gt,Ge,ne]),bP(Ste,[d,j,te,oe,ge,Fe,Ue,Ge,ne,we],[j,te,oe]);var ut=R.useMemo(function(){return _e.createElement(_,Q({},gt,{ref:ee}))},[ee,_,gt]),Et=R.useMemo(function(){return d?_e.createElement(B.Provider,{value:le},ut):ut},[B,ut,le]);return Et}var U=k?_e.memo(N):N;if(U.WrappedComponent=_,U.displayName=N.displayName=A,g){var Y=_e.forwardRef(function(G,Z){return _e.createElement(U,Q({},G,{reactReduxForwardedRef:Z}))});return Y.displayName=A,Y.WrappedComponent=_,DM(Y,_)}return DM(U,_)}}function wP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function pw(e,t){if(wP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!wP(e[n[i]],t[n[i]]))return!1;return!0}function Ate(e,t){var n={},r=function(s){var a=e[s];typeof a=="function"&&(n[s]=function(){return t(a.apply(void 0,arguments))})};for(var i in e)r(i);return n}function aC(e){return function(n,r){var i=e(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function _P(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function i5(e,t){return function(r,i){i.displayName;var o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=e,o.dependsOnOwnProps=_P(e);var c=o(a,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=_P(c),c=o(a,l)),c},o}}function kte(e){return typeof e=="function"?i5(e):void 0}function Mte(e){return e?void 0:aC(function(t){return{dispatch:t}})}function Lte(e){return e&&typeof e=="object"?aC(function(t){return Ate(e,t)}):void 0}const Pte=[kte,Mte,Lte];function Rte(e){return typeof e=="function"?i5(e):void 0}function Ote(e){return e?void 0:aC(function(){return{}})}const Ite=[Rte,Ote];function Nte(e,t,n){return Q({},n,e,t)}function Dte(e){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(c,d,h){var f=e(c,d,h);return s?(!i||!o(f,a))&&(a=f):(s=!0,a=f),a}}}function Bte(e){return typeof e=="function"?Dte(e):void 0}function Fte(e){return e?void 0:function(){return Nte}}const jte=[Bte,Fte];var zte=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ute(e,t,n,r){return function(o,s){return n(e(o,s),t(r,s),s)}}function Hte(e,t,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,c,d,h,f,m;function g(S,_){return c=S,d=_,h=e(c,d),f=t(r,d),m=n(h,f,d),l=!0,m}function y(){return h=e(c,d),t.dependsOnOwnProps&&(f=t(r,d)),m=n(h,f,d),m}function b(){return e.dependsOnOwnProps&&(h=e(c,d)),t.dependsOnOwnProps&&(f=t(r,d)),m=n(h,f,d),m}function x(){var S=e(c,d),_=!a(S,h);return h=S,_&&(m=n(h,f,d)),m}function w(S,_){var T=!s(_,d),A=!o(S,c,_,d);return c=S,d=_,T&&A?y():T?b():A?x():m}return function(_,T){return l?w(_,T):g(_,T)}}function Gte(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=mt(t,zte),s=n(e,o),a=r(e,o),l=i(e,o),c=o.pure?Hte:Ute;return c(s,a,l,e,o)}var Vte=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function mw(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function Wte(e,t){return e===t}function $te(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?Cte:n,i=t.mapStateToPropsFactories,o=i===void 0?Ite:i,s=t.mapDispatchToPropsFactories,a=s===void 0?Pte:s,l=t.mergePropsFactories,c=l===void 0?jte:l,d=t.selectorFactory,h=d===void 0?Gte:d;return function(m,g,y,b){b===void 0&&(b={});var x=b,w=x.pure,S=w===void 0?!0:w,_=x.areStatesEqual,T=_===void 0?Wte:_,A=x.areOwnPropsEqual,P=A===void 0?pw:A,k=x.areStatePropsEqual,M=k===void 0?pw:k,I=x.areMergedPropsEqual,N=I===void 0?pw:I,U=mt(x,Vte),Y=mw(m,o,"mapStateToProps"),H=mw(g,a,"mapDispatchToProps"),G=mw(y,c,"mergeProps");return r(h,Q({methodName:"connect",getDisplayName:function(ee){return"Connect("+ee+")"},shouldHandleStateChanges:!!m,initMapStateToProps:Y,initMapDispatchToProps:H,initMergeProps:G,pure:S,areStatesEqual:T,areOwnPropsEqual:P,areStatePropsEqual:M,areMergedPropsEqual:N},U))}}const o5=$te();rte(Rl.unstable_batchedUpdates);function Yte(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function s5(e,t){var n=R.useState(function(){return{inputs:t,result:e()}})[0],r=R.useRef(!0),i=R.useRef(n),o=r.current||!!(t&&i.current.inputs&&Yte(t,i.current.inputs)),s=o?i.current:{inputs:t,result:e()};return R.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function qte(e,t){return s5(function(){return e},t)}var zt=s5,Ve=qte,Zte=!0,gw="Invariant failed";function Xte(e,t){if(!e){if(Zte)throw new Error(gw);var n=typeof t=="function"?t():t,r=n?"".concat(gw,": ").concat(n):gw;throw new Error(r)}}var Fo=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},lC=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},EP=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Kte=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},vw={top:0,right:0,bottom:0,left:0},cC=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?vw:r,o=t.border,s=o===void 0?vw:o,a=t.padding,l=a===void 0?vw:a,c=Fo(lC(n,i)),d=Fo(EP(n,s)),h=Fo(EP(d,l));return{marginBox:c,borderBox:Fo(n),paddingBox:d,contentBox:h,margin:i,border:s,padding:l}},Ki=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&Xte(!1),i},Jte=function(){return{x:window.pageXOffset,y:window.pageYOffset}},P0=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,a=Kte(r,n);return cC({borderBox:a,border:i,margin:o,padding:s})},R0=function(t,n){return n===void 0&&(n=Jte()),P0(t,n)},a5=function(t,n){var r={top:Ki(n.marginTop),right:Ki(n.marginRight),bottom:Ki(n.marginBottom),left:Ki(n.marginLeft)},i={top:Ki(n.paddingTop),right:Ki(n.paddingRight),bottom:Ki(n.paddingBottom),left:Ki(n.paddingLeft)},o={top:Ki(n.borderTopWidth),right:Ki(n.borderRightWidth),bottom:Ki(n.borderBottomWidth),left:Ki(n.borderLeftWidth)};return cC({borderBox:t,margin:r,padding:i,border:o})},l5=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return a5(n,r)},SP=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Qte(e,t){return!!(e===t||SP(e)&&SP(t))}function ene(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Qte(e[n],t[n]))return!1;return!0}function ar(e,t){t===void 0&&(t=ene);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var tne=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const Sp=tne;function c5(e,t){}c5.bind(null,"warn");c5.bind(null,"error");function dl(){}function nne(e,t){return Q({},e,{},t)}function ao(e,t,n){var r=t.map(function(i){var o=nne(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var rne="Invariant failed";function O0(e){this.message=e}O0.prototype.toString=function(){return this.message};function Ee(e,t){if(!e)throw new O0(rne)}var ine=function(e){Vx(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.callbacks=null,r.unbind=dl,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var c=a.error;c instanceof O0&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=ao(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof O0){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(_e.Component),one=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,I0=function(t){return t+1},sne=function(t){return`
  You have lifted an item in position `+I0(t.source.index)+`
`},u5=function(t,n){var r=t.droppableId===n.droppableId,i=I0(t.index),o=I0(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},d5=function(t,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},ane=function(t){var n=t.destination;if(n)return u5(t.source,n);var r=t.combine;return r?d5(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},TP=function(t){return`
  The item has returned to its starting position
  of `+I0(t.index)+`
`},lne=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+TP(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+u5(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+d5(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+TP(t.source)+`
  `},Ov={dragHandleUsageInstructions:one,onDragStart:sne,onDragUpdate:ane,onDragEnd:lne},lr={x:0,y:0},mr=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},Mi=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},hl=function(t,n){return t.x===n.x&&t.y===n.y},ih=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Mc=function(t,n,r){var i;return r===void 0&&(r=0),i={},i[t]=n,i[t==="x"?"y":"x"]=r,i},Tp=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},CP=function(t,n){return Math.min.apply(Math,n.map(function(r){return Tp(t,r)}))},h5=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},cne=function(e,t){var n=Fo({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},$m=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},AP=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},une={top:0,right:0,bottom:0,left:0},dne=function(t,n){return n?$m(t,n.scroll.diff.displacement):t},hne=function(t,n,r){if(r&&r.increasedBy){var i;return Q({},t,(i={},i[n.end]=t[n.end]+r.increasedBy[n.line],i))}return t},fne=function(t,n){return n&&n.shouldClipSubject?cne(n.pageMarginBox,t):Fo(t)},_d=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=dne(t.marginBox,i),s=hne(o,r,n),a=fne(s,i);return{page:t,withPlaceholder:n,active:a}},uC=function(e,t){e.frame||Ee(!1);var n=e.frame,r=Mi(t,n.scroll.initial),i=ih(r),o=Q({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),s=_d({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),a=Q({},e,{frame:o,subject:s});return a};function N0(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function dC(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Nl(e,t){if(e.find)return e.find(t);var n=dC(e,t);if(n!==-1)return e[n]}function f5(e){return Array.prototype.slice.call(e)}var p5=ar(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),m5=ar(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Eb=ar(function(e){return N0(e)}),pne=ar(function(e){return N0(e)}),oh=ar(function(e,t){var n=pne(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function hC(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Sb(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Tb=ar(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),mne=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;var s=hC(o);if(!s)return null;function a(y){var b={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return Q({},o,{at:b})}var l=o.displaced.all,c=l.length?l[0]:null;if(t)return c?a(c):null;var d=Tb(n,i);if(!c){if(!d.length)return null;var h=d[d.length-1];return a(h.descriptor.id)}var f=dC(d,function(y){return y.descriptor.id===c});f===-1&&Ee(!1);var m=f-1;if(m<0)return null;var g=d[m];return a(g.descriptor.id)},sh=function(e,t){return e.descriptor.droppableId===t.descriptor.id},g5={point:lr,value:0},Cp={invisible:{},visible:{},all:[]},gne={displaced:Cp,displacedBy:g5,at:null},ho=function(e,t){return function(n){return e<=n&&n<=t}},v5=function(e){var t=ho(e.top,e.bottom),n=ho(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right),a=o&&s;if(a)return!0;var l=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right,d=l&&c;if(d)return!0;var h=l&&s||c&&o;return h}},vne=function(e){var t=ho(e.top,e.bottom),n=ho(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return i}},fC={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},y5={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},yne=function(e){return function(t){var n=ho(t.top,t.bottom),r=ho(t.left,t.right);return function(i){return e===fC?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},xne=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:lr;return $m(t,r)},bne=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},wne=function(t,n,r){return r(n)(t)},pC=function(t){var n=t.target,r=t.destination,i=t.viewport,o=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,a=o?xne(n,r):n;return bne(a,r,s)&&wne(a,i,s)},_ne=function(t){return pC(Q({},t,{isVisibleThroughFrameFn:v5}))},x5=function(t){return pC(Q({},t,{isVisibleThroughFrameFn:vne}))},Ene=function(t){return pC(Q({},t,{isVisibleThroughFrameFn:yne(t.destination.axis)}))},Sne=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[t])return!1;var s=o[t];return s?s.shouldAnimate:!0};function Tne(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Fo(lC(n,r))}function Ap(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,s=e.last;return t.reduce(function(l,c){var d=Tne(c,r),h=c.descriptor.id;l.all.push(h);var f=_ne({target:d,destination:n,viewport:i,withDroppableDisplacement:!0});if(!f)return l.invisible[c.descriptor.id]=!0,l;var m=Sne(h,s,o),g={draggableId:h,shouldAnimate:m};return l.visible[h]=g,l},{all:[],visible:{},invisible:{}})}function Cne(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function kP(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=Cne(t,{inHomeList:n});return{displaced:Cp,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function D0(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,s=e.last,a=e.index,l=e.forceShouldAnimate,c=sh(t,r);if(a==null)return kP({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=Nl(n,function(y){return y.descriptor.index===a});if(!d)return kP({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var h=Tb(t,n),f=n.indexOf(d),m=h.slice(f),g=Ap({afterDragging:m,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l});return{displaced:g,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function _l(e,t){return!!t.effected[e]}var Ane=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s],l=a.descriptor.index,c=_l(s,o);return c?t?l:l-1:t?l+1:l},kne=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,s=t?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=n?l:l+1;return s<a||s>c?null:s},Mne=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,s=e.insideDestination,a=e.previousImpact,l=e.viewport,c=e.afterCritical,d=a.at;if(d||Ee(!1),d.type==="REORDER"){var h=kne({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:s});return h==null?null:D0({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:h})}var f=Ane({isMovingForward:t,destination:o,displaced:a.displaced,draggables:i,combine:d.combine,afterCritical:c});return f==null?null:D0({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})},Lne=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=!!(t.visible[r]||t.invisible[r]);return _l(r,n)?o?lr:ih(i.point):o?i.point:lr},Pne=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=Sb(n);i||Ee(!1);var o=i.draggableId,s=r[o].page.borderBox.center,a=Lne({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return mr(s,a)},b5=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},Rne=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},mC=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},MP=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Mc(n.line,r.marginBox[n.end]+b5(n,i),mC(n,r.marginBox,i))},LP=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Mc(n.line,r.marginBox[n.start]-Rne(n,i),mC(n,r.marginBox,i))},One=function(t){var n=t.axis,r=t.moveInto,i=t.isMoving;return Mc(n.line,r.contentBox[n.start]+b5(n,i),mC(n,r.contentBox,i))},Ine=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,s=oh(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return One({axis:l,moveInto:i.page,isMoving:a});var c=t.displaced,d=t.displacedBy,h=c.all[0];if(h){var f=r[h];if(_l(h,o))return LP({axis:l,moveRelativeTo:f.page,isMoving:a});var m=P0(f.page,d.point);return LP({axis:l,moveRelativeTo:m,isMoving:a})}var g=s[s.length-1];if(g.descriptor.id===n.descriptor.id)return a.borderBox.center;if(_l(g.descriptor.id,o)){var y=P0(g.page,ih(o.displacedBy.point));return MP({axis:l,moveRelativeTo:y,isMoving:a})}return MP({axis:l,moveRelativeTo:g.page,isMoving:a})},SE=function(e,t){var n=e.frame;return n?mr(t,n.scroll.diff.displacement):t},Nne=function(t){var n=t.impact,r=t.draggable,i=t.droppable,o=t.draggables,s=t.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?Ine({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):Pne({impact:n,draggables:o,afterCritical:s})},Cb=function(e){var t=Nne(e),n=e.droppable,r=n?SE(n,t):t;return r},w5=function(e,t){var n=Mi(t,e.scroll.initial),r=ih(n),i=Fo({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return o};function PP(e,t){return e.map(function(n){return t[n]})}function Dne(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var Bne=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,s=w5(n,mr(n.scroll.current,o)),a=r.frame?uC(r,mr(r.frame.scroll.current,o)):r,l=t.displaced,c=Ap({afterDragging:PP(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d=Ap({afterDragging:PP(l.all,i),destination:a,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),h={},f={},m=[l,c,d];l.all.forEach(function(y){var b=Dne(y,m);if(b){f[y]=b;return}h[y]=!0});var g=Q({},t,{displaced:{all:l.all,invisible:h,visible:f}});return g},Fne=function(e,t){return mr(e.scroll.diff.displacement,t)},gC=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,i=Fne(r,t),o=Mi(i,n.page.borderBox.center);return mr(n.client.borderBox.center,o)},_5=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,s=e.onlyOnMainAxis,a=s===void 0?!1:s,l=Mi(r,t.page.borderBox.center),c=$m(t.page.borderBox,l),d={target:c,destination:n,withDroppableDisplacement:o,viewport:i};return a?Ene(d):x5(d)},jne=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,s=e.viewport,a=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var d=oh(r.descriptor.id,i),h=sh(n,r),f=mne({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:o})||Mne({isMovingForward:t,isInHomeList:h,draggable:n,draggables:i,destination:r,insideDestination:d,previousImpact:o,viewport:s,afterCritical:c});if(!f)return null;var m=Cb({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:c}),g=_5({draggable:n,destination:r,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var y=gC({pageBorderBoxCenter:m,draggable:n,viewport:s});return{clientSelection:y,impact:f,scrollJumpRequest:null}}var b=Mi(m,a),x=Bne({impact:f,viewport:s,destination:r,draggables:i,maxScrollChange:b});return{clientSelection:l,impact:x,scrollJumpRequest:b}},Ur=function(t){var n=t.subject.active;return n||Ee(!1),n},zne=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=ho(s[a.start],s[a.end]),c=Eb(i).filter(function(h){return h!==r}).filter(function(h){return h.isEnabled}).filter(function(h){return!!h.subject.active}).filter(function(h){return v5(o.frame)(Ur(h))}).filter(function(h){var f=Ur(h);return t?s[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(h){var f=Ur(h),m=ho(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||m(s[a.start])||m(s[a.end])}).sort(function(h,f){var m=Ur(h)[a.crossAxisStart],g=Ur(f)[a.crossAxisStart];return t?m-g:g-m}).filter(function(h,f,m){return Ur(h)[a.crossAxisStart]===Ur(m[0])[a.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var d=c.filter(function(h){var f=ho(Ur(h)[a.start],Ur(h)[a.end]);return f(n[a.line])});return d.length===1?d[0]:d.length>1?d.sort(function(h,f){return Ur(h)[a.start]-Ur(f)[a.start]})[0]:c.sort(function(h,f){var m=CP(n,AP(Ur(h))),g=CP(n,AP(Ur(f)));return m!==g?m-g:Ur(h)[a.start]-Ur(f)[a.start]})[0]},RP=function(t,n){var r=t.page.borderBox.center;return _l(t.descriptor.id,n)?Mi(r,n.displacedBy.point):r},Une=function(t,n){var r=t.page.borderBox;return _l(t.descriptor.id,n)?$m(r,ih(n.displacedBy.point)):r},Hne=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,s=i.filter(function(a){return x5({target:Une(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var c=Tp(t,SE(r,RP(a,o))),d=Tp(t,SE(r,RP(l,o)));return c<d?-1:d<c?1:a.descriptor.index-l.descriptor.index});return s[0]||null},Ym=ar(function(t,n){var r=n[t.line];return{value:r,point:Mc(t.line,r)}}),Gne=function(t,n,r){var i=t.axis;if(t.descriptor.mode==="virtual")return Mc(i.line,n[i.line]);var o=t.subject.page.contentBox[i.size],s=oh(t.descriptor.id,r),a=s.reduce(function(d,h){return d+h.client.marginBox[i.size]},0),l=a+n[i.line],c=l-o;return c<=0?null:Mc(i.line,c)},E5=function(t,n){return Q({},t,{scroll:Q({},t.scroll,{max:n})})},S5=function(t,n,r){var i=t.frame;sh(n,t)&&Ee(!1),t.subject.withPlaceholder&&Ee(!1);var o=Ym(t.axis,n.displaceBy).point,s=Gne(t,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var l=_d({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:t.frame});return Q({},t,{subject:l})}var c=s?mr(i.scroll.max,s):i.scroll.max,d=E5(i,c),h=_d({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:d});return Q({},t,{subject:h,frame:d})},Vne=function(t){var n=t.subject.withPlaceholder;n||Ee(!1);var r=t.frame;if(!r){var i=_d({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Q({},t,{subject:i})}var o=n.oldFrameMaxScroll;o||Ee(!1);var s=E5(r,o),a=_d({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return Q({},t,{subject:a,frame:s})},Wne=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,s=e.destination,a=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:Cp,displacedBy:g5,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=Cb({impact:c,draggable:i,droppable:s,draggables:o,afterCritical:l}),h=sh(i,s)?s:S5(s,i,o),f=_5({draggable:i,destination:h,newPageBorderBoxCenter:d,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?c:null}var m=t[s.axis.line]<=n.page.borderBox.center[s.axis.line],g=function(){var b=n.descriptor.index;return n.descriptor.id===i.descriptor.id||m?b:b+1}(),y=Ym(s.axis,i.displaceBy);return D0({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:y,last:Cp,index:g})},$ne=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,s=e.droppables,a=e.viewport,l=e.afterCritical,c=zne({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!c)return null;var d=oh(c.descriptor.id,o),h=Hne({pageBorderBoxCenter:n,viewport:a,destination:c,insideDestination:d,afterCritical:l}),f=Wne({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:h,insideDestination:d,viewport:a,afterCritical:l});if(!f)return null;var m=Cb({impact:f,draggable:r,droppable:c,draggables:o,afterCritical:l}),g=gC({pageBorderBoxCenter:m,draggable:r,viewport:a});return{clientSelection:g,impact:f,scrollJumpRequest:null}},Oi=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Yne=function(t,n){var r=Oi(t);return r?n[r]:null},qne=function(e){var t=e.state,n=e.type,r=Yne(t.impact,t.dimensions.droppables),i=!!r,o=t.dimensions.droppables[t.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var c=n==="MOVE_DOWN"||n==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],h=t.current.page.borderBoxCenter,f=t.dimensions,m=f.draggables,g=f.droppables;return l?jne({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,destination:s,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):$ne({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,isOver:s,draggables:m,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function Kl(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function T5(e){var t=ho(e.top,e.bottom),n=ho(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function Zne(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Xne(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map(function(s){var a=s.axis,l=Mc(s.axis.line,t.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:Tp(i,l)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function Kne(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=Eb(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!Zne(t,s))return!1;if(T5(s)(t.center))return!0;var a=o.axis,l=s.center[a.crossAxisLine],c=t[a.crossAxisStart],d=t[a.crossAxisEnd],h=ho(s[a.crossAxisStart],s[a.crossAxisEnd]),f=h(c),m=h(d);return!f&&!m?!0:f?c<l:d>l});return i.length?i.length===1?i[0].descriptor.id:Xne({pageBorderBox:t,draggable:n,candidates:i}):null}var C5=function(t,n){return Fo($m(t,n))},Jne=function(e,t){var n=e.frame;return n?C5(t,n.scroll.diff.value):t};function A5(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function Qne(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var ere=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,s=e.viewport,a=e.afterCritical,l=r.axis,c=Ym(r.axis,n.displaceBy),d=c.value,h=t[l.start],f=t[l.end],m=Tb(n,i),g=Nl(m,function(b){var x=b.descriptor.id,w=b.page.borderBox.center[l.line],S=_l(x,a),_=A5({displaced:o,id:x});return S?_?f<=w:h<w-d:_?f<=w+d:h<w}),y=Qne({draggable:n,closest:g,inHomeList:sh(n,r)});return D0({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:c,index:y})},tre=4,nre=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,s=e.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=Ym(i.axis,t.displaceBy),c=l.value,d=n[a.start],h=n[a.end],f=Tb(t,o),m=Nl(f,function(y){var b=y.descriptor.id,x=y.page.borderBox,w=x[a.size],S=w/tre,_=_l(b,s),T=A5({displaced:r.displaced,id:b});return _?T?h>x[a.start]+S&&h<x[a.end]-S:d>x[a.start]-c+S&&d<x[a.end]-c-S:T?h>x[a.start]+c+S&&h<x[a.end]+c-S:d>x[a.start]+S&&d<x[a.end]-S});if(!m)return null;var g={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:i.descriptor.id}}};return g},k5=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,s=e.viewport,a=e.afterCritical,l=C5(n.page.borderBox,t),c=Kne({pageBorderBox:l,draggable:n,droppables:i});if(!c)return gne;var d=i[c],h=oh(d.descriptor.id,r),f=Jne(d,l);return nre({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:o,destination:d,insideDestination:h,afterCritical:a})||ere({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:d,insideDestination:h,last:o.displaced,viewport:s,afterCritical:a})},vC=function(e,t){var n;return Q({},e,(n={},n[t.descriptor.id]=t,n))},rre=function(t){var n=t.previousImpact,r=t.impact,i=t.droppables,o=Oi(n),s=Oi(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var l=Vne(a);return vC(i,l)},ire=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,s=rre({previousImpact:i,impact:o,droppables:r}),a=Oi(o);if(!a)return s;var l=r[a];if(sh(t,l)||l.subject.withPlaceholder)return s;var c=S5(l,t,n);return vC(s,c)},Rf=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,s=e.scrollJumpRequest,a=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,d=Mi(c,t.initial.client.selection),h={offset:d,selection:c,borderBoxCenter:mr(t.initial.client.borderBoxCenter,d)},f={selection:mr(h.selection,a.scroll.current),borderBoxCenter:mr(h.borderBoxCenter,a.scroll.current),offset:mr(h.offset,a.scroll.diff.value)},m={client:h,page:f};if(t.phase==="COLLECTING")return Q({phase:"COLLECTING"},t,{dimensions:l,viewport:a,current:m});var g=l.draggables[t.critical.draggable.id],y=o||k5({pageOffset:f.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),b=ire({draggable:g,impact:y,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),x=Q({},t,{current:m,dimensions:{draggables:l.draggables,droppables:b},impact:y,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return x};function ore(e,t){return e.map(function(n){return t[n]})}var M5=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,s=t.displaced,a=ore(s.all,r),l=Ap({afterDragging:a,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return Q({},t,{displaced:l})},L5=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,s=e.afterCritical,a=Cb({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:s});return gC({pageBorderBoxCenter:a,draggable:n,viewport:o})},P5=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&Ee(!1);var i=t.impact,o=r||t.viewport,s=n||t.dimensions,a=s.draggables,l=s.droppables,c=a[t.critical.draggable.id],d=Oi(i);d||Ee(!1);var h=l[d],f=M5({impact:i,viewport:o,destination:h,draggables:a}),m=L5({impact:f,draggable:c,droppable:h,draggables:a,viewport:o,afterCritical:t.afterCritical});return Rf({impact:f,clientSelection:m,state:t,dimensions:s,viewport:o})},sre=function(e){return{index:e.index,droppableId:e.droppableId}},R5=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=Ym(n.axis,t.displaceBy),s=oh(n.descriptor.id,r),a=s.indexOf(t);a===-1&&Ee(!1);var l=s.slice(a+1),c=l.reduce(function(m,g){return m[g.descriptor.id]=!0,m},{}),d={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:c},h=Ap({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:h,displacedBy:o,at:{type:"REORDER",destination:sre(t.descriptor)}};return{impact:f,afterCritical:d}},are=function(e,t){return{draggables:e.draggables,droppables:vC(e.droppables,t)}},lre=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=P0(t.client,n),o=R0(i,r),s=Q({},t,{placeholder:Q({},t.placeholder,{client:i}),client:i,page:o});return s},cre=function(e){var t=e.frame;return t||Ee(!1),t},ure=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(o){var s=o.descriptor.droppableId,a=n[s],l=cre(a),c=l.scroll.diff.value,d=mr(i,c),h=lre({draggable:o,offset:d,initialWindowScroll:r.scroll.initial});return h})},dre=function(e){var t=e.state,n=e.published,r=n.modified.map(function(S){var _=t.dimensions.droppables[S.droppableId],T=uC(_,S.scroll);return T}),i=Q({},t.dimensions.droppables,{},p5(r)),o=m5(ure({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),s=Q({},t.dimensions.draggables,{},o);n.removals.forEach(function(S){delete s[S]});var a={droppables:i,draggables:s},l=Oi(t.impact),c=l?a.droppables[l]:null,d=a.draggables[t.critical.draggable.id],h=a.droppables[t.critical.droppable.id],f=R5({draggable:d,home:h,draggables:s,viewport:t.viewport}),m=f.impact,g=f.afterCritical,y=c&&c.isCombineEnabled?t.impact:m,b=k5({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:y,viewport:t.viewport,afterCritical:g}),x=Q({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:m,dimensions:a,afterCritical:g,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return x;var w=Q({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return w},TE=function(t){return t.movementMode==="SNAP"},yw=function(t,n,r){var i=are(t.dimensions,n);return!TE(t)||r?Rf({state:t,dimensions:i}):P5({state:t,dimensions:i})};function xw(e){return e.isDragging&&e.movementMode==="SNAP"?Q({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var OP={phase:"IDLE",completed:null,shouldFlush:!1},hre=function(e,t){if(e===void 0&&(e=OP),t.type==="FLUSH")return Q({},OP,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ee(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],c=s.droppables[r.droppable.id],d={selection:i,borderBoxCenter:l.client.borderBox.center,offset:lr},h={client:d,page:{selection:mr(d.selection,o.scroll.initial),borderBoxCenter:mr(d.selection,o.scroll.initial),offset:mr(d.selection,o.scroll.diff.value)}},f=Eb(s.droppables).every(function(we){return!we.isFixedOnPage}),m=R5({draggable:l,home:c,draggables:s.draggables,viewport:o}),g=m.impact,y=m.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:h,current:h,isWindowScrollAllowed:f,impact:g,afterCritical:y,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ee(!1);var x=Q({phase:"COLLECTING"},e,{phase:"COLLECTING"});return x}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ee(!1),dre({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Kl(e)||Ee(!1);var w=t.payload.client;return hl(w,e.current.client.selection)?e:Rf({state:e,clientSelection:w,impact:TE(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return xw(e);Kl(e)||Ee(!1);var S=t.payload,_=S.id,T=S.newScroll,A=e.dimensions.droppables[_];if(!A)return e;var P=uC(A,T);return yw(e,P,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Kl(e)||Ee(!1);var k=t.payload,M=k.id,I=k.isEnabled,N=e.dimensions.droppables[M];N||Ee(!1),N.isEnabled===I&&Ee(!1);var U=Q({},N,{isEnabled:I});return yw(e,U,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Kl(e)||Ee(!1);var Y=t.payload,H=Y.id,G=Y.isCombineEnabled,Z=e.dimensions.droppables[H];Z||Ee(!1),Z.isCombineEnabled===G&&Ee(!1);var ee=Q({},Z,{isCombineEnabled:G});return yw(e,ee,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Kl(e)||Ee(!1),e.isWindowScrollAllowed||Ee(!1);var V=t.payload.newScroll;if(hl(e.viewport.scroll.current,V))return xw(e);var B=w5(e.viewport,V);return TE(e)?P5({state:e,viewport:B}):Rf({state:e,viewport:B})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Kl(e))return e;var D=t.payload.maxScroll;if(hl(D,e.viewport.scroll.max))return e;var J=Q({},e.viewport,{scroll:Q({},e.viewport.scroll,{max:D})});return Q({phase:"DRAGGING"},e,{viewport:J})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ee(!1);var j=qne({state:e,type:t.type});return j?Rf({state:e,impact:j.impact,clientSelection:j.clientSelection,scrollJumpRequest:j.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var oe=t.payload.reason;e.phase!=="COLLECTING"&&Ee(!1);var q=Q({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:oe});return q}if(t.type==="DROP_ANIMATE"){var te=t.payload,ne=te.completed,le=te.dropDuration,ue=te.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ee(!1);var he={phase:"DROP_ANIMATING",completed:ne,dropDuration:le,newHomeClientOffset:ue,dimensions:e.dimensions};return he}if(t.type==="DROP_COMPLETE"){var se=t.payload.completed;return{phase:"IDLE",completed:se,shouldFlush:!1}}return e},fre=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},pre=function(t){return{type:"LIFT",payload:t}},mre=function(t){return{type:"INITIAL_PUBLISH",payload:t}},gre=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},vre=function(){return{type:"COLLECTION_STARTING",payload:null}},yre=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},xre=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},bre=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},O5=function(t){return{type:"MOVE",payload:t}},wre=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},_re=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Ere=function(){return{type:"MOVE_UP",payload:null}},Sre=function(){return{type:"MOVE_DOWN",payload:null}},Tre=function(){return{type:"MOVE_RIGHT",payload:null}},Cre=function(){return{type:"MOVE_LEFT",payload:null}},yC=function(){return{type:"FLUSH",payload:null}},Are=function(t){return{type:"DROP_ANIMATE",payload:t}},xC=function(t){return{type:"DROP_COMPLETE",payload:t}},I5=function(t){return{type:"DROP",payload:t}},kre=function(t){return{type:"DROP_PENDING",payload:t}},N5=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Mre=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,l=s.clientSelection,c=s.movementMode,d=n();d.phase==="DROP_ANIMATING"&&r(xC({completed:d.completed})),n().phase!=="IDLE"&&Ee(!1),r(yC()),r(fre({draggableId:a,movementMode:c}));var h={shouldPublishImmediately:c==="SNAP"},f={draggableId:a,scrollOptions:h},m=e.startPublishing(f),g=m.critical,y=m.dimensions,b=m.viewport;r(mre({critical:g,dimensions:y,clientSelection:l,movementMode:c,viewport:b}))}}}},Lre=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},bC={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},kp={opacity:{drop:0,combining:.7},scale:{drop:.75}},wC={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Wl=wC.outOfTheWay+"s "+bC.outOfTheWay,Of={fluid:"opacity "+Wl,snap:"transform "+Wl+", opacity "+Wl,drop:function(t){var n=t+"s "+bC.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Wl,placeholder:"height "+Wl+", width "+Wl+", margin "+Wl},IP=function(t){return hl(t,lr)?null:"translate("+t.x+"px, "+t.y+"px)"},CE={moveTo:IP,drop:function(t,n){var r=IP(t);return r?n?r+" scale("+kp.scale.drop+")":r:null}},AE=wC.minDropTime,D5=wC.maxDropTime,Pre=D5-AE,NP=1500,Rre=.6,Ore=function(e){var t=e.current,n=e.destination,r=e.reason,i=Tp(t,n);if(i<=0)return AE;if(i>=NP)return D5;var o=i/NP,s=AE+Pre*o,a=r==="CANCEL"?s*Rre:s;return Number(a.toFixed(2))},Ire=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,s=r.draggables,a=r.droppables,l=Oi(t),c=l?a[l]:null,d=a[n.descriptor.droppableId],h=L5({impact:t,draggable:n,draggables:s,afterCritical:o,droppable:c||d,viewport:i}),f=Mi(h,n.client.borderBox.center);return f},Nre=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,s=e.onLiftImpact;if(!r.at||n!=="DROP"){var a=M5({draggables:t,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=Q({},r,{displaced:Cp});return{impact:l,didDropInsideDroppable:!0}},Dre=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=t(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(kre({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&Ee(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Ee(!1);var l=o.critical,c=o.dimensions,d=c.draggables[o.critical.draggable.id],h=Nre({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),f=h.impact,m=h.didDropInsideDroppable,g=m?hC(f):null,y=m?Sb(f):null,b={index:l.draggable.index,droppableId:l.droppable.id},x={draggableId:d.descriptor.id,type:d.descriptor.type,source:b,reason:s,mode:o.movementMode,destination:g,combine:y},w=Ire({impact:f,draggable:d,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),S={critical:o.critical,afterCritical:o.afterCritical,result:x,impact:f},_=!hl(o.current.client.offset,w)||!!x.combine;if(!_){n(xC({completed:S}));return}var T=Ore({current:o.current.client.offset,destination:w,reason:s}),A={newHomeClientOffset:w,dropDuration:T,completed:S};n(Are(A))}}}},B5=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Bre(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function Fre(e){var t=e.onWindowScroll;function n(){t(B5())}var r=Sp(n),i=Bre(r),o=dl;function s(){return o!==dl}function a(){s()&&Ee(!1),o=ao(window,[i])}function l(){s()||Ee(!1),r.cancel(),o(),o=dl}return{start:a,stop:l,isActive:s}}var jre=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},zre=function(e){var t=Fre({onWindowScroll:function(r){e.dispatch(wre({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&jre(r)&&t.stop(),n(r)}}},Ure=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=function(){return t},i},Hre=function(){var e=[],t=function(o){var s=dC(e,function(c){return c.timerId===o});s===-1&&Ee(!1);var a=e.splice(s,1),l=a[0];l.callback()},n=function(o){var s=setTimeout(function(){return t(s)}),a={timerId:s,callback:o};e.push(a)},r=function(){if(e.length){var o=[].concat(e);e.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},Gre=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},Vre=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},Wre=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,i=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&i},Yh=function(t,n){n()},qg=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},bw=function(t,n,r,i){if(!t){r(i(n));return}var o=Ure(r),s={announce:o};t(n,s),o.wasCalled()||r(i(n))},$re=function(e,t){var n=Hre(),r=null,i=function(f,m){r&&Ee(!1),Yh("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var y={draggableId:f,mode:m};g(y)}})},o=function(f,m){r&&Ee(!1),Yh("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(qg(f,m))})},s=function(f,m){r&&Ee(!1);var g=qg(f,m);r={mode:m,lastCritical:f,lastLocation:g.source,lastCombine:null},n.add(function(){Yh("onDragStart",function(){return bw(e().onDragStart,g,t,Ov.onDragStart)})})},a=function(f,m){var g=hC(m),y=Sb(m);r||Ee(!1);var b=!Wre(f,r.lastCritical);b&&(r.lastCritical=f);var x=!Gre(r.lastLocation,g);x&&(r.lastLocation=g);var w=!Vre(r.lastCombine,y);if(w&&(r.lastCombine=y),!(!b&&!x&&!w)){var S=Q({},qg(f,r.mode),{combine:y,destination:g});n.add(function(){Yh("onDragUpdate",function(){return bw(e().onDragUpdate,S,t,Ov.onDragUpdate)})})}},l=function(){r||Ee(!1),n.flush()},c=function(f){r||Ee(!1),r=null,Yh("onDragEnd",function(){return bw(e().onDragEnd,f,t,Ov.onDragEnd)})},d=function(){if(r){var f=Q({},qg(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});c(f)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:c,abort:d}},Yre=function(e,t){var n=$re(e,t);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},qre=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&Ee(!1),e.dispatch(xC({completed:r.completed}))}}},Zre=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(N5())}};n=requestAnimationFrame(function(){n=null,t=ao(window,[s])})}}}},Xre=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},Kre=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},Jre=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Qre=function(e){return function(t){return function(n){return function(r){if(Jre(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=t.getState();i.phase!=="DRAGGING"&&Ee(!1),e.start(i);return}n(r),e.scroll(t.getState())}}}},eie=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(I5({reason:r.reason})))}}}},tie=Y4,nie=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,o=e.announce,s=e.autoScroller;return $4(hre,tie(tte(Lre(r),Xre(t),Mre(t),Dre,qre,Zre,eie,Qre(s),zre,Kre(n),Yre(i,o))))},ww=function(){return{additions:{},removals:{},modified:{}}};function rie(e){var t=e.registry,n=e.callbacks,r=ww(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var d=r,h=d.additions,f=d.removals,m=d.modified,g=Object.keys(h).map(function(x){return t.draggable.getById(x).getDimension(lr)}).sort(function(x,w){return x.descriptor.index-w.descriptor.index}),y=Object.keys(m).map(function(x){var w=t.droppable.getById(x),S=w.callbacks.getScrollWhileDragging();return{droppableId:x,scroll:S}}),b={additions:g,removals:Object.keys(f),modified:y};r=ww(),n.publish(b)}))},s=function(d){var h=d.descriptor.id;r.additions[h]=d,r.modified[d.descriptor.droppableId]=!0,r.removals[h]&&delete r.removals[h],o()},a=function(d){var h=d.descriptor;r.removals[h.id]=!0,r.modified[h.droppableId]=!0,r.additions[h.id]&&delete r.additions[h.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=ww())};return{add:s,remove:a,stop:l}}var F5=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=Mi({x:n,y:t},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},j5=function(){var e=document.documentElement;return e||Ee(!1),e},z5=function(){var e=j5(),t=F5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},iie=function(){var e=B5(),t=z5(),n=e.y,r=e.x,i=j5(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s,c=Fo({top:n,left:r,right:a,bottom:l}),d={frame:c,scroll:{initial:e,current:e,max:t,diff:{value:lr,displacement:lr}}};return d},oie=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,i=iie(),o=i.scroll.current,s=t.droppable,a=r.droppable.getAllByType(s.type).map(function(h){return h.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(t.draggable.type).map(function(h){return h.getDimension(o)}),c={draggables:m5(l),droppables:p5(a)},d={dimensions:c,critical:t,viewport:i};return d};function DP(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var sie=function(e,t){var n=null,r=rie({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(m,g){e.droppable.exists(m)||Ee(!1),n&&t.updateDroppableIsEnabled({id:m,isEnabled:g})},o=function(m,g){n&&(e.droppable.exists(m)||Ee(!1),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},s=function(m,g){n&&(e.droppable.exists(m)||Ee(!1),t.updateDroppableScroll({id:m,newScroll:g}))},a=function(m,g){n&&e.droppable.getById(m).callbacks.scroll(g)},l=function(){if(n){r.stop();var m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(g){return g.callbacks.dragStopped()}),n.unsubscribe(),n=null}},c=function(m){n||Ee(!1);var g=n.critical.draggable;m.type==="ADDITION"&&DP(e,g,m.value)&&r.add(m.value),m.type==="REMOVAL"&&DP(e,g,m.value)&&r.remove(m.value)},d=function(m){n&&Ee(!1);var g=e.draggable.getById(m.draggableId),y=e.droppable.getById(g.descriptor.droppableId),b={draggable:g.descriptor,droppable:y.descriptor},x=e.subscribe(c);return n={critical:b,unsubscribe:x},oie({critical:b,registry:e,scrollOptions:m.scrollOptions})},h={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:d,stopPublishing:l};return h},U5=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},aie=function(e){window.scrollBy(e.x,e.y)},lie=ar(function(e){return Eb(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),cie=function(t,n){var r=Nl(lie(n),function(i){return i.frame||Ee(!1),T5(i.frame.pageMarginBox)(t)});return r},uie=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=cie(t,r);return o},fl={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},die=function(e,t){var n=e[t.size]*fl.startFromPercentage,r=e[t.size]*fl.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},H5=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;if(i===0)return 0;var o=r-t,s=o/i;return s},_C=1,hie=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return fl.maxPixelScroll;if(e===t.startScrollingFrom)return _C;var n=H5({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,i=fl.maxPixelScroll*fl.ease(r);return Math.ceil(i)},BP=fl.durationDampening.accelerateAt,FP=fl.durationDampening.stopDampeningAt,fie=function(e,t){var n=t,r=FP,i=Date.now(),o=i-n;if(o>=FP)return e;if(o<BP)return _C;var s=H5({startOfRange:BP,endOfRange:r,current:o}),a=e*fl.ease(s);return Math.ceil(a)},jP=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=hie(t,n);return o===0?0:i?Math.max(fie(o,r),_C):o},zP=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,s=die(t,i),a=n[i.end]<n[i.start];return a?jP({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*jP({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},pie=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},mie=h5(function(e){return e===0?0:e}),G5=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=zP({container:n,distanceToEdges:s,dragStartTime:t,axis:fC,shouldUseTimeDampening:o}),l=zP({container:n,distanceToEdges:s,dragStartTime:t,axis:y5,shouldUseTimeDampening:o}),c=mie({x:l,y:a});if(hl(c,lr))return null;var d=pie({container:n,subject:r,proposedScroll:c});return d?hl(d,lr)?null:d:null},gie=h5(function(e){return e===0?0:e>0?1:-1}),EC=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,i=t.change,o=mr(n,i),s={x:e(o.x,r.x),y:e(o.y,r.y)};return hl(s,lr)?null:s}}(),V5=function(t){var n=t.max,r=t.current,i=t.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=gie(i),a=EC({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},SC=function(t,n){return V5({current:t.scroll.current,max:t.scroll.max,change:n})},vie=function(t,n){if(!SC(t,n))return null;var r=t.scroll.max,i=t.scroll.current;return EC({current:i,max:r,change:n})},TC=function(t,n){var r=t.frame;return r?V5({current:r.scroll.current,max:r.scroll.max,change:n}):!1},yie=function(t,n){var r=t.frame;return!r||!TC(t,n)?null:EC({current:r.scroll.current,max:r.scroll.max,change:n})},xie=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=G5({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&SC(t,s)?s:null},bie=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var a=G5({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&TC(t,a)?a:null},UP=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,s=t.current.page.borderBoxCenter,a=t.dimensions.draggables[t.critical.draggable.id],l=a.page.marginBox;if(t.isWindowScrollAllowed){var c=t.viewport,d=xie({dragStartTime:n,viewport:c,subject:l,center:s,shouldUseTimeDampening:r});if(d){i(d);return}}var h=uie({center:s,destination:Oi(t.impact),droppables:t.dimensions.droppables});if(h){var f=bie({dragStartTime:n,droppable:h,subject:l,center:s,shouldUseTimeDampening:r});f&&o(h.descriptor.id,f)}},wie=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Sp(t),i=Sp(n),o=null,s=function(d){o||Ee(!1);var h=o,f=h.shouldUseTimeDampening,m=h.dragStartTime;UP({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:m,shouldUseTimeDampening:f})},a=function(d){o&&Ee(!1);var h=Date.now(),f=!1,m=function(){f=!0};UP({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),o={dragStartTime:h,shouldUseTimeDampening:f},f&&s(d)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:l,scroll:s}},_ie=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(c,d){var h=mr(c.current.client.selection,d);t({client:h})},o=function(c,d){if(!TC(c,d))return d;var h=yie(c,d);if(!h)return n(c.descriptor.id,d),null;var f=Mi(d,h);n(c.descriptor.id,f);var m=Mi(d,f);return m},s=function(c,d,h){if(!c||!SC(d,h))return h;var f=vie(d,h);if(!f)return r(h),null;var m=Mi(h,f);r(m);var g=Mi(h,m);return g},a=function(c){var d=c.scrollJumpRequest;if(d){var h=Oi(c.impact);h||Ee(!1);var f=o(c.dimensions.droppables[h],d);if(f){var m=c.viewport,g=s(c.isWindowScrollAllowed,m,f);g&&i(c,g)}}};return a},Eie=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=wie({scrollWindow:n,scrollDroppable:t}),o=_ie({move:r,scrollWindow:n,scrollDroppable:t}),s=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&o(c)}},a={scroll:s,start:i.start,stop:i.stop};return a},Ed="data-rbd",Sd=function(){var e=Ed+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),kE=function(){var e=Ed+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Sie=function(){var e=Ed+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),HP={contextId:Ed+"-scroll-container-context-id"},Tie=function(t){return function(n){return"["+n+'="'+t+'"]'}},qh=function(t,n){return t.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},Cie="pointer-events: none;",Aie=function(e){var t=Tie(e),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Sd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Cie,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+Of.outOfTheWay+`;
    `;return{selector:t(kE.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:t(Sie.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:qh(s,"always"),resting:qh(s,"resting"),dragging:qh(s,"dragging"),dropAnimating:qh(s,"dropAnimating"),userCancel:qh(s,"userCancel")}},Ii=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect,_w=function(){var t=document.querySelector("head");return t||Ee(!1),t},GP=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function kie(e,t){var n=zt(function(){return Aie(e)},[e]),r=R.useRef(null),i=R.useRef(null),o=Ve(ar(function(h){var f=i.current;f||Ee(!1),f.textContent=h}),[]),s=Ve(function(h){var f=r.current;f||Ee(!1),f.textContent=h},[]);Ii(function(){!r.current&&!i.current||Ee(!1);var h=GP(t),f=GP(t);return r.current=h,i.current=f,h.setAttribute(Ed+"-always",e),f.setAttribute(Ed+"-dynamic",e),_w().appendChild(h),_w().appendChild(f),s(n.always),o(n.resting),function(){var m=function(y){var b=y.current;b||Ee(!1),_w().removeChild(b),y.current=null};m(r),m(i)}},[t,s,o,n.always,n.resting,e]);var a=Ve(function(){return o(n.dragging)},[o,n.dragging]),l=Ve(function(h){if(h==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=Ve(function(){i.current&&o(n.resting)},[o,n.resting]),d=zt(function(){return{dragging:a,dropping:l,resting:c}},[a,l,c]);return d}var W5=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ab(e){return e instanceof W5(e).HTMLElement}function Mie(e,t){var n="["+Sd.contextId+'="'+e+'"]',r=f5(document.querySelectorAll(n));if(!r.length)return null;var i=Nl(r,function(o){return o.getAttribute(Sd.draggableId)===t});return!i||!Ab(i)?null:i}function Lie(e){var t=R.useRef({}),n=R.useRef(null),r=R.useRef(null),i=R.useRef(!1),o=Ve(function(f,m){var g={id:f,focus:m};return t.current[f]=g,function(){var b=t.current,x=b[f];x!==g&&delete b[f]}},[]),s=Ve(function(f){var m=Mie(e,f);m&&m!==document.activeElement&&m.focus()},[e]),a=Ve(function(f,m){n.current===f&&(n.current=m)},[]),l=Ve(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var f=n.current;f&&s(f)}))},[s]),c=Ve(function(f){n.current=null;var m=document.activeElement;m&&m.getAttribute(Sd.draggableId)===f&&(n.current=f)},[]);Ii(function(){return i.current=!0,function(){i.current=!1;var f=r.current;f&&cancelAnimationFrame(f)}},[]);var d=zt(function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[o,c,l,a]);return d}function Pie(){var e={draggables:{},droppables:{}},t=[];function n(h){return t.push(h),function(){var m=t.indexOf(h);m!==-1&&t.splice(m,1)}}function r(h){t.length&&t.forEach(function(f){return f(h)})}function i(h){return e.draggables[h]||null}function o(h){var f=i(h);return f||Ee(!1),f}var s={register:function(f){e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:function(f,m){var g=e.draggables[m.descriptor.id];g&&g.uniqueId===f.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:function(f){var m=f.descriptor.id,g=i(m);g&&f.uniqueId===g.uniqueId&&(delete e.draggables[m],r({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return N0(e.draggables).filter(function(m){return m.descriptor.type===f})}};function a(h){return e.droppables[h]||null}function l(h){var f=a(h);return f||Ee(!1),f}var c={register:function(f){e.droppables[f.descriptor.id]=f},unregister:function(f){var m=a(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete e.droppables[f.descriptor.id]},getById:l,findById:a,exists:function(f){return!!a(f)},getAllByType:function(f){return N0(e.droppables).filter(function(m){return m.descriptor.type===f})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:c,subscribe:n,clean:d}}function Rie(){var e=zt(Pie,[]);return R.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var CC=_e.createContext(null),B0=function(){var e=document.body;return e||Ee(!1),e},Oie={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Iie=function(t){return"rbd-announcement-"+t};function Nie(e){var t=zt(function(){return Iie(e)},[e]),n=R.useRef(null);R.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Q(o.style,Oie),B0().appendChild(o),function(){setTimeout(function(){var l=B0();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[t]);var r=Ve(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var Die=0,Bie={separator:"::"};function AC(e,t){return t===void 0&&(t=Bie),zt(function(){return""+e+t.separator+Die++},[t.separator,e])}function Fie(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function jie(e){var t=e.contextId,n=e.text,r=AC("hidden-text",{separator:"-"}),i=zt(function(){return Fie({contextId:t,uniqueId:r})},[r,t]);return R.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",B0().appendChild(s),function(){var l=B0();l.contains(s)&&l.removeChild(s)}},[i,n]),i}var kb=_e.createContext(null);function $5(e){var t=R.useRef(e);return R.useEffect(function(){t.current=e}),t}function zie(){var e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&Ee(!1);var a={abandon:s};return e=a,a}function i(){e||Ee(!1),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}var Uie=9,Hie=13,kC=27,Y5=32,Gie=33,Vie=34,Wie=35,$ie=36,Yie=37,qie=38,Zie=39,Xie=40,Zg,Kie=(Zg={},Zg[Hie]=!0,Zg[Uie]=!0,Zg),q5=function(e){Kie[e.keyCode]&&e.preventDefault()},Mb=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=Nl(t,function(r){return"on"+r in document});return n||e}(),Z5=0,VP=5;function Jie(e,t){return Math.abs(t.x-e.x)>=VP||Math.abs(t.y-e.y)>=VP}var WP={type:"IDLE"};function Qie(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,l=s.clientX,c=s.clientY;if(a===Z5){var d={x:l,y:c},h=r();if(h.type==="DRAGGING"){s.preventDefault(),h.actions.move(d);return}h.type!=="PENDING"&&Ee(!1);var f=h.point;if(Jie(f,d)){s.preventDefault();var m=h.actions.fluidLift(d);i({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){t();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){t();return}if(s.keyCode===kC){s.preventDefault(),t();return}q5(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&Ee(!1),a.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:Mb,fn:t}]}function eoe(e){var t=R.useRef(WP),n=R.useRef(dl),r=zt(function(){return{eventName:"mousedown",fn:function(h){if(!h.defaultPrevented&&h.button===Z5&&!(h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)){var f=e.findClosestDraggableId(h);if(f){var m=e.tryGetLock(f,s,{sourceEvent:h});if(m){h.preventDefault();var g={x:h.clientX,y:h.clientY};n.current(),c(m,g)}}}}}},[e]),i=zt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(h){if(!h.defaultPrevented){var f=e.findClosestDraggableId(h);if(f){var m=e.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||e.canGetLock(f)&&h.preventDefault())}}}}},[e]),o=Ve(function(){var h={passive:!1,capture:!0};n.current=ao(window,[i,r],h)},[i,r]),s=Ve(function(){var d=t.current;d.type!=="IDLE"&&(t.current=WP,n.current(),o())},[o]),a=Ve(function(){var d=t.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),l=Ve(function(){var h={capture:!0,passive:!1},f=Qie({cancel:a,completed:s,getPhase:function(){return t.current},setPhase:function(g){t.current=g}});n.current=ao(window,f,h)},[a,s]),c=Ve(function(h,f){t.current.type!=="IDLE"&&Ee(!1),t.current={type:"PENDING",point:f,actions:h},l()},[l]);Ii(function(){return o(),function(){n.current()}},[o])}var du;function toe(){}var noe=(du={},du[Vie]=!0,du[Gie]=!0,du[$ie]=!0,du[Wie]=!0,du);function roe(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===kC){o.preventDefault(),n();return}if(o.keyCode===Y5){o.preventDefault(),r();return}if(o.keyCode===Xie){o.preventDefault(),e.moveDown();return}if(o.keyCode===qie){o.preventDefault(),e.moveUp();return}if(o.keyCode===Zie){o.preventDefault(),e.moveRight();return}if(o.keyCode===Yie){o.preventDefault(),e.moveLeft();return}if(noe[o.keyCode]){o.preventDefault();return}q5(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Mb,fn:n}]}function ioe(e){var t=R.useRef(toe),n=zt(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==Y5)return;var s=e.findClosestDraggableId(o);if(!s)return;var a=e.tryGetLock(s,d,{sourceEvent:o});if(!a)return;o.preventDefault();var l=!0,c=a.snapLift();t.current();function d(){l||Ee(!1),l=!1,t.current(),r()}t.current=ao(window,roe(c,d),{capture:!0,passive:!1})}}},[e]),r=Ve(function(){var o={passive:!1,capture:!0};t.current=ao(window,[n],o)},[n]);Ii(function(){return r(),function(){t.current()}},[r])}var Ew={type:"IDLE"},ooe=120,soe=.15;function aoe(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.keyCode===kC&&i.preventDefault(),t()}},{eventName:Mb,fn:t}]}function loe(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var a=o.touches[0],l=a.clientX,c=a.clientY,d={x:l,y:c};o.preventDefault(),s.actions.move(d)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&Ee(!1);var a=o.touches[0];if(a){var l=a.force>=soe;if(l){var c=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){c&&t();return}if(c){if(s.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:Mb,fn:t}]}function coe(e){var t=R.useRef(Ew),n=R.useRef(dl),r=Ve(function(){return t.current},[]),i=Ve(function(m){t.current=m},[]),o=zt(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var g=e.findClosestDraggableId(m);if(g){var y=e.tryGetLock(g,a,{sourceEvent:m});if(y){var b=m.touches[0],x=b.clientX,w=b.clientY,S={x,y:w};n.current(),h(y,S)}}}}}},[e]),s=Ve(function(){var m={capture:!0,passive:!1};n.current=ao(window,[o],m)},[o]),a=Ve(function(){var f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(Ew),n.current(),s())},[s,i]),l=Ve(function(){var f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=Ve(function(){var m={capture:!0,passive:!1},g={cancel:l,completed:a,getPhase:r},y=ao(window,loe(g),m),b=ao(window,aoe(g),m);n.current=function(){y(),b()}},[l,r,a]),d=Ve(function(){var m=r();m.type!=="PENDING"&&Ee(!1);var g=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[r,i]),h=Ve(function(m,g){r().type!=="IDLE"&&Ee(!1);var y=setTimeout(d,ooe);i({type:"PENDING",point:g,actions:m,longPressTimerId:y}),c()},[c,r,i,d]);Ii(function(){return s(),function(){n.current();var g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(Ew))}},[r,s,i]),Ii(function(){var m=ao(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var uoe={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function X5(e,t){if(t==null)return!1;var n=!!uoe[t.tagName.toLowerCase()];if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:X5(e,t.parentElement)}function doe(e,t){var n=t.target;return Ab(n)?X5(e,n):!1}var hoe=function(e){return Fo(e.getBoundingClientRect()).center};function foe(e){return e instanceof W5(e).Element}var poe=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=Nl(t,function(r){return r in Element.prototype});return n||e}();function K5(e,t){return e==null?null:e[poe](t)?e:K5(e.parentElement,t)}function moe(e,t){return e.closest?e.closest(t):K5(e,t)}function goe(e){return"["+Sd.contextId+'="'+e+'"]'}function voe(e,t){var n=t.target;if(!foe(n))return null;var r=goe(e),i=moe(n,r);return!i||!Ab(i)?null:i}function yoe(e,t){var n=voe(e,t);return n?n.getAttribute(Sd.draggableId):null}function xoe(e,t){var n="["+kE.contextId+'="'+e+'"]',r=f5(document.querySelectorAll(n)),i=Nl(r,function(o){return o.getAttribute(kE.id)===t});return!i||!Ab(i)?null:i}function boe(e){e.preventDefault()}function Xg(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function J5(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!U5(n.getState(),i))}function woe(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,s=e.forceSensorStop,a=e.sourceEvent,l=J5({lockAPI:t,store:r,registry:i,draggableId:o});if(!l)return null;var c=i.draggable.getById(o),d=xoe(n,c.descriptor.id);if(!d||a&&!c.options.canDragInteractiveElements&&doe(d,a))return null;var h=t.claim(s||dl),f="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function g(){return t.isActive(h)}function y(A,P){Xg({expected:A,phase:f,isLockActive:g,shouldWarn:!0})&&r.dispatch(P())}var b=y.bind(null,"DRAGGING");function x(A){function P(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(P(),f!=="PRE_DRAG"&&Ee(!1)),r.dispatch(pre(A.liftActionArgs)),f="DRAGGING";function k(M,I){if(I===void 0&&(I={shouldBlockNextClick:!1}),A.cleanup(),I.shouldBlockNextClick){var N=ao(window,[{eventName:"click",fn:boe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(N)}P(),r.dispatch(I5({reason:M}))}return Q({isActive:function(){return Xg({expected:"DRAGGING",phase:f,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(I){return k("DROP",I)},cancel:function(I){return k("CANCEL",I)}},A.actions)}function w(A){var P=Sp(function(M){b(function(){return O5({client:M})})}),k=x({liftActionArgs:{id:o,clientSelection:A,movementMode:"FLUID"},cleanup:function(){return P.cancel()},actions:{move:P}});return Q({},k,{move:P})}function S(){var A={moveUp:function(){return b(Ere)},moveRight:function(){return b(Tre)},moveDown:function(){return b(Sre)},moveLeft:function(){return b(Cre)}};return x({liftActionArgs:{id:o,clientSelection:hoe(d),movementMode:"SNAP"},cleanup:dl,actions:A})}function _(){var A=Xg({expected:"PRE_DRAG",phase:f,isLockActive:g,shouldWarn:!0});A&&t.release()}var T={isActive:function(){return Xg({expected:"PRE_DRAG",phase:f,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:w,snapLift:S,abort:_};return T}var _oe=[eoe,ioe,coe];function Eoe(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,o=e.enableDefaultSensors,s=[].concat(o?_oe:[],i||[]),a=R.useState(function(){return zie()})[0],l=Ve(function(w,S){w.isDragging&&!S.isDragging&&a.tryAbandon()},[a]);Ii(function(){var w=n.getState(),S=n.subscribe(function(){var _=n.getState();l(w,_),w=_});return S},[a,n,l]),Ii(function(){return a.tryAbandon},[a.tryAbandon]);for(var c=Ve(function(x){return J5({lockAPI:a,registry:r,store:n,draggableId:x})},[a,r,n]),d=Ve(function(x,w,S){return woe({lockAPI:a,registry:r,contextId:t,store:n,draggableId:x,forceSensorStop:w,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null})},[t,a,r,n]),h=Ve(function(x){return yoe(t,x)},[t]),f=Ve(function(x){var w=r.draggable.findById(x);return w?w.options:null},[r.draggable]),m=Ve(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(yC()))},[a,n]),g=Ve(a.isClaimed,[a]),y=zt(function(){return{canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:g}},[c,d,h,f,m,g]),b=0;b<s.length;b++)s[b](y)}var Soe=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Zh(e){return e.current||Ee(!1),e.current}function Toe(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,o=e.dragHandleUsageInstructions,s=R.useRef(null),a=$5(e),l=Ve(function(){return Soe(a.current)},[a]),c=Nie(t),d=jie({contextId:t,text:o}),h=kie(t,i),f=Ve(function(M){Zh(s).dispatch(M)},[]),m=zt(function(){return yP({publishWhileDragging:gre,updateDroppableScroll:yre,updateDroppableIsEnabled:xre,updateDroppableIsCombineEnabled:bre,collectionStarting:vre},f)},[f]),g=Rie(),y=zt(function(){return sie(g,m)},[g,m]),b=zt(function(){return Eie(Q({scrollWindow:aie,scrollDroppable:y.scrollDroppable},yP({move:O5},f)))},[y.scrollDroppable,f]),x=Lie(t),w=zt(function(){return nie({announce:c,autoScroller:b,dimensionMarshal:y,focusMarshal:x,getResponders:l,styleMarshal:h})},[c,b,y,x,l,h]);s.current=w;var S=Ve(function(){var M=Zh(s),I=M.getState();I.phase!=="IDLE"&&M.dispatch(yC())},[]),_=Ve(function(){var M=Zh(s).getState();return M.isDragging||M.phase==="DROP_ANIMATING"},[]),T=zt(function(){return{isDragging:_,tryAbort:S}},[_,S]);n(T);var A=Ve(function(M){return U5(Zh(s).getState(),M)},[]),P=Ve(function(){return Kl(Zh(s).getState())},[]),k=zt(function(){return{marshal:y,focus:x,contextId:t,canLift:A,isMovementAllowed:P,dragHandleUsageInstructionsId:d,registry:g}},[t,y,d,x,A,P,g]);return Eoe({contextId:t,store:w,registry:g,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),R.useEffect(function(){return S},[S]),_e.createElement(kb.Provider,{value:k},_e.createElement(ste,{context:CC,store:w},e.children))}var Coe=0;function Aoe(){return zt(function(){return""+Coe++},[])}function koe(e){var t=Aoe(),n=e.dragHandleUsageInstructions||Ov.dragHandleUsageInstructions;return _e.createElement(ine,null,function(r){return _e.createElement(Toe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Q5=function(t){return function(n){return t===n}},Moe=Q5("scroll"),Loe=Q5("auto"),$P=function(t,n){return n(t.overflowX)||n(t.overflowY)},Poe=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return $P(r,Moe)||$P(r,Loe)},Roe=function(){return!1},Ooe=function e(t){return t==null?null:t===document.body?Roe()?t:null:t===document.documentElement?null:Poe(t)?t:e(t.parentElement)},ME=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ioe=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},Noe=function(e){var t=Ooe(e),n=Ioe(e);return{closestScrollable:t,isFixedOnPage:n}},Doe=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,s=e.client,a=e.page,l=e.closest,c=function(){if(!l)return null;var m=l.scrollSize,g=l.client,y=F5({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:y,diff:{value:lr,displacement:lr}}}}(),d=o==="vertical"?fC:y5,h=_d({page:a,withPlaceholder:null,axis:d,frame:c}),f={descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:d,isEnabled:n,client:s,page:a,frame:c,subject:h};return f},Boe=function(t,n){var r=l5(t);if(!n||t!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,a=o+n.scrollWidth,l={top:i,right:a,bottom:s,left:o},c=lC(l,r.border),d=cC({borderBox:c,margin:r.margin,border:r.border,padding:r.padding});return d},Foe=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,s=e.isDropDisabled,a=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,d=Boe(t,c),h=R0(d,i),f=function(){if(!c)return null;var g=l5(c),y={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:g,page:R0(g,i),scroll:ME(c),scrollSize:y,shouldClipSubject:l}}(),m=Doe({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:d,page:h,closest:f});return m},joe={passive:!1},zoe={passive:!0},YP=function(e){return e.shouldPublishImmediately?joe:zoe};function F0(e){var t=R.useContext(e);return t||Ee(!1),t}var Kg=function(t){return t&&t.env.closestScrollable||null};function Uoe(e){var t=R.useRef(null),n=F0(kb),r=AC("droppable"),i=n.registry,o=n.marshal,s=$5(e),a=zt(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=R.useRef(a),c=zt(function(){return ar(function(_,T){t.current||Ee(!1);var A={x:_,y:T};o.updateDroppableScroll(a.id,A)})},[a.id,o]),d=Ve(function(){var _=t.current;return!_||!_.env.closestScrollable?lr:ME(_.env.closestScrollable)},[]),h=Ve(function(){var _=d();c(_.x,_.y)},[d,c]),f=zt(function(){return Sp(h)},[h]),m=Ve(function(){var _=t.current,T=Kg(_);_&&T||Ee(!1);var A=_.scrollOptions;if(A.shouldPublishImmediately){h();return}f()},[f,h]),g=Ve(function(_,T){t.current&&Ee(!1);var A=s.current,P=A.getDroppableRef();P||Ee(!1);var k=Noe(P),M={ref:P,descriptor:a,env:k,scrollOptions:T};t.current=M;var I=Foe({ref:P,descriptor:a,env:k,windowScroll:_,direction:A.direction,isDropDisabled:A.isDropDisabled,isCombineEnabled:A.isCombineEnabled,shouldClipSubject:!A.ignoreContainerClipping}),N=k.closestScrollable;return N&&(N.setAttribute(HP.contextId,n.contextId),N.addEventListener("scroll",m,YP(M.scrollOptions))),I},[n.contextId,a,m,s]),y=Ve(function(){var _=t.current,T=Kg(_);return _&&T||Ee(!1),ME(T)},[]),b=Ve(function(){var _=t.current;_||Ee(!1);var T=Kg(_);t.current=null,T&&(f.cancel(),T.removeAttribute(HP.contextId),T.removeEventListener("scroll",m,YP(_.scrollOptions)))},[m,f]),x=Ve(function(_){var T=t.current;T||Ee(!1);var A=Kg(T);A||Ee(!1),A.scrollTop+=_.y,A.scrollLeft+=_.x},[]),w=zt(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:y,dragStopped:b,scroll:x}},[b,g,y,x]),S=zt(function(){return{uniqueId:r,descriptor:a,callbacks:w}},[w,a,r]);Ii(function(){return l.current=S.descriptor,i.droppable.register(S),function(){t.current&&b(),i.droppable.unregister(S)}},[w,a,b,S,o,i.droppable]),Ii(function(){t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Ii(function(){t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function Sw(){}var qP={width:0,height:0,margin:une},Hoe=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate;return n||i==="close"?qP:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},Goe=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate,o=Hoe({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Of.placeholder:null}};function Voe(e){var t=R.useRef(null),n=Ve(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,i=e.onTransitionEnd,o=e.onClose,s=e.contextId,a=R.useState(e.animate==="open"),l=a[0],c=a[1];R.useEffect(function(){return l?r!=="open"?(n(),c(!1),Sw):t.current?Sw:(t.current=setTimeout(function(){t.current=null,c(!1)}),n):Sw},[r,l,n]);var d=Ve(function(f){f.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),h=Goe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return _e.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})}var Woe=_e.memo(Voe),MC=_e.createContext(null),$oe=function(e){Vx(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(_e.PureComponent),ZP={dragging:5e3,dropAnimating:4500},Yoe=function(t,n){return n?Of.drop(n.duration):t?Of.snap:Of.fluid},qoe=function(t,n){return t?n?kp.opacity.drop:kp.opacity.combining:null},Zoe=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Xoe(e){var t=e.dimension,n=t.client,r=e.offset,i=e.combineWith,o=e.dropping,s=!!i,a=Zoe(e),l=!!o,c=l?CE.drop(r,s):CE.moveTo(r),d={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Yoe(a,o),transform:c,opacity:qoe(s,l),zIndex:l?ZP.dropAnimating:ZP.dragging,pointerEvents:"none"};return d}function Koe(e){return{transform:CE.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Joe(e){return e.type==="DRAGGING"?Xoe(e):Koe(e)}function Qoe(e,t,n){n===void 0&&(n=lr);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=a5(i,r),s=R0(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},c={descriptor:e,placeholder:a,displaceBy:l,client:o,page:s};return c}function ese(e){var t=AC("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,s=e.shouldRespectForcePress,a=e.isEnabled,l=zt(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),c=Ve(function(m){var g=i();return g||Ee(!1),Qoe(n,g,m)},[n,i]),d=zt(function(){return{uniqueId:t,descriptor:n,options:l,getDimension:c}},[n,c,l,t]),h=R.useRef(d),f=R.useRef(!0);Ii(function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}},[r.draggable]),Ii(function(){if(f.current){f.current=!1;return}var m=h.current;h.current=d,r.draggable.update(d,m)},[d,r.draggable])}function tse(e){e.preventDefault()}function nse(e){var t=R.useRef(null),n=Ve(function(M){t.current=M},[]),r=Ve(function(){return t.current},[]),i=F0(kb),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,l=F0(MC),c=l.type,d=l.droppableId,h=zt(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}},[e.draggableId,e.index,c,d]),f=e.children,m=e.draggableId,g=e.isEnabled,y=e.shouldRespectForcePress,b=e.canDragInteractiveElements,x=e.isClone,w=e.mapped,S=e.dropAnimationFinished;if(!x){var _=zt(function(){return{descriptor:h,registry:a,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:y,isEnabled:g}},[h,a,r,b,y,g]);ese(_)}var T=zt(function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:tse}:null},[o,s,m,g]),A=Ve(function(M){w.type==="DRAGGING"&&w.dropping&&M.propertyName==="transform"&&S()},[S,w]),P=zt(function(){var M=Joe(w),I=w.type==="DRAGGING"&&w.dropping?A:null,N={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":m,style:M,onTransitionEnd:I},dragHandleProps:T};return N},[o,T,m,w,A,n]),k=zt(function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}},[h.droppableId,h.id,h.index,h.type]);return f(P,w.snapshot,k)}var eB=function(e,t){return e===t},tB=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},rse=function(t){return t.combine?t.combine.draggableId:null},ise=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function ose(){var e=ar(function(i,o){return{x:i,y:o}}),t=ar(function(i,o,s,a,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=ar(function(i,o,s,a,l,c,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:i,dimension:s,forceShouldAnimate:d,snapshot:t(o,a,l,c,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],c=Oi(o.impact),d=ise(o.impact),h=o.forceShouldAnimate;return n(e(a.x,a.y),o.movementMode,l,s.isClone,c,d,h)}if(o.phase==="DROP_ANIMATING"){var f=o.completed;if(f.result.draggableId!==s.draggableId)return null;var m=s.isClone,g=o.dimensions.draggables[s.draggableId],y=f.result,b=y.mode,x=tB(y),w=rse(y),S=o.dropDuration,_={duration:S,curve:bC.drop,moveTo:o.newHomeClientOffset,opacity:w?kp.opacity.drop:null,scale:w?kp.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:g,dropping:_,draggingOver:x,combineWith:w,mode:b,forceShouldAnimate:null,snapshot:t(b,m,x,w,_)}}}return null};return r}function nB(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var sse={mapped:{type:"SECONDARY",offset:lr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:nB(null)}};function ase(){var e=ar(function(s,a){return{x:s,y:a}}),t=ar(nB),n=ar(function(s,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}}}),r=function(a){return a?n(lr,a,!0):null},i=function(a,l,c,d){var h=c.displaced.visible[a],f=!!(d.inVirtualList&&d.effected[a]),m=Sb(c),g=m&&m.draggableId===a?l:null;if(!h){if(!f)return r(g);if(c.displaced.invisible[a])return null;var y=ih(d.displacedBy.point),b=e(y.x,y.y);return n(b,g,!0)}if(f)return r(g);var x=c.displacedBy.point,w=e(x.x,x.y);return n(w,g,h.shouldAnimate)},o=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var c=a.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return o}var lse=function(){var t=ose(),n=ase(),r=function(o,s){return t(o,s)||n(o,s)||sse};return r},cse={dropAnimationFinished:N5},use=o5(lse,cse,null,{context:CC,pure:!0,areStatePropsEqual:eB})(nse);function rB(e){var t=F0(MC),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:_e.createElement(use,e)}function dse(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return _e.createElement(rB,Q({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function hse(e){var t=R.useContext(kb);t||Ee(!1);var n=t.contextId,r=t.isMovementAllowed,i=R.useRef(null),o=R.useRef(null),s=e.children,a=e.droppableId,l=e.type,c=e.mode,d=e.direction,h=e.ignoreContainerClipping,f=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,y=e.useClone,b=e.updateViewportMaxScroll,x=e.getContainerForClone,w=Ve(function(){return i.current},[]),S=Ve(function(N){i.current=N},[]);Ve(function(){return o.current},[]);var _=Ve(function(N){o.current=N},[]),T=Ve(function(){r()&&b({maxScroll:z5()})},[r,b]);Uoe({droppableId:a,type:l,mode:c,direction:d,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:w});var A=_e.createElement($oe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(N){var U=N.onClose,Y=N.data,H=N.animate;return _e.createElement(Woe,{placeholder:Y,onClose:U,innerRef:_,animate:H,contextId:n,onTransitionEnd:T})}),P=zt(function(){return{innerRef:S,placeholder:A,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,A,S]),k=y?y.dragging.draggableId:null,M=zt(function(){return{droppableId:a,type:l,isUsingCloneFor:k}},[a,k,l]);function I(){if(!y)return null;var N=y.dragging,U=y.render,Y=_e.createElement(rB,{draggableId:N.draggableId,index:N.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(H,G){return U(H,G,N)});return nf.createPortal(Y,x())}return _e.createElement(MC.Provider,{value:M},s(P,g),I())}var Tw=function(t,n){return t===n.droppable.type},XP=function(t,n){return n.draggables[t.draggable.id]},fse=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=Q({},t,{shouldAnimatePlaceholder:!1}),r=ar(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=ar(function(s,a,l,c,d,h){var f=d.descriptor.id,m=d.descriptor.droppableId===s;if(m){var g=h?{render:h,dragging:r(d.descriptor)}:null,y={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:g}}if(!a)return n;if(!c)return t;var b={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),o=function(a,l){var c=l.droppableId,d=l.type,h=!l.isDropDisabled,f=l.renderClone;if(a.isDragging){var m=a.critical;if(!Tw(d,m))return n;var g=XP(m,a.dimensions),y=Oi(a.impact)===c;return i(c,h,y,y,g,f)}if(a.phase==="DROP_ANIMATING"){var b=a.completed;if(!Tw(d,b.critical))return n;var x=XP(b.critical,a.dimensions);return i(c,h,tB(b.result)===c,Oi(b.impact)===c,x,f)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var w=a.completed;if(!Tw(d,w.critical))return n;var S=Oi(w.impact)===c,_=!!(w.impact.at&&w.impact.at.type==="COMBINE"),T=w.critical.droppable.id===c;return S?_?t:n:T?t:n}return n};return o},pse={updateViewportMaxScroll:_re};function mse(){return document.body||Ee(!1),document.body}var gse={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:mse},iB=o5(fse,pse,null,{context:CC,pure:!0,areStatePropsEqual:eB})(hse);iB.defaultProps=gse;var vse=function(){function e(t,n){n===void 0&&(n=[]),this._eventType=t,this._eventFunctions=n}return e.prototype.init=function(){var t=this;this._eventFunctions.forEach(function(n){typeof window<"u"&&window.addEventListener(t._eventType,n)})},e}(),yse=function(){function e(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{}}}return e.prototype.addInstance=function(t,n,r,i){if(i===void 0&&(i=!1),!this._instances[t])return console.warn("Flowbite: Component ".concat(t," does not exist.")),!1;if(this._instances[t][r]&&!i){console.warn("Flowbite: Instance with ID ".concat(r," already exists."));return}this._instances[t][r||this._generateRandomId()]=n},e.prototype.getAllInstances=function(){return this._instances},e.prototype.getInstances=function(t){return this._instances[t]?this._instances[t]:(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},e.prototype.getInstance=function(t,n){if(this._componentAndInstanceCheck(t,n)){if(!this._instances[t][n]){console.warn("Flowbite: Instance with ID ".concat(n," does not exist."));return}return this._instances[t][n]}},e.prototype.destroyAndRemoveInstance=function(t,n){this._componentAndInstanceCheck(t,n)&&(this.destroyInstanceObject(t,n),this.removeInstance(t,n))},e.prototype.removeInstance=function(t,n){this._componentAndInstanceCheck(t,n)&&this._instances[t][n].removeInstance()},e.prototype.destroyInstanceObject=function(t,n){this._componentAndInstanceCheck(t,n)&&this._instances[t][n].destroy()},e.prototype.instanceExists=function(t,n){return!(!this._instances[t]||!this._instances[t][n])},e.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},e.prototype._componentAndInstanceCheck=function(t,n){return this._instances[t]?this._instances[t][n]?!0:(console.warn("Flowbite: Instance with ID ".concat(n," already exists.")),!1):(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},e}(),It=new yse;typeof window<"u"&&(window.FlowbiteInstances=It);var j0=globalThis&&globalThis.__assign||function(){return j0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},j0.apply(this,arguments)},z0={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},oB=function(){function e(t,n,r){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=z0),this._accordionEl=t,this._items=n,this._options=j0(j0({},z0),r),this._initialized=!1,this.init(),It.addInstance("Accordion",this,this._accordionEl.id,!0)}return e.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.forEach(function(n){n.active&&t.open(n.id);var r=function(){t.toggle(n.id)};n.triggerEl.addEventListener("click",r),n.clickHandler=r}),this._initialized=!0)},e.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(t){t.triggerEl.removeEventListener("click",t.clickHandler),delete t.clickHandler}),this._initialized=!1)},e.prototype.removeInstance=function(){It.removeInstance("Accordion",this._accordionEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(t){return this._items.filter(function(n){return n.id===t})[0]},e.prototype.open=function(t){var n,r,i=this,o=this.getItem(t);this._options.alwaysOpen||this._items.map(function(s){var a,l;s!==o&&((a=s.triggerEl.classList).remove.apply(a,i._options.activeClasses.split(" ")),(l=s.triggerEl.classList).add.apply(l,i._options.inactiveClasses.split(" ")),s.targetEl.classList.add("hidden"),s.triggerEl.setAttribute("aria-expanded","false"),s.active=!1,s.iconEl&&s.iconEl.classList.remove("rotate-180"))}),(n=o.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(r=o.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-expanded","true"),o.targetEl.classList.remove("hidden"),o.active=!0,o.iconEl&&o.iconEl.classList.add("rotate-180"),this._options.onOpen(this,o)},e.prototype.toggle=function(t){var n=this.getItem(t);n.active?this.close(t):this.open(t),this._options.onToggle(this,n)},e.prototype.close=function(t){var n,r,i=this.getItem(t);(n=i.triggerEl.classList).remove.apply(n,this._options.activeClasses.split(" ")),(r=i.triggerEl.classList).add.apply(r,this._options.inactiveClasses.split(" ")),i.targetEl.classList.add("hidden"),i.triggerEl.setAttribute("aria-expanded","false"),i.active=!1,i.iconEl&&i.iconEl.classList.remove("rotate-180"),this._options.onClose(this,i)},e}();function LC(){document.querySelectorAll("[data-accordion]").forEach(function(e){var t=e.getAttribute("data-accordion"),n=e.getAttribute("data-active-classes"),r=e.getAttribute("data-inactive-classes"),i=[];e.querySelectorAll("[data-accordion-target]").forEach(function(o){if(o.closest("[data-accordion]")===e){var s={id:o.getAttribute("data-accordion-target"),triggerEl:o,targetEl:document.querySelector(o.getAttribute("data-accordion-target")),iconEl:o.querySelector("[data-accordion-icon]"),active:o.getAttribute("aria-expanded")==="true"};i.push(s)}}),new oB(e,i,{alwaysOpen:t==="open",activeClasses:n||z0.activeClasses,inactiveClasses:r||z0.inactiveClasses})})}typeof window<"u"&&(window.Accordion=oB,window.initAccordions=LC);var U0=globalThis&&globalThis.__assign||function(){return U0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},U0.apply(this,arguments)},KP={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},sB=function(){function e(t,n,r){t===void 0&&(t=null),n===void 0&&(n=null),r===void 0&&(r=KP),this._targetEl=t,this._triggerEl=n,this._options=U0(U0({},KP),r),this._visible=!1,this._initialized=!1,this.init(),It.addInstance("Collapse",this,this._targetEl.id,!0)}return e.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){t.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){It.removeInstance("Collapse",this._targetEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},e.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},e.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},e}();function PC(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(e){var t=e.getAttribute("data-collapse-toggle"),n=document.getElementById(t);n?new sB(n,e):console.error('The target element with id "'.concat(t,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=sB,window.initCollapses=PC);var ec=globalThis&&globalThis.__assign||function(){return ec=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ec.apply(this,arguments)},Iv={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},aB=function(){function e(t,n,r){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=Iv),this._carouselEl=t,this._items=n,this._options=ec(ec(ec({},Iv),r),{indicators:ec(ec({},Iv.indicators),r.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),It.addInstance("Carousel",this,this._carouselEl.id,!0)}return e.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.map(function(n){n.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(n,r){n.el.addEventListener("click",function(){t.slideTo(r)})}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){It.removeInstance("Carousel",this._carouselEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(t){return this._items[t]},e.prototype.slideTo=function(t){var n=this._items[t],r={left:n.position===0?this._items[this._items.length-1]:this._items[n.position-1],middle:n,right:n.position===this._items.length-1?this._items[0]:this._items[n.position+1]};this._rotate(r),this._setActiveItem(n),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},e.prototype.next=function(){var t=this._getActiveItem(),n=null;t.position===this._items.length-1?n=this._items[0]:n=this._items[t.position+1],this.slideTo(n.position),this._options.onNext(this)},e.prototype.prev=function(){var t=this._getActiveItem(),n=null;t.position===0?n=this._items[this._items.length-1]:n=this._items[t.position-1],this.slideTo(n.position),this._options.onPrev(this)},e.prototype._rotate=function(t){this._items.map(function(n){n.el.classList.add("hidden")}),t.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.left.el.classList.add("-translate-x-full","z-10"),t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),t.middle.el.classList.add("translate-x-0","z-20"),t.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.right.el.classList.add("translate-x-full","z-10")},e.prototype.cycle=function(){var t=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){t.next()},this._intervalDuration))},e.prototype.pause=function(){clearInterval(this._intervalInstance)},e.prototype._getActiveItem=function(){return this._activeItem},e.prototype._setActiveItem=function(t){var n,r,i=this;this._activeItem=t;var o=t.position;this._indicators.length&&(this._indicators.map(function(s){var a,l;s.el.setAttribute("aria-current","false"),(a=s.el.classList).remove.apply(a,i._options.indicators.activeClasses.split(" ")),(l=s.el.classList).add.apply(l,i._options.indicators.inactiveClasses.split(" "))}),(n=this._indicators[o].el.classList).add.apply(n,this._options.indicators.activeClasses.split(" ")),(r=this._indicators[o].el.classList).remove.apply(r,this._options.indicators.inactiveClasses.split(" ")),this._indicators[o].el.setAttribute("aria-current","true"))},e}();function RC(){document.querySelectorAll("[data-carousel]").forEach(function(e){var t=e.getAttribute("data-carousel-interval"),n=e.getAttribute("data-carousel")==="slide",r=[],i=0;e.querySelectorAll("[data-carousel-item]").length&&Array.from(e.querySelectorAll("[data-carousel-item]")).map(function(c,d){r.push({position:d,el:c}),c.getAttribute("data-carousel-item")==="active"&&(i=d)});var o=[];e.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(e.querySelectorAll("[data-carousel-slide-to]")).map(function(c){o.push({position:parseInt(c.getAttribute("data-carousel-slide-to")),el:c})});var s=new aB(e,r,{defaultPosition:i,indicators:{items:o},interval:t||Iv.interval});n&&s.cycle();var a=e.querySelector("[data-carousel-next]"),l=e.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){s.next()}),l&&l.addEventListener("click",function(){s.prev()})})}typeof window<"u"&&(window.Carousel=aB,window.initCarousels=RC);var H0=globalThis&&globalThis.__assign||function(){return H0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},H0.apply(this,arguments)},JP={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},lB=function(){function e(t,n,r){t===void 0&&(t=null),n===void 0&&(n=null),r===void 0&&(r=JP),this._targetEl=t,this._triggerEl=n,this._options=H0(H0({},JP),r),this._initialized=!1,this.init(),It.addInstance("Dismiss",this,this._targetEl.id,!0)}return e.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){t.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){It.removeInstance("Dismiss",this._targetEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var t=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){t._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},e}();function OC(){document.querySelectorAll("[data-dismiss-target]").forEach(function(e){var t=e.getAttribute("data-dismiss-target"),n=document.querySelector(t);n?new lB(n,e):console.error('The dismiss element with id "'.concat(t,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=lB,window.initDismisses=OC);var Na=globalThis&&globalThis.__assign||function(){return Na=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Na.apply(this,arguments)},Jg=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Da={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},cB=function(){function e(t,n,r){t===void 0&&(t=null),n===void 0&&(n=null),r===void 0&&(r=Da),this._targetEl=t,this._triggerEl=n,this._options=Na(Na({},Da),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),It.addInstance("Dropdown",this,this._targetEl.id,!0)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},e.prototype.destroy=function(){var t=this,n=this._getTriggerEvents();this._options.triggerType==="click"&&n.showEvents.forEach(function(r){t._triggerEl.removeEventListener(r,t._clickHandler)}),this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){t._triggerEl.removeEventListener(r,t._hoverShowTriggerElHandler),t._targetEl.removeEventListener(r,t._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){t._triggerEl.removeEventListener(r,t._hoverHideHandler),t._targetEl.removeEventListener(r,t._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},e.prototype.removeInstance=function(){It.removeInstance("Dropdown",this._targetEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var t=this,n=this._getTriggerEvents();this._clickHandler=function(){t.toggle()},this._options.triggerType==="click"&&n.showEvents.forEach(function(r){t._triggerEl.addEventListener(r,t._clickHandler)}),this._hoverShowTriggerElHandler=function(r){r.type==="click"?t.toggle():setTimeout(function(){t.show()},t._options.delay)},this._hoverShowTargetElHandler=function(){t.show()},this._hoverHideHandler=function(){setTimeout(function(){t._targetEl.matches(":hover")||t.hide()},t._options.delay)},this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){t._triggerEl.addEventListener(r,t._hoverShowTriggerElHandler),t._targetEl.addEventListener(r,t._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){t._triggerEl.addEventListener(r,t._hoverHideHandler),t._targetEl.addEventListener(r,t._hoverHideHandler)}))},e.prototype._createPopperInstance=function(){return Yx(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(n){t._handleClickOutside(n,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,n){var r=t.target,i=this._options.ignoreClickOutsideClass,o=!1;if(i){var s=document.querySelectorAll(".".concat(i));s.forEach(function(a){if(a.contains(r)){o=!0;return}})}r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&!o&&this.isVisible()&&this.hide()},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.isVisible=function(){return this._visible},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(t){return Na(Na({},t),{modifiers:Jg(Jg([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(t){return Na(Na({},t),{modifiers:Jg(Jg([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},e}();function IC(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(e){var t=e.getAttribute("data-dropdown-toggle"),n=document.getElementById(t);if(n){var r=e.getAttribute("data-dropdown-placement"),i=e.getAttribute("data-dropdown-offset-skidding"),o=e.getAttribute("data-dropdown-offset-distance"),s=e.getAttribute("data-dropdown-trigger"),a=e.getAttribute("data-dropdown-delay"),l=e.getAttribute("data-dropdown-ignore-click-outside-class");new cB(n,e,{placement:r||Da.placement,triggerType:s||Da.triggerType,offsetSkidding:i?parseInt(i):Da.offsetSkidding,offsetDistance:o?parseInt(o):Da.offsetDistance,delay:a?parseInt(a):Da.delay,ignoreClickOutsideClass:l||Da.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(t,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=cB,window.initDropdowns=IC);var G0=globalThis&&globalThis.__assign||function(){return G0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},G0.apply(this,arguments)},zu={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},LE=function(){function e(t,n){t===void 0&&(t=null),n===void 0&&(n=zu),this._targetEl=t,this._options=G0(G0({},zu),n),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),It.addInstance("Modal",this,this._targetEl.id,!0)}return e.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(n){t._targetEl.classList.add(n)}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.hide(),this._initialized=!1)},e.prototype.removeInstance=function(){It.removeInstance("Modal",this._targetEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._createBackdrop=function(){var t;if(this._isHidden){var n=document.createElement("div");n.setAttribute("modal-backdrop",""),(t=n.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),this._backdropEl=n}},e.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},e.prototype._setupModalCloseEventListeners=function(){var t=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(n){t._handleOutsideClick(n.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(n){n.key==="Escape"&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._handleOutsideClick=function(t){(t===this._targetEl||t===this._backdropEl&&this.isVisible())&&this.hide()},e.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},e.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},e.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},e.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},e.prototype.isVisible=function(){return!this._isHidden},e.prototype.isHidden=function(){return this._isHidden},e}();function NC(){document.querySelectorAll("[data-modal-target]").forEach(function(e){var t=e.getAttribute("data-modal-target"),n=document.getElementById(t);if(n){var r=n.getAttribute("data-modal-placement"),i=n.getAttribute("data-modal-backdrop");It.instanceExists("Modal",n.getAttribute("id"))&&new LE(n,{placement:r||zu.placement,backdrop:i||zu.backdrop})}else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(e){var t=e.getAttribute("data-modal-toggle"),n=document.getElementById(t);if(n){var r=n.getAttribute("data-modal-placement"),i=n.getAttribute("data-modal-backdrop"),o;It.instanceExists("Modal",n.getAttribute("id"))?o=It.getInstance("Modal",n.getAttribute("id")):o=new LE(n,{placement:r||zu.placement,backdrop:i||zu.backdrop}),e.addEventListener("click",function(){o.toggle()})}else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(e){var t=e.getAttribute("data-modal-show"),n=document.getElementById(t);if(n)if(It.instanceExists("Modal",n.getAttribute("id"))){var r=It.getInstance("Modal",n.getAttribute("id"));e.addEventListener("click",function(){r.show()})}else console.error("Modal with id ".concat(t," has not been initialized. Please initialize it using the data-modal-target attribute."));else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(e){var t=e.getAttribute("data-modal-hide"),n=document.getElementById(t);if(n)if(It.instanceExists("Modal",n.getAttribute("id"))){var r=It.getInstance("Modal",n.getAttribute("id"));e.addEventListener("click",function(){r.hide()})}else console.error("Modal with id ".concat(t," has not been initialized. Please initialize it using the data-modal-target attribute."));else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=LE,window.initModals=NC);var V0=globalThis&&globalThis.__assign||function(){return V0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},V0.apply(this,arguments)},tc={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},uB=function(){function e(t,n){t===void 0&&(t=null),n===void 0&&(n=tc),this._targetEl=t,this._options=V0(V0({},tc),n),this._visible=!1,this._initialized=!1,this.init(),It.addInstance("Drawer",this,this._targetEl.id,!0)}return e.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(n){t._targetEl.classList.add(n)}),this._handleEscapeKey=function(n){n.key==="Escape"&&t.isVisible()&&t.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.hide(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},e.prototype.removeInstance=function(){It.removeInstance("Drawer",this._targetEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){t._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){t._targetEl.classList.add(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){t._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){t._targetEl.classList.add(n)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){t._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){t._targetEl.classList.remove(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){t._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){t._targetEl.classList.remove(n)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype._createBackdrop=function(){var t,n=this;if(!this._visible){var r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(t=r.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(r),r.addEventListener("click",function(){n.hide()})}},e.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},e.prototype._getPlacementClasses=function(t){switch(t){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e}();function DC(){document.querySelectorAll("[data-drawer-target]").forEach(function(e){var t=e.getAttribute("data-drawer-target"),n=document.getElementById(t);if(n){var r=e.getAttribute("data-drawer-placement"),i=e.getAttribute("data-drawer-body-scrolling"),o=e.getAttribute("data-drawer-backdrop"),s=e.getAttribute("data-drawer-edge"),a=e.getAttribute("data-drawer-edge-offset");It.instanceExists("Drawer",n.getAttribute("id"))||new uB(n,{placement:r||tc.placement,bodyScrolling:i?i==="true":tc.bodyScrolling,backdrop:o?o==="true":tc.backdrop,edge:s?s==="true":tc.edge,edgeOffset:a||tc.edgeOffset})}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(e){var t=e.getAttribute("data-drawer-toggle"),n=document.getElementById(t);if(n){var r=It.getInstance("Drawer",n.getAttribute("id"));r?e.addEventListener("click",function(){r.toggle()}):console.error("Drawer with id ".concat(t," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(e){var t=e.getAttribute("data-drawer-dismiss")?e.getAttribute("data-drawer-dismiss"):e.getAttribute("data-drawer-hide"),n=document.getElementById(t);if(n){var r=It.getInstance("Drawer",n.getAttribute("id"));r?e.addEventListener("click",function(){r.hide()}):console.error("Drawer with id ".concat(t," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(e){var t=e.getAttribute("data-drawer-show"),n=document.getElementById(t);if(n){var r=It.getInstance("Drawer",n.getAttribute("id"));r?e.addEventListener("click",function(){r.show()}):console.error("Drawer with id ".concat(t," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=uB,window.initDrawers=DC);var W0=globalThis&&globalThis.__assign||function(){return W0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},W0.apply(this,arguments)},QP={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},dB=function(){function e(t,n,r){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=QP),this._accordionEl=t,this._items=n,this._activeTab=r?this.getTab(r.defaultTabId):null,this._options=W0(W0({},QP),r),this._initialized=!1,this.init(),It.addInstance("Tabs",this,this._accordionEl.id,!0)}return e.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(n){n.triggerEl.addEventListener("click",function(){t.show(n.id)})}))},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){this.destroy(),It.removeInstance("Tabs",this._accordionEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getActiveTab=function(){return this._activeTab},e.prototype.setActiveTab=function(t){this._activeTab=t},e.prototype.getTab=function(t){return this._items.filter(function(n){return n.id===t})[0]},e.prototype.show=function(t,n){var r,i,o=this;n===void 0&&(n=!1);var s=this.getTab(t);s===this._activeTab&&!n||(this._items.map(function(a){var l,c;a!==s&&((l=a.triggerEl.classList).remove.apply(l,o._options.activeClasses.split(" ")),(c=a.triggerEl.classList).add.apply(c,o._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(r=s.triggerEl.classList).add.apply(r,this._options.activeClasses.split(" ")),(i=s.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-selected","true"),s.targetEl.classList.remove("hidden"),this.setActiveTab(s),this._options.onShow(this,s))},e}();function BC(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(e){var t=[],n=null;e.querySelectorAll('[role="tab"]').forEach(function(r){var i=r.getAttribute("aria-selected")==="true",o={id:r.getAttribute("data-tabs-target"),triggerEl:r,targetEl:document.querySelector(r.getAttribute("data-tabs-target"))};t.push(o),i&&(n=o.id)}),new dB(e,t,{defaultTabId:n})})}typeof window<"u"&&(window.Tabs=dB,window.initTabs=BC);var Ba=globalThis&&globalThis.__assign||function(){return Ba=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ba.apply(this,arguments)},Qg=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},$0={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},hB=function(){function e(t,n,r){t===void 0&&(t=null),n===void 0&&(n=null),r===void 0&&(r=$0),this._targetEl=t,this._triggerEl=n,this._options=Ba(Ba({},$0),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),It.addInstance("Tooltip",this,this._targetEl.id,!0)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var t=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){t._triggerEl.removeEventListener(r,t._showHandler)}),n.hideEvents.forEach(function(r){t._triggerEl.removeEventListener(r,t._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){It.removeInstance("Tooltip",this._targetEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var t=this,n=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){t.hide()},n.showEvents.forEach(function(r){t._triggerEl.addEventListener(r,t._showHandler)}),n.hideEvents.forEach(function(r){t._triggerEl.addEventListener(r,t._hideHandler)})},e.prototype._createPopperInstance=function(){return Yx(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(n){n.key==="Escape"&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(n){t._handleClickOutside(n,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,n){var r=t.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(t){return Ba(Ba({},t),{modifiers:Qg(Qg([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(t){return Ba(Ba({},t),{modifiers:Qg(Qg([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e}();function FC(){document.querySelectorAll("[data-tooltip-target]").forEach(function(e){var t=e.getAttribute("data-tooltip-target"),n=document.getElementById(t);if(n){var r=e.getAttribute("data-tooltip-trigger"),i=e.getAttribute("data-tooltip-placement");new hB(n,e,{placement:i||$0.placement,triggerType:r||$0.triggerType})}else console.error('The tooltip element with id "'.concat(t,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=hB,window.initTooltips=FC);var Fa=globalThis&&globalThis.__assign||function(){return Fa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Fa.apply(this,arguments)},ev=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},If={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},fB=function(){function e(t,n,r){t===void 0&&(t=null),n===void 0&&(n=null),r===void 0&&(r=If),this._targetEl=t,this._triggerEl=n,this._options=Fa(Fa({},If),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),It.addInstance("Popover",this,this._targetEl.id,!0)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var t=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){t._triggerEl.removeEventListener(r,t._showHandler),t._targetEl.removeEventListener(r,t._showHandler)}),n.hideEvents.forEach(function(r){t._triggerEl.removeEventListener(r,t._hideHandler),t._targetEl.removeEventListener(r,t._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){It.removeInstance("Popover",this._targetEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var t=this,n=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){setTimeout(function(){t._targetEl.matches(":hover")||t.hide()},100)},n.showEvents.forEach(function(r){t._triggerEl.addEventListener(r,t._showHandler),t._targetEl.addEventListener(r,t._showHandler)}),n.hideEvents.forEach(function(r){t._triggerEl.addEventListener(r,t._hideHandler),t._targetEl.addEventListener(r,t._hideHandler)})},e.prototype._createPopperInstance=function(){return Yx(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(n){n.key==="Escape"&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(n){t._handleClickOutside(n,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,n){var r=t.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(t){return Fa(Fa({},t),{modifiers:ev(ev([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(t){return Fa(Fa({},t),{modifiers:ev(ev([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e}();function jC(){document.querySelectorAll("[data-popover-target]").forEach(function(e){var t=e.getAttribute("data-popover-target"),n=document.getElementById(t);if(n){var r=e.getAttribute("data-popover-trigger"),i=e.getAttribute("data-popover-placement"),o=e.getAttribute("data-popover-offset");new fB(n,e,{placement:i||If.placement,offset:o?parseInt(o):If.offset,triggerType:r||If.triggerType})}else console.error('The popover element with id "'.concat(t,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=fB,window.initPopovers=jC);var Y0=globalThis&&globalThis.__assign||function(){return Y0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Y0.apply(this,arguments)},PE={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},pB=function(){function e(t,n,r,i){t===void 0&&(t=null),n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=PE),this._parentEl=t,this._triggerEl=n,this._targetEl=r,this._options=Y0(Y0({},PE),i),this._visible=!1,this._initialized=!1,this.init(),It.addInstance("Dial",this,this._targetEl.id,!0)}return e.prototype.init=function(){var t=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){t.show()},n.showEvents.forEach(function(r){t._triggerEl.addEventListener(r,t._showEventHandler),t._targetEl.addEventListener(r,t._showEventHandler)}),this._hideEventHandler=function(){t._parentEl.matches(":hover")||t.hide()},n.hideEvents.forEach(function(r){t._parentEl.addEventListener(r,t._hideEventHandler)}),this._initialized=!0}},e.prototype.destroy=function(){var t=this;if(this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);n.showEvents.forEach(function(r){t._triggerEl.removeEventListener(r,t._showEventHandler),t._targetEl.removeEventListener(r,t._showEventHandler)}),n.hideEvents.forEach(function(r){t._parentEl.removeEventListener(r,t._hideEventHandler)}),this._initialized=!1}},e.prototype.removeInstance=function(){It.removeInstance("Dial",this._targetEl.id)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this._visible?this.hide():this.show()},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype._getTriggerEventTypes=function(t){switch(t){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e}();function zC(){document.querySelectorAll("[data-dial-init]").forEach(function(e){var t=e.querySelector("[data-dial-toggle]");if(t){var n=t.getAttribute("data-dial-toggle"),r=document.getElementById(n);if(r){var i=t.getAttribute("data-dial-trigger");new pB(e,t,r,{triggerType:i||PE.triggerType})}else console.error("Dial with id ".concat(n," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(e.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=pB,window.initDials=zC);function mB(){LC(),PC(),RC(),OC(),IC(),NC(),DC(),BC(),FC(),jC(),zC()}typeof window<"u"&&(window.initFlowbite=mB);var xse=new vse("load",[LC,PC,RC,OC,IC,NC,DC,BC,FC,jC,zC]);xse.init();var gB={};function q0(){return null}q0.isRequired=q0;function Ot(){return q0}var bse={and:Ot,between:Ot,booleanSome:Ot,childrenHavePropXorChildren:Ot,childrenOf:Ot,childrenOfType:Ot,childrenSequenceOf:Ot,componentWithName:Ot,disallowedIf:Ot,elementType:Ot,empty:Ot,explicitNull:Ot,forbidExtraProps:Object,integer:Ot,keysOf:Ot,mutuallyExclusiveProps:Ot,mutuallyExclusiveTrueProps:Ot,nChildren:Ot,nonNegativeInteger:q0,nonNegativeNumber:Ot,numericString:Ot,object:Ot,or:Ot,predicate:Ot,range:Ot,ref:Ot,requiredBy:Ot,restrictedProp:Ot,sequenceOf:Ot,shape:Ot,stringEndsWith:Ot,stringStartsWith:Ot,uniqueArray:Ot,uniqueArrayOf:Ot,valuesOf:Ot,withShape:Ot},wse=bse,_se=!!(typeof window<"u"&&window.document&&window.document.createElement);function Ese(){if(!_se||!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){function r(){e=!0}return r}()}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch{}return e}var Cw=void 0;function Sse(){return Cw===void 0&&(Cw=Ese()),Cw}function Tse(e){if(e)return Sse()?e:!!e.capture}function Cse(e){if(!e)return 0;if(e===!0)return 100;var t=e.capture<<0,n=e.passive<<1,r=e.once<<2;return t+n+r}function eR(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function Lb(e){this.target=e,this.events={}}Lb.prototype.getEventHandlers=function(){function e(t,n){var r=String(t)+" "+String(Cse(n));return this.events[r]||(this.events[r]={handlers:[],handleEvent:void 0},this.events[r].nextHandlers=this.events[r].handlers),this.events[r]}return e}();Lb.prototype.handleEvent=function(){function e(t,n,r){var i=this.getEventHandlers(t,n);i.handlers=i.nextHandlers,i.handlers.forEach(function(o){o&&o(r)})}return e}();Lb.prototype.add=function(){function e(t,n,r){var i=this,o=this.getEventHandlers(t,r);eR(o),o.nextHandlers.length===0&&(o.handleEvent=this.handleEvent.bind(this,t,r),this.target.addEventListener(t,o.handleEvent,r)),o.nextHandlers.push(n);var s=!0,a=function(){function l(){if(s){s=!1,eR(o);var c=o.nextHandlers.indexOf(n);o.nextHandlers.splice(c,1),o.nextHandlers.length===0&&(i.target&&i.target.removeEventListener(t,o.handleEvent,r),o.handleEvent=void 0)}}return l}();return a}return e}();var Aw="__consolidated_events_handlers__";function Ase(e,t,n,r){e[Aw]||(e[Aw]=new Lb(e));var i=Tse(r);return e[Aw].add(t,n,i)}const kse=Object.freeze(Object.defineProperty({__proto__:null,addEventListener:Ase},Symbol.toStringTag,{value:"Module"})),Mse=mm(kse);var tR=Object.prototype.toString,vB=function(t){var n=tR.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&tR.call(t.callee)==="[object Function]"),r},kw,nR;function Lse(){if(nR)return kw;nR=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=vB,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(f){var m=f.constructor;return m&&m.prototype===f},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!c["$"+f]&&t.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{l(window[f])}catch{return!0}}catch{return!0}return!1}(),h=function(f){if(typeof window>"u"||!d)return l(f);try{return l(f)}catch{return!1}};e=function(m){var g=m!==null&&typeof m=="object",y=n.call(m)==="[object Function]",b=r(m),x=g&&n.call(m)==="[object String]",w=[];if(!g&&!y&&!b)throw new TypeError("Object.keys called on a non-object");var S=s&&y;if(x&&m.length>0&&!t.call(m,0))for(var _=0;_<m.length;++_)w.push(String(_));if(b&&m.length>0)for(var T=0;T<m.length;++T)w.push(String(T));else for(var A in m)!(S&&A==="prototype")&&t.call(m,A)&&w.push(String(A));if(o)for(var P=h(m),k=0;k<a.length;++k)!(P&&a[k]==="constructor")&&t.call(m,a[k])&&w.push(a[k]);return w}}return kw=e,kw}var Pse=Array.prototype.slice,Rse=vB,rR=Object.keys,Nv=rR?function(t){return rR(t)}:Lse(),iR=Object.keys;Nv.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return Rse(r)?iR(Pse.call(r)):iR(r)})}else Object.keys=Nv;return Object.keys||Nv};var Ose=Nv,Ise=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0},oR=typeof Symbol<"u"&&Symbol,Nse=Ise,Dse=function(){return typeof oR!="function"||typeof Symbol!="function"||typeof oR("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Nse()},sR={foo:{}},Bse=Object,Fse=function(){return{__proto__:sR}.foo===sR.foo&&!({__proto__:null}instanceof Bse)},jse="Function.prototype.bind called on incompatible ",zse=Object.prototype.toString,Use=Math.max,Hse="[object Function]",aR=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},Gse=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},Vse=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},Wse=function(t){var n=this;if(typeof n!="function"||zse.apply(n)!==Hse)throw new TypeError(jse+n);for(var r=Gse(arguments,1),i,o=function(){if(this instanceof i){var d=n.apply(this,aR(r,arguments));return Object(d)===d?d:this}return n.apply(t,aR(r,arguments))},s=Use(0,n.length-r.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+Vse(a,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var c=function(){};c.prototype=n.prototype,i.prototype=new c,c.prototype=null}return i},$se=Wse,UC=Function.prototype.bind||$se,Yse=Function.prototype.call,qse=Object.prototype.hasOwnProperty,Zse=UC,Xse=Zse.call(Yse,qse),At,Td=SyntaxError,yB=Function,id=TypeError,Mw=function(e){try{return yB('"use strict"; return ('+e+").constructor;")()}catch{}},mc=Object.getOwnPropertyDescriptor;if(mc)try{mc({},"")}catch{mc=null}var Lw=function(){throw new id},Kse=mc?function(){try{return arguments.callee,Lw}catch{try{return mc(arguments,"callee").get}catch{return Lw}}}():Lw,hu=Dse(),Jse=Fse(),nr=Object.getPrototypeOf||(Jse?function(e){return e.__proto__}:null),wu={},Qse=typeof Uint8Array>"u"||!nr?At:nr(Uint8Array),gc={"%AggregateError%":typeof AggregateError>"u"?At:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?At:ArrayBuffer,"%ArrayIteratorPrototype%":hu&&nr?nr([][Symbol.iterator]()):At,"%AsyncFromSyncIteratorPrototype%":At,"%AsyncFunction%":wu,"%AsyncGenerator%":wu,"%AsyncGeneratorFunction%":wu,"%AsyncIteratorPrototype%":wu,"%Atomics%":typeof Atomics>"u"?At:Atomics,"%BigInt%":typeof BigInt>"u"?At:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?At:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?At:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?At:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?At:Float32Array,"%Float64Array%":typeof Float64Array>"u"?At:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?At:FinalizationRegistry,"%Function%":yB,"%GeneratorFunction%":wu,"%Int8Array%":typeof Int8Array>"u"?At:Int8Array,"%Int16Array%":typeof Int16Array>"u"?At:Int16Array,"%Int32Array%":typeof Int32Array>"u"?At:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hu&&nr?nr(nr([][Symbol.iterator]())):At,"%JSON%":typeof JSON=="object"?JSON:At,"%Map%":typeof Map>"u"?At:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hu||!nr?At:nr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?At:Promise,"%Proxy%":typeof Proxy>"u"?At:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?At:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?At:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hu||!nr?At:nr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?At:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hu&&nr?nr(""[Symbol.iterator]()):At,"%Symbol%":hu?Symbol:At,"%SyntaxError%":Td,"%ThrowTypeError%":Kse,"%TypedArray%":Qse,"%TypeError%":id,"%Uint8Array%":typeof Uint8Array>"u"?At:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?At:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?At:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?At:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?At:WeakMap,"%WeakRef%":typeof WeakRef>"u"?At:WeakRef,"%WeakSet%":typeof WeakSet>"u"?At:WeakSet};if(nr)try{null.error}catch(e){var eae=nr(nr(e));gc["%Error.prototype%"]=eae}var tae=function e(t){var n;if(t==="%AsyncFunction%")n=Mw("async function () {}");else if(t==="%GeneratorFunction%")n=Mw("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Mw("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&nr&&(n=nr(i.prototype))}return gc[t]=n,n},lR={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},qm=UC,Z0=Xse,nae=qm.call(Function.call,Array.prototype.concat),rae=qm.call(Function.apply,Array.prototype.splice),cR=qm.call(Function.call,String.prototype.replace),X0=qm.call(Function.call,String.prototype.slice),iae=qm.call(Function.call,RegExp.prototype.exec),oae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,sae=/\\(\\)?/g,aae=function(t){var n=X0(t,0,1),r=X0(t,-1);if(n==="%"&&r!=="%")throw new Td("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Td("invalid intrinsic syntax, expected opening `%`");var i=[];return cR(t,oae,function(o,s,a,l){i[i.length]=a?cR(l,sae,"$1"):s||o}),i},lae=function(t,n){var r=t,i;if(Z0(lR,r)&&(i=lR[r],r="%"+i[0]+"%"),Z0(gc,r)){var o=gc[r];if(o===wu&&(o=tae(r)),typeof o>"u"&&!n)throw new id("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Td("intrinsic "+t+" does not exist!")},Gc=function(t,n){if(typeof t!="string"||t.length===0)throw new id("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new id('"allowMissing" argument must be a boolean');if(iae(/^%?[^%]*%?$/,t)===null)throw new Td("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=aae(t),i=r.length>0?r[0]:"",o=lae("%"+i+"%",n),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],rae(r,nae([0,1],c)));for(var d=1,h=!0;d<r.length;d+=1){var f=r[d],m=X0(f,0,1),g=X0(f,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new Td("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(l=!0),i+="."+f,s="%"+i+"%",Z0(gc,s))a=gc[s];else if(a!=null){if(!(f in a)){if(!n)throw new id("base intrinsic for "+t+" exists, but the property is not available.");return}if(mc&&d+1>=r.length){var y=mc(a,f);h=!!y,h&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[f]}else h=Z0(a,f),a=a[f];h&&!l&&(gc[s]=a)}}return a},cae=Gc,RE=cae("%Object.defineProperty%",!0),OE=function(){if(RE)try{return RE({},"a",{value:1}),!0}catch{return!1}return!1};OE.hasArrayLengthDefineBug=function(){if(!OE())return null;try{return RE([],"length",{value:1}).length!==1}catch{return!0}};var HC=OE,uae=Gc,Dv=uae("%Object.getOwnPropertyDescriptor%",!0);if(Dv)try{Dv([],"length")}catch{Dv=null}var xB=Dv,dae=HC(),GC=Gc,Nf=dae&&GC("%Object.defineProperty%",!0);if(Nf)try{Nf({},"a",{value:1})}catch{Nf=!1}var hae=GC("%SyntaxError%"),fu=GC("%TypeError%"),uR=xB,bB=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new fu("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new fu("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new fu("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new fu("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new fu("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new fu("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!uR&&uR(t,n);if(Nf)Nf(t,n,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:r,writable:o===null&&l?l.writable:!o});else if(a||!i&&!o&&!s)t[n]=r;else throw new hae("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},fae=Ose,pae=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",mae=Object.prototype.toString,gae=Array.prototype.concat,dR=bB,vae=function(e){return typeof e=="function"&&mae.call(e)==="[object Function]"},wB=HC(),yae=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!vae(r)||!r())return}wB?dR(e,t,n,!0):dR(e,t,n)},_B=function(e,t){var n=arguments.length>2?arguments[2]:{},r=fae(t);pae&&(r=gae.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)yae(e,r[i],t[r[i]],n[r[i]])};_B.supportsDescriptors=!!wB;var Pb=_B,EB={exports:{}},SB=Gc,hR=bB,xae=HC(),fR=xB,pR=SB("%TypeError%"),bae=SB("%Math.floor%"),wae=function(t,n){if(typeof t!="function")throw new pR("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||bae(n)!==n)throw new pR("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&fR){var s=fR(t,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(xae?hR(t,"length",n,!0,!0):hR(t,"length",n)),t};(function(e){var t=UC,n=Gc,r=wae,i=n("%TypeError%"),o=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||t.call(s,o),l=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}e.exports=function(f){if(typeof f!="function")throw new i("a function is required");var m=a(t,s,arguments);return r(m,1+c(0,f.length-(arguments.length-1)),!0)};var d=function(){return a(t,o,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d})(EB);var TB=EB.exports,_ae=Gc,Eae=_ae("%TypeError%"),Sae=function(t,n){if(t==null)throw new Eae(n||"Cannot call method on "+t);return t},Tae=Sae,CB=Gc,AB=TB,Cae=AB(CB("String.prototype.indexOf")),Aae=function(t,n){var r=CB(t,!!n);return typeof r=="function"&&Cae(t,".prototype.")>-1?AB(r):r},kae=Tae,kB=Aae,Mae=kB("Object.prototype.propertyIsEnumerable"),Lae=kB("Array.prototype.push"),MB=function(t){var n=kae(t),r=[];for(var i in n)Mae(n,i)&&Lae(r,n[i]);return r},Pae=MB,LB=function(){return typeof Object.values=="function"?Object.values:Pae},Rae=LB,Oae=Pb,Iae=function(){var t=Rae();return Oae(Object,{values:t},{values:function(){return Object.values!==t}}),t},Nae=Pb,Dae=TB,Bae=MB,PB=LB,Fae=Iae,RB=Dae(PB(),Object);Nae(RB,{getPolyfill:PB,implementation:Bae,shim:Fae});var jae=RB,OB=function(t){if(arguments.length<1)throw new TypeError("1 argument is required");if(typeof t!="object")throw new TypeError("Argument 1 (other) to Node.contains must be an instance of Node");var n=t;do{if(this===n)return!0;n&&(n=n.parentNode)}while(n);return!1},zae=OB,IB=function(){if(typeof document<"u"){if(document.contains)return document.contains;if(document.body&&document.body.contains)try{if(typeof document.body.contains.call(document,"")=="boolean")return document.body.contains}catch{}}return zae},Pw,mR;function Uae(){if(mR)return Pw;mR=1;var e=Pb,t=IB;return Pw=function(){var r=t();return typeof document<"u"&&(e(document,{contains:r},{contains:function(){return document.contains!==r}}),typeof Element<"u"&&e(Element.prototype,{contains:r},{contains:function(){return Element.prototype.contains!==r}})),r},Pw}var Hae=Pb,Gae=OB,NB=IB,Vae=NB(),Wae=Uae(),DB=function(t,n){return Vae.apply(t,[n])};Hae(DB,{getPolyfill:NB,implementation:Gae,shim:Wae});var $ae=DB;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function _(T,A){for(var P=0;P<A.length;P++){var k=A[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(T,k.key,k)}}return function(T,A,P){return A&&_(T.prototype,A),P&&_(T,P),T}}(),n=R,r=f(n),i=rn,o=f(i),s=wse,a=Mse,l=jae,c=f(l),d=$ae,h=f(d);function f(_){return _&&_.__esModule?_:{default:_}}function m(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}function g(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:_}function y(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(_,T):_.__proto__=T)}var b={BLOCK:"block",FLEX:"flex",INLINE:"inline",INLINE_BLOCK:"inline-block",CONTENTS:"contents"},x=(0,s.forbidExtraProps)({children:o.default.node.isRequired,onOutsideClick:o.default.func.isRequired,disabled:o.default.bool,useCapture:o.default.bool,display:o.default.oneOf((0,c.default)(b))}),w={disabled:!1,useCapture:!0,display:b.BLOCK},S=function(_){y(T,_);function T(){var A;m(this,T);for(var P=arguments.length,k=Array(P),M=0;M<P;M++)k[M]=arguments[M];var I=g(this,(A=T.__proto__||Object.getPrototypeOf(T)).call.apply(A,[this].concat(k)));return I.onMouseDown=I.onMouseDown.bind(I),I.onMouseUp=I.onMouseUp.bind(I),I.setChildNodeRef=I.setChildNodeRef.bind(I),I}return t(T,[{key:"componentDidMount",value:function(){function A(){var P=this.props,k=P.disabled,M=P.useCapture;k||this.addMouseDownEventListener(M)}return A}()},{key:"componentDidUpdate",value:function(){function A(P){var k=P.disabled,M=this.props,I=M.disabled,N=M.useCapture;k!==I&&(I?this.removeEventListeners():this.addMouseDownEventListener(N))}return A}()},{key:"componentWillUnmount",value:function(){function A(){this.removeEventListeners()}return A}()},{key:"onMouseDown",value:function(){function A(P){var k=this.props.useCapture,M=this.childNode&&(0,h.default)(this.childNode,P.target);M||(this.removeMouseUp&&(this.removeMouseUp(),this.removeMouseUp=null),this.removeMouseUp=(0,a.addEventListener)(document,"mouseup",this.onMouseUp,{capture:k}))}return A}()},{key:"onMouseUp",value:function(){function A(P){var k=this.props.onOutsideClick,M=this.childNode&&(0,h.default)(this.childNode,P.target);this.removeMouseUp&&(this.removeMouseUp(),this.removeMouseUp=null),M||k(P)}return A}()},{key:"setChildNodeRef",value:function(){function A(P){this.childNode=P}return A}()},{key:"addMouseDownEventListener",value:function(){function A(P){this.removeMouseDown=(0,a.addEventListener)(document,"mousedown",this.onMouseDown,{capture:P})}return A}()},{key:"removeEventListeners",value:function(){function A(){this.removeMouseDown&&this.removeMouseDown(),this.removeMouseUp&&this.removeMouseUp()}return A}()},{key:"render",value:function(){function A(){var P=this.props,k=P.children,M=P.display;return r.default.createElement("div",{ref:this.setChildNodeRef,style:M!==b.BLOCK&&(0,c.default)(b).includes(M)?{display:M}:void 0},k)}return A}()}]),T}(r.default.Component);e.default=S,S.propTypes=x,S.defaultProps=w})(gB);var Yae=gB;const VC=Fc(Yae),Vc=({open:e,handleCloseModal:t,children:n,title:r,className:i})=>{const[o,s]=R.useState(e),a=wl({opacity:o?1:0,transform:o?"translateY(0%)":"translateY(100%)",config:bl.stiff}),l=wl({opacity:o?1:0,config:bl.stiff}),c=()=>{s(!1),setTimeout(()=>{t()},500)};return R.useEffect(()=>{s(e)},[e]),e?v.jsx(v.Fragment,{children:v.jsx(ds.div,{style:l,id:"viewDataModal",tabIndex:"-1",className:`absolute z-50 top-[30vh] left-[19vw] h-screen w-screen transform -translate-x-1/2 -translate-y-1/2 bg-black/50 justify-center items-center md:inset-0 ${i??""}`,children:v.jsx("div",{className:"p-4 w-full max-w-2xl h-[60vh] md:h-auto absolute top-[60vh] left-[65vw] transform -translate-x-1/2 -translate-y-1/2 min-w-[50%] min-h-[20%]",children:v.jsxs(ds.div,{style:a,children:[v.jsx(ds.div,{style:a,className:"flex justify-center items-center mb-2",children:v.jsx("div",{onClick:c,className:"bg-white z-[51] h-[.4vh] rounded-[12px] relative w-[2vw] ml-auto mr-auto cursor-pointer hover:bg-gray-500 transition-colors"})}),v.jsx(VC,{onOutsideClick:c,children:v.jsx(ds.div,{style:a,children:v.jsxs("div",{className:"overflow-auto relative p-4 rounded-lg shadow bg-gray-800 sm:p-5 h-[65vh] ",children:[v.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:r}),n]})})})]})})})}):null};function WC({type:e="info",message:t={title:"Info",description:"This is an info alert"},button:n={text:null,onClick:()=>{}}}){const r={info:"flex items-center p-4 mb-4 text-sm text-blue-800 border border-blue-300 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400 dark:border-blue-800",danger:"flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800",success:"flex items-center p-4 mb-4 text-sm text-green-800 border border-green-300 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800",warning:"flex items-center p-4 mb-4 text-sm text-yellow-800 border border-yellow-300 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800",dark:"flex items-center p-4 text-sm text-gray-800 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"};return v.jsxs("div",{className:`flex items-center p-4 mb-4 text-sm border rounded-lg ${r[e]}`,role:"alert",children:[v.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),v.jsx("span",{className:"sr-only",children:"Info"}),v.jsxs("div",{className:" flex flex-col space-y-2",children:[v.jsxs("span",{children:[v.jsx("span",{className:"font-medium",children:t.title})," ",t.description]}),n.text!==null&&v.jsxs("button",{onClick:()=>n==null?void 0:n.onClick(),type:"button",className:"text-white mt-2 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[n==null?void 0:n.text,v.jsx("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]})]})}const qae=()=>{const[e,t]=R.useState([]),[n,r]=R.useState([]),{t:i,gameconfig:o}=it(),{largueDispatch:s,ToggleLargue:a}=zn(),{playerList:l}=W4(),{callList:c,PlayClick:d}=Rm(),[h,f]=R.useState(!0),[m,g]=R.useState(),[y,b]=R.useState(),[x,w]=R.useState(""),[S,_]=R.useState(!0),[T,A]=R.useState(!1),[P,k]=R.useState(!1),M=l.reduce((j,oe)=>{const{callsign:q}=oe;return j[q]||(j[q]=[]),j[q].push(oe),j},{});function I(){d(),_(!S),Se("ToggleRadio",{radio:!S},function(j){})}R.useEffect(()=>{mB(),Se("GetConfigDispatchGroups",{}).then(j=>{if(j){const oe=[...n],q=Object.keys(M);n.map(le=>le.callsign).filter(le=>!q.includes(le)).forEach(le=>{const ue=oe.findIndex(he=>he.callsign===le);ue!==-1&&oe.splice(ue,1)}),r(oe),t(j),Se("GetCurrentDispatched",{}).then(le=>{le&&r(le)})}})},[s]),fn("UpdateDispatchTac",j=>{N(j)});function N(j){const{source:oe,destination:q,draggableId:te}=j;if(!q)return;const ne=oe.droppableId;oe.index;const le=q.droppableId,ue=q.index;if(j!=null&&j.isReplicated||(j.isReplicated=!0,Se("UpdateCallsignToTag",j)),le==="asignation"){if(ne===le)return;const ge=[...n],Ge=ge.findIndex(Ue=>Ue.callsign===te);Ge!==-1&&ge.splice(Ge,1),r(ge);return}const he=le.split("-")[0];if(!e.find(ge=>ge.id==he))return;const se=te,we=[...n],Fe=we.findIndex(ge=>ge.callsign===se);Fe!==-1?(we.splice(Fe,1),we.splice(ue,0,{callsign:se,tacId:he})):we.splice(ue,0,{callsign:se,tacId:he}),r(we)}R.useEffect(function(){localStorage.getItem("timercount")?g(localStorage.getItem("timercount")):(localStorage.setItem("timercount","5"),g("5"));const j=localStorage.getItem("ifseevelocimeter");j!==null?b(j==="true"):(b(!0),localStorage.setItem("ifseevelocimeter",!0));const oe=localStorage.getItem("callsign");oe!==null?(w(oe),localStorage.setItem("callsign",oe)):(w(""),localStorage.setItem("callsign",""));const q=localStorage.getItem("isusingmph");q!==null?A(q==="true"):(A(!1),localStorage.setItem("isusingmph",!1))},[]);const U=()=>{d(),k(!1),Se("SaveCallsign",{callsign:x},function(j){})},Y=()=>{f(!h)},H=j=>{localStorage.setItem("timercount",j.target.value),g(j.target.value)},G=j=>{d();const oe=localStorage.getItem("ifseevelocimeter")!=="true";localStorage.setItem("ifseevelocimeter",oe),b(oe)},Z=j=>{d();const q=localStorage.getItem("isusingmph")!="true";localStorage.setItem("isusingmph",q),A(q)},[ee,V]=R.useState(h);R.useEffect(()=>{h&&V(h);const j=setTimeout(()=>{V(h)},300);return()=>clearTimeout(j)},[h]);const B=wl({transform:h?"translateX(0%)":"translateX(94.6%)",config:bl.gentle,position:h?"relative":"absolute",height:"80vh"}),D=wl({transform:h?"translateX(0%)":"",config:bl.gentle,position:h?"relative":"absolute",height:"80vh"});function J({tacId:j}){let oe;return j==="nothing"?oe=Object.keys(M).filter(q=>!n.find(te=>te.callsign===q)):oe=n.filter(q=>q.tacId==j).map(q=>q.callsign),v.jsxs(v.Fragment,{children:[oe.length<=0&&v.jsx("div",{className:" rounded-md p-4 text-center justify-center",children:i("NOTHING_HERE")}),oe.map((q,te)=>{const ne=M[q];return ne?v.jsx(dse,{draggableId:q,index:te,children:(le,ue)=>{var we,Fe,ge,Ge,Ue,gt,ut,Et,Ht,Ke,xt,St;const he=(((Fe=(we=le==null?void 0:le.draggableProps)==null?void 0:we.style)==null?void 0:Fe.left)??0)-1320,se=(((Ge=(ge=le==null?void 0:le.draggableProps)==null?void 0:ge.style)==null?void 0:Ge.top)??0)-120;return(gt=(Ue=le==null?void 0:le.draggableProps)==null?void 0:Ue.style)!=null&&gt.left&&((Et=(ut=le==null?void 0:le.draggableProps)==null?void 0:ut.style)!=null&&Et.top)&&(le.draggableProps.style.left=ue!=null&&ue.isDragging?he:(Ke=(Ht=le==null?void 0:le.draggableProps)==null?void 0:Ht.style)==null?void 0:Ke.left,le.draggableProps.style.top=ue!=null&&ue.isDragging?se:(St=(xt=le==null?void 0:le.draggableProps)==null?void 0:xt.style)==null?void 0:St.top),v.jsx("ul",{id:"job_players",ref:le.innerRef,...le.draggableProps,...le.dragHandleProps,style:le.draggableProps.style,className:` block select-none mb-2 w-64 text-sm font-medium border rounded-lg ${ue!=null&&ue.isDragging?"bg-gray-700/70 backdrop-blur-3xl border-dashed border-black border-2":"bg-gray-700 "} border-gray-600 text-white`,children:v.jsxs("div",{children:[v.jsxs("h3",{children:["#",q]}),v.jsx("hr",{}),ne.map((_n,ot)=>v.jsx(yee,{player:_n},ot))]},q)},te)}},te):oe.length-1<=0?v.jsx("div",{className:" rounded-md p-4 text-center justify-center",children:i("NOTHING_HERE")}):null})]})}return v.jsxs(oC,{open:s,children:[v.jsx(Vc,{open:P,handleCloseModal:()=>k(!1),title:i("SET_CALLSIGN"),className:"top-[35vh] left-[20vw]",children:v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("label",{htmlFor:"minutos-select",className:"mr-2",children:i("AUTO_REMOVE_MINUTES_EDIT")}),v.jsx("select",{onChange:H,value:m,id:"minutos-select",className:"border rounded-md p-2 text-white bg-gray-600",children:[1,2,3,4,5].map((j,oe)=>{const q=(oe+1)*5,te=q<10?"0"+q:q;return v.jsx("option",{value:q,children:te},oe)})})]}),v.jsx("br",{}),v.jsx("label",{htmlFor:"callsign",className:"block mb-2 text-sm font-medium text-white",children:i("SET_CALLSIGN")}),v.jsx("input",{type:"text",id:"callsign",defaultValue:x,onChange:j=>w(j.target.value),className:"block w-full p-2 border rounded-lg sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"}),v.jsx("br",{}),v.jsx(Lr,{variant:"contained",onClick:U,id:"callsign_save",children:i("SAVE_CALLSIGN")})]})}),v.jsxs("div",{id:"big_menu_map",className:"flex flex-row h-[97.5%] text-white",style:{zIndex:999},children:[v.jsxs("div",{className:"bg-gray-800 w-64 px-4 pt-4 pb-6 overflow-y-auto rounded-l-xl",children:[v.jsxs("div",{className:"flex flex-row items-center justify-center p-4 space-x-4",children:[(o==null?void 0:o.logoURL)&&o.useLogo&&v.jsx("img",{src:o==null?void 0:o.logoURL,height:50,width:50,alt:"",srcSet:""}),v.jsx("h1",{className:"text-white text-lg font-bold select-none text-center",children:i("DISPATCH_TITLE")})]}),v.jsx("nav",{children:v.jsx("ul",{children:v.jsxs("li",{id:"apend_card_calls",children:[c.map((j,oe)=>v.jsx(qQ,{call:j},oe)),c.length<=0&&v.jsx("div",{className:"bg-gray-900 rounded-md p-4 text-center justify-center",children:i("NO_DISPATCH_CALLS")})]})})})]}),v.jsx("div",{className:"flex-1 bg-blue",id:"map_placement",children:v.jsx(Xee,{})}),!ee&&v.jsx("div",{className:" w-5"}),v.jsxs(ds.div,{style:ee?B:D,className:`flex flex-row ${h?"":" right-[-0vw]"}`,children:[v.jsx("div",{id:"toggle_sidebar_2",className:`${h?"":"rounded-l-xl"} h-full bg-gray-800 p-2 flex items-center justify-center cursor-pointer`,onClick:Y,children:v.jsx("i",{id:"class_icon_sidebar",className:`fa-solid ${h?"fa-angle-right":"fa-angle-left"}`})}),ee&&v.jsx("div",{id:"players_sidebar",className:"bg-gray-800 w-80 px-2 pt-4 pb-6 overflow-y-auto rounded-r-xl ease-in-out duration-300",children:v.jsxs("center",{children:[v.jsxs("div",{className:" w-72 mt-2 rounded-xl bg-gray-900 shadow-md sticky top-0",children:[v.jsx(jg,{title:i("RADIO_STATUS",[`${S?"on":"off"}`]),children:v.jsx("button",{onClick:I,className:" bg-gray-900 hover:bg-gray-700 transition-colors p-2 m-2 rounded-xl",children:S?v.jsx(HQ,{className:"text-white"}):v.jsx(GQ,{className:"text-red-600"})})}),v.jsx(jg,{title:i("TOGGLE_RADAR"),children:v.jsx("button",{onClick:G,className:" bg-gray-900 hover:bg-gray-700 transition-colors p-2 m-2 rounded-xl",children:v.jsx($Q,{className:`${y?"text-white":"text-red-600"} transition-colors`})})}),v.jsx(jg,{title:i("TOGGLE_USE_MPH",[`${S?"on":"off"}`]),children:v.jsx("button",{onClick:Z,className:" bg-gray-900 hover:bg-gray-700 transition-colors p-2 m-2 rounded-xl",children:T?"MPH":"km/h"})}),v.jsx(jg,{title:i("SETTINGS"),children:v.jsx("button",{onClick:()=>{k(!P),d()},className:" bg-gray-900 hover:bg-gray-700 transition-colors p-2 m-2 rounded-xl",children:v.jsx(VQ,{className:`${P?"text-green-600":"text-white"} transition-colors`})})})]}),v.jsx("div",{className:"mt-4 flex flex-col mb-8",children:Object.entries(M).length<=0?v.jsxs(v.Fragment,{children:[v.jsx(WC,{type:"info",message:{title:"",description:i("LOADING")}}),new Array(8).fill(0).map((j,oe)=>v.jsxs("ul",{id:"job_players",className:" animate-pulse mb-2 h-36 w-72 text-sm font-medium border rounded-lg bg-gray-700 border-gray-600 text-white",children:[v.jsx("h3",{className:" mx-2 mt-2 w-64 rounded-xl h-4 bg-gray-600"}),v.jsxs("div",{children:[v.jsx("hr",{className:"my-2"}),v.jsxs("div",{className:"flex items-center justify-between pt-4",children:[v.jsxs("div",{children:[v.jsx("div",{className:"h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 w-24 mb-2.5"}),v.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-full dark:bg-gray-700"})]}),v.jsx("div",{className:"h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-12"})]}),v.jsxs("div",{className:"flex items-center justify-between pt-4",children:[v.jsxs("div",{children:[v.jsx("div",{className:"h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 w-24 mb-2.5"}),v.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-full dark:bg-gray-700"})]}),v.jsx("div",{className:"h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-12"})]}),v.jsx("span",{className:"sr-only",children:"Loading..."})]})]},oe)),v.jsx(J3,{})]}):v.jsx(koe,{onDragEnd:N,children:[{id:"asignation",name:i("DEF_ASSIGNATION_NAME"),description:i("DEF_ASIGNATION_DESC")},...e].map((j,oe)=>{function q(te){return te.split(" ").join("")}return v.jsx(iB,{droppableId:`${q(j.id=="asignation"?"asignation":(j==null?void 0:j.id)+"-"+(j==null?void 0:j.name)+"-"+oe)}`,children:(te,ne)=>v.jsx(v.Fragment,{children:v.jsx("div",{ref:te.innerRef,...te.droppableProps,children:v.jsxs("ul",{id:"job_players",className:` mb-2 w-72 text-sm font-medium border rounded-lg ${ne.isDraggingOver?"bg-gray-900 opacity-90":"bg-gray-700"} border-gray-600 text-white`,children:[v.jsxs("h3",{className:" mt-1",children:["#",j.name]}),v.jsxs("div",{children:[v.jsx("hr",{className:"my-2"}),v.jsx(J,{tacId:j.id=="asignation"?"nothing":j==null?void 0:j.id}),te.placeholder]}),v.jsx("small",{children:j==null?void 0:j.description})]},oe)})})},oe)})})})]})})]})]}),v.jsx("div",{onClick:a,className:"bg-white h-[.45vh] rounded-[12px] z-[99999] relative top-[-3%] w-[17vw] ml-auto mr-auto cursor-pointer hover:bg-gray-500 transition-colors"})]})};function Zae({currentPlayer:e}){const{t}=it(),[n,r]=R.useState(!1),[i,o]=R.useState([]);R.useEffect(()=>{e&&(r(!0),s())},[e]);const s=()=>{Se("getPlayerBills",{identifier:e}).then(l=>{o(l)}).catch(l=>{}).finally(()=>{r(!1)})},a=()=>v.jsx("div",{className:"bg-gray-800 p-4 pt-4 pb-4 rounded-md mb-4 flex items-center",children:v.jsxs("table",{className:"w-full mb-4",children:[v.jsx("thead",{className:"sticky top-0 bg-gray-700 rounded-md",children:v.jsxs("tr",{className:"bg-gray-700 rounded-md",children:[v.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("AUTHOR_NAME")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("TIMESTAMP")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("STATUS")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("ITEM")})]})}),v.jsx("tbody",{children:i.map((l,c)=>v.jsxs("tr",{className:"border-white border-b pt-5",children:[v.jsx("td",{className:"px-2",children:l==null?void 0:l.author_name}),v.jsx("td",{className:"px-2",children:ye(l==null?void 0:l.timestamp).format("YYYY/MM/DD")}),v.jsx("td",{className:"px-2",children:l.status}),v.jsx("td",{className:"px-2",children:l.item})]},c))})]})});return n?v.jsxs("div",{role:"status",children:[v.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 animate-spin text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),v.jsx("span",{className:"sr-only",children:"Loading..."})]}):v.jsxs(v.Fragment,{children:[i.length>0&&a(),i.length<=0&&v.jsx("div",{className:"p-4 mb-4 text-sm rounded-lg bg-gray-800 text-red-400",role:"alert",children:t("UNKNOWN")})]})}var BB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gR=_e.createContext&&_e.createContext(BB),pl=globalThis&&globalThis.__assign||function(){return pl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pl.apply(this,arguments)},Xae=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function FB(e){return e&&e.map(function(t,n){return _e.createElement(t.tag,pl({key:n},t.attr),FB(t.child))})}function jB(e){return function(t){return _e.createElement(Kae,pl({attr:pl({},e.attr)},t),FB(e.child))}}function Kae(e){var t=function(n){var r=e.attr,i=e.size,o=e.title,s=Xae(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),_e.createElement("svg",pl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:pl(pl({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&_e.createElement("title",null,o),e.children)};return gR!==void 0?_e.createElement(gR.Consumer,null,function(n){return t(n)}):t(BB)}function Jae(e){return jB({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function Qae(e){return jB({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}const pu=e=>{var t=/^(http|https):\/\/.*\.(jpeg|jpg|gif|png|bmp)$/i;return t.test(e)},tv=e=>/\.(mp4|avi|mov|wmv)$/i.test(e),zB=({objectdata:e,open:t,handleCloseModal:n})=>{e||(e=null);try{e=JSON.parse(e)}catch{e=null}let r=e==null?void 0:e.data,i=(e==null?void 0:e.title)??(e==null?void 0:e.message);if((!r||r.length===0)&&(r=null),typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return v.jsx(v.Fragment,{children:v.jsx(Vc,{open:t,handleCloseModal:n,title:i,children:v.jsx("div",{className:" mx-auto h-[45vh] overflow-auto bg-gray-900/70 p-4 rounded-xl text-white",children:r&&v.jsx(v.Fragment,{children:r.map((o,s)=>o.type==="list"?v.jsx(ele,{title:o.title,items:o.items},s):v.jsx(UB,{listItem:o},s))})})})})},ele=({title:e,items:t})=>{const[n,r]=R.useState(!1),[i,o]=R.useState(!1),[s,a]=R.useState(0),l=wl({height:n?s:0,opacity:n?1:0,transform:n?"scaleY(1)":"scaleY(0)",config:bl.stiff}),c=()=>{r(!n),o(!n)},d=R.useRef(null),h=R.useRef(null);R.useEffect(()=>{i&&d.current&&d.current.focus()},[i]),R.useEffect(()=>{h.current&&a(h.current.scrollHeight)},[n]);const f=()=>v.jsx(ds.ul,{className:"pl-4",style:l,ref:h,children:t.map((m,g)=>v.jsx(UB,{listItem:m},g))});return v.jsxs("div",{className:"border border-gray-700 rounded-md py-1 px-2 m-2",children:[v.jsxs(ds.div,{className:"flex items-center text-center align-middle justify-between cursor-pointer mt-2",onClick:c,ref:d,tabIndex:0,children:[v.jsx("h2",{className:"text-lg font-semibold",children:e}),n?v.jsx(Qae,{}):v.jsx(Jae,{})]}),f()]})},UB=({listItem:e})=>v.jsxs("li",{className:"text-white bg-gray-600 p-2 m-2 rounded-lg justify-between flex items-center",children:[e.key&&v.jsxs(v.Fragment,{children:[pu(e.value)&&v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("span",{className:"max-w-[30%] mb-2 font-bold",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,":"]}),v.jsx("img",{src:e.value,alt:"List",className:"max-w-[50%] rounded-lg"})]}),!pu(e.value)&&tv(e.value)&&v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("span",{className:"max-w-[30%] mb-2 font-bold",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,":"]}),v.jsx("video",{src:e.value,alt:"Video",className:"max-w-full",controls:!0})]}),!pu(e.value)&&!tv(e.value)&&v.jsxs("span",{className:"max-w-[75%]",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,": ",e.value]})]}),!e.key&&v.jsxs(v.Fragment,{children:[pu(e)&&v.jsx("img",{src:e,alt:"Imate-url",className:"max-w-[50%]"}),!pu(e)&&tv(e)&&v.jsx("video",{src:e,alt:"Video",className:"max-w-full",controls:!0}),!pu(e)&&!tv(e)&&v.jsx("span",{className:"max-w-[75%]",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:e})]})]});function tle({id:e,fetchPlayerInfractions:t,data:n}){const{t:r}=it(),{setLoading:i}=zn(),[o,s]=R.useState(!1),[a,l]=R.useState(!1),c=n==null?void 0:n.dataobj,d=()=>{i(!0),!a&&(l(!0),Se("deletePlayerHistoryByID",{id:e}).then(m=>{t(),i(!1),l(!1),s(!0),setTimeout(()=>{s(!1)},50)}).catch(m=>{i(!1),l(!1)}))},h=()=>{s(!0)},f=()=>{s(!1)};return v.jsxs(v.Fragment,{children:[v.jsxs(vb,{title:r("OPTIONS"),keepopen:!o,children:[v.jsxs(na,{onClick:h,disableRipple:!0,children:[v.jsx(N4,{}),r("MORE_DETAILS")]}),v.jsx(y0,{sx:{my:.5}}),v.jsxs(na,{onClick:d,disableRipple:!0,children:[v.jsx(VT,{}),r("DELETE")]})]}),v.jsx(zB,{open:o,handleCloseModal:f,objectdata:c})]})}function nle({currentPlayer:e}){const{t}=it(),[n,r]=R.useState(!1),[i,o]=R.useState([]);R.useEffect(()=>{e&&(r(!0),s())},[e]);const s=()=>{Se("getPlayerDataByType",{identifier:e,type:"infraction"}).then(l=>{const c=l.mdtData;o(c)}).catch(l=>{console.error("Error:",l)}).finally(()=>{r(!1)})},a=()=>v.jsx("div",{className:"bg-gray-800 p-4 pt-4 pb-4 rounded-md mb-4 flex items-center",children:v.jsxs("table",{className:"w-full mb-4",children:[v.jsx("thead",{className:"sticky top-0 bg-gray-700 rounded-md",children:v.jsxs("tr",{className:"bg-gray-700 rounded-md",children:[v.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("ID")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("DATE")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("BY")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("TITLE")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("ACTIONS")})]})}),v.jsx("tbody",{children:i.map((l,c)=>v.jsxs("tr",{className:"border-white border-b pt-5",children:[v.jsx("td",{className:"px-2",children:l==null?void 0:l.id}),v.jsx("td",{className:"px-2",children:ye(l==null?void 0:l.createdAt).format("YYYY/MM/DD")}),v.jsx("td",{className:"px-2",children:JSON.parse(l==null?void 0:l.dataobj).by}),v.jsx("td",{className:"px-2",children:JSON.parse(l==null?void 0:l.dataobj).message}),v.jsx("td",{className:"px-2",children:v.jsx(tle,{data:l,id:l==null?void 0:l.id,fetchPlayerInfractions:s})})]},c))})]})});return n?v.jsxs("div",{role:"status",children:[v.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 animate-spin text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),v.jsx("span",{className:"sr-only",children:"Loading..."})]}):v.jsxs(v.Fragment,{children:[i.length>0&&a(),i.length<=0&&v.jsx("section",{className:"bg-gray-900",children:v.jsx("div",{className:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16 lg:px-6",children:v.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[v.jsx("h1",{className:"mb-4 text-7xl tracking-tight font-extrabold lg:text-9xl text-primary-500",children:"404"}),v.jsx("p",{className:"mb-4 text-3xl tracking-tight font-bold  md:text-4xl text-white",children:t("SOMETHING_IS_MISSING")}),v.jsx("p",{className:"mb-4 text-lg font-light  text-gray-400",children:t("CANT_SEARCH_TEXT")})]})})})]})}function mu(e){var t=/^(http|https):\/\/.*\.(jpeg|jpg|gif|png|bmp)$/i;return t.test(e)}const nv=e=>/\.(mp4|avi|mov|wmv)$/i.test(e),HB=({open:e,handleCloseModal:t,onSubmited:n,identifier:r,isvehicle:i,plate:o})=>{const{setLoading:s}=zn(),{t:a}=it(),[l,c]=R.useState(""),[d,h]=R.useState(""),[f,m]=R.useState([]),[g,y]=R.useState(!1),[b,x]=R.useState(""),w=N=>{c(N.target.value)},S=N=>{h(N.target.value)},_=()=>{if(l.length>40)return Me(a("TITLE_MUST_BE_LESS_THAN_40"),{type:"error"});l&&d&&(m([...f,{key:l,value:d}]),c(""),h(""))},T=()=>{m([...f,{type:"list",title:a("ENTER_TITLE"),items:[]}])},A=N=>{const U=[...f];U[N].items.push(d),m(U),c(""),h("")},P=(N,U)=>{if(g)return;const Y=[...f];Y.splice(N,1),m(Y),y(!1)},k=(N,U)=>{if(g)return;const Y=[...f];Y[N].items.splice(U,1),m(Y),y(!1)},M=(N,U)=>{const Y=[...f];Y[U].title=N.target.value,m(Y)},I=()=>{s(!0);const N=JSON.stringify(f),U=JSON.parse(N);let Y=0,H=!1;const G=Z=>{Array.isArray(Z)?Z.length===0?H=!0:Z.forEach(ee=>{G(ee)}):typeof Z=="object"?Object.keys(Z).forEach(ee=>{G(Z[ee])}):typeof Z=="string"&&(Y+=Z.length)};if(G(U),N.length>3e4)return s(!1),Me(a("DATA_MUST_BE_LESS_THAN_20000"),{type:"error"});if(b.length>40)return s(!1),Me(a("TITLE_MUST_BE_LESS_THAN_40"),{type:"error"});if(b.length<3)return s(!1),Me(a("TITLE_CANT_HAVE_LESS_THAN_3"),{type:"error"});if(N.length<10)return s(!1),Me(a("DATA_CANT_HAVE_LESS_THAN_3"),{type:"error"});if(H)return s(!1),Me(a("CANT_HAVE_EMPTY_LIST"),{type:"error"});if(JSON.stringify({title:b,data:f}),i){if(!o)return Me(a("CANT_GET_VEH_PLATE"),{type:"error"});Se("createVehicleHistory",{plate:o,datatype:"infraction",message:b,data:JSON.stringify(f)}).then(()=>{n(),t(),s(!1)}).catch(Z=>{console.log(Z),Me(a("ERROR_CREATING_DATA"),{type:"error"}),t(),s(!1)})}else{if(!r)return s(!1),Me(a("CANT_GET_PLAYER_IDENTIFIER"),{type:"error"});Se("createPlayerHistory",{identifier:r,datatype:"infraction",title:b,data:JSON.stringify(f)}).then(()=>{n(),t(),s(!1)}).catch(Z=>{console.log(Z),Me(a("ERROR_CREATING_DATA"),{type:"error"}),t(),s(!1)})}};return v.jsx(v.Fragment,{children:v.jsxs(Vc,{open:e,handleCloseModal:t,title:a("CREATING_DATA"),children:[v.jsx("input",{onChange:N=>x(N.target.value),value:b,type:"text",id:"title",className:"border  text-sm rounded-lg  block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",placeholder:"Title of the data",required:!0}),v.jsx("div",{className:" mx-auto h-[38vh] mt-2 overflow-auto bg-gray-900/70 p-4 rounded-xl text-white",children:v.jsxs("ul",{className:" p-4 rounded-lg mt-2",children:[f.map((N,U)=>N.type==="list"?v.jsxs("li",{className:"mb-2 bg-gray-700 p-4 rounded-xl",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("input",{type:"text",className:"w-1/2 px-4 py-2 mr-2 bg-gray-800 text-white rounded",placeholder:a("ENTER_TITLE"),value:N.title,onChange:Y=>M(Y,U)}),v.jsx("button",{className:"px-2 py-1 bg-red-500 text-white rounded",onClick:()=>P(U),children:a("DELETE")})]}),v.jsxs("strong",{className:"text-white",children:[N.title,":"]}),v.jsx("ul",{children:N.items.map((Y,H)=>v.jsx(vR,{listItem:Y,index:U,listIndex:H,handleRemoveItem:k,setInWait:y,waiting:g},H))}),v.jsxs("div",{className:" flex flex-row",children:[v.jsx("input",{type:"text",className:"w-1/2 px-4 py-2 mr-2 bg-gray-800 text-white rounded",placeholder:a("ENTER_VALUE"),value:d,onChange:S}),v.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded",onClick:()=>A(U),children:a("ADD_ITEM")})]})]},U):v.jsx(vR,{listItem:N,index:U,handleRemoveItem:P,setInWait:y,waiting:g},U)),v.jsxs("div",{className:"text-white bg-gray-700 p-4 rounded-lg",children:[v.jsxs("div",{className:"flex mb-4",children:[v.jsx("input",{type:"text",className:"w-1/2 px-4 py-2 mr-2 bg-gray-800 text-white rounded",placeholder:a("ENTER_TITLE"),value:l,onChange:w}),v.jsx("input",{type:"text",className:"w-1/2 px-4 py-2 ml-2 bg-gray-800 text-white rounded",placeholder:a("ENTER_VALUE"),value:d,onChange:S})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded mr-2",onClick:_,children:a("ADD_ITEM")}),v.jsx("button",{className:"px-4 py-2 bg-green-500 text-white rounded",onClick:T,children:a("ADD_LIST")})]})]})]})}),v.jsx("button",{className:"mt-4 px-4 py-2 w-full bg-blue-500 text-white rounded",onClick:I,children:a("SAVE")})]})})},vR=({listItem:e,index:t,listIndex:n,handleRemoveItem:r,setInWait:i,waiting:o})=>{const{t:s}=it(),[a,l]=R.useState(!0),c=_Q(a,{from:{opacity:0,transform:"scale(0)"},enter:{opacity:1,transform:"scale(1)"},leave:{opacity:0,transform:"scale(0)"},config:{tension:200,friction:20}}),d=()=>{o||(l(!1),i(!0),setTimeout(()=>{r(t,n)},500))};return R.useEffect(()=>{const h=setInterval(()=>{o||l(!0)},2e3);return()=>clearInterval(h)},[o]),c((h,f)=>f?v.jsxs(ds.li,{style:{...h},className:"text-white bg-gray-600 p-2 m-2 rounded-lg justify-between flex items-center",children:[e.key&&v.jsxs(v.Fragment,{children:[mu(e.value)&&v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("span",{className:"max-w-[30%] mb-2 font-bold",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,":"]}),v.jsx("img",{src:e.value,alt:"item_list",className:"max-w-[50%] rounded-lg"})]}),!mu(e.value)&&nv(e.value)&&v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("span",{className:"max-w-[30%] mb-2 font-bold",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,":"]}),v.jsx("video",{src:e.value,alt:"Video",className:"max-w-full",controls:!0})]}),!mu(e.value)&&!nv(e.value)&&v.jsxs("span",{className:"max-w-[75%]",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,": ",e.value]})]}),!e.key&&v.jsxs(v.Fragment,{children:[mu(e)&&v.jsx("img",{src:e,alt:"image_url",className:"max-w-[50%]"}),!mu(e)&&nv(e)&&v.jsx("video",{src:e,alt:"Video",className:"max-w-full",controls:!0}),!mu(e)&&!nv(e)&&v.jsx("span",{className:"max-w-[75%]",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:e})]}),!o&&v.jsx("button",{className:"px-2 py-1 ml-2 bg-red-500 text-white rounded",onClick:d,children:s("DELETE")}),o&&v.jsx(rle,{})]}):null)},rle=()=>v.jsxs(v.Fragment,{children:[v.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 animate-spin text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),v.jsx("span",{className:"sr-only",children:"Loading..."})]});function ile({peapleID:e}){var G,Z,ee,V,B,D,J,j,oe,q,te,ne,le,ue,he;const{t}=it(),{mdtBills:n}=zn(),[r,i]=R.useState({}),[o,s]=R.useState(!1),[a,l]=R.useState(!1),c=()=>l(!0),d=()=>l(!1),[h,f]=R.useState(""),[m,g]=R.useState("Default Image URL"),[y,b]=R.useState("Default Paragraph Text"),x=se=>{g(se.target.value)},w=se=>{b(se.target.value)},S=()=>{if(y.length>2400){f(t("TEXT_TOO_LONG")),setTimeout(()=>{f("")},2500);return}if(!e){f(t("GETTING_PLAYER_ERROR")),setTimeout(()=>{f("")},2500);return}Se("editPlayerData",{identifier:e,key:"notes",value:y,datatype:"basics"}).then(()=>Se("editPlayerData",{identifier:e,key:"image",value:m,datatype:"basics"})).then(()=>Se("getPlayerDataByType",{identifier:e,type:"basics"})).then(se=>{i(se),d()}).catch(se=>{console.error("Error:",se)})};R.useEffect(function(){e&&(Se("getPlayerDataByType",{identifier:e,type:"basics"}).then(se=>{var ge;i(se);let we=se!=null&&se.mdtData?se==null?void 0:se.mdtData:[],Fe=JSON.parse(((ge=we[0])==null?void 0:ge.dataobj)||"{}");b((Fe==null?void 0:Fe.notes)||""),g((Fe==null?void 0:Fe.image)||"")}),M(!1),P(!1))},[e]);let _=r!=null&&r.mdtData?r==null?void 0:r.mdtData:[],T=JSON.parse(((G=_[0])==null?void 0:G.dataobj)||"{}");const[A,P]=R.useState(!1),[k,M]=R.useState(!1),I=()=>{P(!0),M(!1),f("")},N=()=>{M(!0),P(!1),f("")},U=()=>{P(!1),setTimeout(function(){P(!0)},500)};if(!e||e.length<=0)return null;let Y=(Z=r==null?void 0:r.playerData)==null?void 0:Z.sex;((ee=r==null?void 0:r.playerData)==null?void 0:ee.sex)==="m"||((V=r==null?void 0:r.playerData)==null?void 0:V.sex)==="0"||((B=r==null?void 0:r.playerData)==null?void 0:B.sex)===0?Y=t("MALE"):(((D=r==null?void 0:r.playerData)==null?void 0:D.sex)==="f"||((J=r==null?void 0:r.playerData)==null?void 0:J.sex)==="1"||((j=r==null?void 0:r.playerData)==null?void 0:j.sex)===1)&&(Y=t("FEMALE"));const H=()=>{Se("unJailPlayer",{identifier:e}).then(se=>{}),delete r.jailData,i({...r})};return v.jsxs(v.Fragment,{children:[h.length>1&&v.jsx(q_,{severity:"error",children:h}),v.jsxs("div",{className:"bg-gray-800 p-4 pt-4 pb-4 rounded-md mb-4 flex items-center",id:"people_details",children:[v.jsxs("div",{className:"w-2/3",children:[v.jsx("h2",{className:"text-lg font-bold mb-4",children:t("PERSON_DETAILS")}),v.jsxs("p",{className:"mb-2",children:[v.jsxs("span",{className:"font-bold",children:[t("NAME"),": "]}),(oe=r==null?void 0:r.playerData)!=null&&oe.name?(q=r==null?void 0:r.playerData)==null?void 0:q.name:t("UNKNOWN")]}),v.jsxs("p",{className:"mb-2",children:[v.jsxs("span",{className:"font-bold",children:[t("LAST_NAME"),": "]}),(te=r==null?void 0:r.playerData)!=null&&te.lastname?(ne=r==null?void 0:r.playerData)==null?void 0:ne.lastname:t("UNKNOWN")]}),v.jsxs("p",{className:"mb-2",children:[v.jsxs("span",{className:"font-bold",children:[t("SEX"),": "]}),Y||t("UNKNOWN")]}),((le=r==null?void 0:r.jailData)==null?void 0:le.id)&&v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"mb-2",children:[v.jsxs("span",{className:"font-bold",children:[t("JAIL"),": "]}),t("STARTED_AT")," ",ye(((ue=r==null?void 0:r.jailData)==null?void 0:ue.jail_start)||new Date().now).format("YYYY-MM-DD HH:MM:SS")," ",t("END_AT")," ",ye(((he=r==null?void 0:r.jailData)==null?void 0:he.jail_end)||new Date().now).format("YYYY-MM-DD HH:MM:SS")]}),v.jsx(Lr,{className:" mx-1",onClick:()=>H(),variant:"contained",color:"primary",children:t("REMOVE_FROM_JAIL")})]}),v.jsxs("p",{style:{whiteSpace:"pre-line"},children:[v.jsxs("span",{className:"font-bold",children:[t("NOTES"),": "]}),T!=null&&T.notes?T==null?void 0:T.notes:t("UNKNOWN"),e&&v.jsx(v.Fragment,{children:v.jsx("button",{onClick:c,className:"mx-1 text-white font-bold py-2 px-4 rounded-full",children:v.jsx("i",{className:"fas fa-pencil-alt"})})})]}),e&&v.jsxs(v.Fragment,{children:[v.jsx(Lr,{className:" mx-1",variant:"contained",color:"primary",onClick:I,children:t("VIEW_DETAILS")}),"",n&&v.jsx(Lr,{className:" mx-1",variant:"contained",color:"primary",onClick:N,children:t("VIEW_BILLS")}),"",v.jsx(Lr,{className:" mx-1",onClick:()=>s(!0),variant:"contained",color:"primary",children:t("ADD_NEW")}),v.jsx(HB,{identifier:e,open:o,onSubmited:()=>U(),handleCloseModal:()=>{s(!1)}})]})]}),v.jsx("div",{className:"w-1/4 ml-4 relative rounded-lg",onClick:c,children:v.jsxs("div",{className:"w-full h-64 rounded-lg overflow-hidden",children:[v.jsx("img",{src:(T==null?void 0:T.image)||t("POLICE_LOGO_URL"),alt:"Imagen de la persona",className:`w-full h-full object-cover bg-[url('${t("POLICE_LOGO_URL")}' object-cover)]`}),v.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 hover:opacity-75 transition duration-300 bg-gray-900 rounded-lg",children:v.jsx("span",{className:"text-white text-sm font-bold select-none",children:t("UPDATE_IMAGE")})})]})})]}),v.jsxs(Vc,{open:a,handleCloseModal:d,title:t("NOTES_OF_THE_PERSON"),children:[h&&v.jsx(q_,{severity:"error",children:h}),v.jsx("div",{className:" mx-auto h-[45vh] mt-2 overflow-auto bdg-gray-900/70 p-4 rounded-xl text-white",children:v.jsxs("div",{className:"modal-body mt-2",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"imageURL",className:"block mb-2 text-sm font-medium text-white",children:t("TEXT_IMAGE_URL")}),v.jsx("input",{id:"imageURL",className:"w-full p-2 border border-gray-700 bg-gray-700 rounded-lg text-white",placeholder:"image URL",type:"text",onChange:x,value:m})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"paragraphNotes",className:"block mb-2 text-sm font-medium text-white",children:t("TEXT_TO_NOTE")}),v.jsx("textarea",{id:"paragraphNotes",className:"w-full h-[80%] p-2 border border-gray-700 bg-gray-700 rounded-lg text-white",onChange:w,rows:15,maxLength:2400,value:y,style:{resize:"none"}})]}),v.jsx("small",{className:"text-white",id:"ModalNotesAddHistoryTEXTLENGTH",children:`${y.length}/2400`})]})}),v.jsx("button",{id:"submitBtnModalNotesAddHistory",className:"my-4 w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:S,children:t("SEND")})]}),v.jsxs("div",{id:"table_detailsAppend",children:[k&&v.jsx(Zae,{currentPlayer:e}),A&&v.jsx(nle,{currentPlayer:e})]})]})}const ole=({results:e,setSelectedPlayer:t,onClickChange:n})=>{const{t:r}=it();function i(o){n(),t(o)}return!e.length<=0?v.jsxs(v.Fragment,{children:[v.jsx("thead",{className:"sticky top-0 bg-gray-700 rounded-md z-50",children:v.jsxs("tr",{className:"bg-gray-700 rounded-md",children:[v.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("NAME")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("LAST_NAME")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("SEX")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("ACTIONS")})]})}),v.jsx("tbody",{children:e.map(o=>{let s=o==null?void 0:o.sex;return(o==null?void 0:o.sex)==="m"||(o==null?void 0:o.sex)==="0"||(o==null?void 0:o.sex)===0?s=r("MALE"):((o==null?void 0:o.sex)==="f"||(o==null?void 0:o.sex)==="1"||(o==null?void 0:o.sex)===1)&&(s=r("FEMALE")),v.jsxs("tr",{className:"border-white border-b pt-5",children:[v.jsx("td",{children:o==null?void 0:o.name}),v.jsx("td",{children:o==null?void 0:o.lastname}),v.jsx("td",{children:s}),v.jsx("td",{children:v.jsx(Lr,{onClick:()=>i(o==null?void 0:o.identifier),variant:"contained",sx:{marginTop:"4px",marginBottom:"4px"},children:v.jsx("span",{children:r("VIEW_DETAILS")})})})]},o==null?void 0:o.identifier)})})]}):null},GB=({results:e,setSelectedPlate:t,onClickChange:n})=>{const{t:r}=it();function i(o,s){t({}),n(),t({plate:o,owner:s})}return!e.length<=0?v.jsxs(v.Fragment,{children:[v.jsx("thead",{className:"sticky top-0 bg-gray-700 rounded-md z-50",children:v.jsxs("tr",{className:"bg-gray-700 rounded-md",children:[v.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("PLATE")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("MODEL")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("TYPE")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("ACTIONS")})]})}),v.jsx("tbody",{children:e.map(o=>v.jsxs("tr",{className:"border-white border-b pt-5",children:[v.jsx("td",{children:o==null?void 0:o.plate}),v.jsx("td",{children:o==null?void 0:o.model}),v.jsx("td",{children:(o==null?void 0:o.type)||"vehicle"}),v.jsx("td",{children:v.jsx(Lr,{onClick:()=>i(o==null?void 0:o.plate,o.owner),variant:"contained",sx:{marginTop:"4px",marginBottom:"4px"},children:v.jsx("span",{children:r("VIEW_DETAILS")})})})]},o==null?void 0:o.plate))})]}):null};function sle({plate:e,getPlayerBolos:t}){const{t:n}=it(),[r,i]=R.useState(!1);return v.jsxs(v.Fragment,{children:[v.jsx(Lr,{className:" mx-1",onClick:()=>i(!0),variant:"contained",color:"primary",children:n("ADD_NEW")}),v.jsx(HB,{open:r,isvehicle:!0,plate:e,onSubmited:()=>t(),handleCloseModal:()=>{i(!1)}})]})}function ale({id:e,fetchPlayerInfractions:t,data:n}){const{t:r}=it(),{setLoading:i}=zn(),[o,s]=R.useState(!1),[a,l]=R.useState(!1),c=n==null?void 0:n.data,d=()=>{i(!0),!a&&(l(!0),Se("deleteVehicleHistoryByID",{id:e}).then(m=>{t(),i(!1),l(!1),s(!0),setTimeout(()=>{s(!1)},50)}).catch(m=>{i(!1),l(!1)}))},h=()=>{s(!0)},f=()=>{s(!1)};return v.jsxs(v.Fragment,{children:[v.jsxs(vb,{title:r("OPTIONS"),keepopen:!o,children:[v.jsxs(na,{onClick:h,disableRipple:!0,children:[v.jsx(N4,{}),r("MORE_DETAILS")]}),v.jsx(y0,{sx:{my:.5}}),v.jsxs(na,{onClick:d,disableRipple:!0,children:[v.jsx(VT,{}),r("DELETE")]})]}),v.jsx(zB,{open:o,handleCloseModal:f,objectdata:c})]})}function lle({plate:e,type:t}){const{t:n}=it(),[r,i]=R.useState(!1),[o,s]=R.useState([]),a=()=>{i(!0),Se("getVehicleInfoByVehiclePlateAndDataType",{type:t,plate:e}).then(l=>{s(l),i(!1)})};return R.useEffect(()=>{i(!0),setTimeout(()=>{Se("getVehicleInfoByVehiclePlateAndDataType",{type:t,plate:e}).then(l=>{s(l),i(!1)})},500)},[e,t]),v.jsx("div",{children:r?v.jsxs("div",{role:"status",children:[v.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 animate-spin text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),v.jsx("span",{className:"sr-only",children:"Loading..."})]}):v.jsxs(v.Fragment,{children:[o.length>0&&v.jsx("div",{className:"bg-gray-800 p-4 pt-4 pb-4 rounded-md mb-4 flex items-center",children:v.jsxs("table",{className:"w-full mb-4",children:[v.jsx("thead",{className:"sticky top-0 bg-gray-700 rounded-md",children:v.jsxs("tr",{className:"bg-gray-700 rounded-md",children:[v.jsx("th",{className:"text-left font-bold px-4 py-2",children:n("ID")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:n("DATE")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:n("BY")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:n("MESSAGE")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:n("ACTIONS")})]})}),v.jsx("tbody",{children:o.map(l=>v.jsxs("tr",{className:"border-white border-b pt-5",children:[v.jsx("td",{className:"px-2",children:l==null?void 0:l.id}),v.jsx("td",{className:"px-2",children:ye(l==null?void 0:l.createdAt).format("YYYY/MM/DD")}),v.jsx("td",{className:"px-2",children:l==null?void 0:l.by}),v.jsx("td",{className:"px-2",children:JSON.parse(l==null?void 0:l.data).message}),v.jsxs("td",{className:"px-2",children:[v.jsx(ale,{data:l,id:l==null?void 0:l.id,fetchPlayerInfractions:a})," "]})]},l==null?void 0:l.id))})]})}),o.length<=0&&v.jsx("section",{className:"bg-gray-900",children:v.jsx("div",{className:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16 lg:px-6",children:v.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[v.jsx("h1",{className:"mb-4 text-7xl tracking-tight font-extrabold lg:text-9xl text-primary-500",children:"404"}),v.jsx("p",{className:"mb-4 text-3xl tracking-tight font-bold  md:text-4xl text-white",children:n("SOMETHING_IS_MISSING")}),v.jsx("p",{className:"mb-4 text-lg font-light  text-gray-400",children:n("CANT_SEARCH_TEXT")})]})})})]})})}const Zm=_e.createContext(),cle=({children:e,initialRoute:t})=>{const[n,r]=R.useState(t),[i,o]=R.useState(""),[s,a]=R.useState({}),l=c=>{r(c)};return v.jsx(Zm.Provider,{value:{currentRoute:n,navigateTo:l,routeTitle:i,setRouteTitle:o,customData:s,setCustomData:a},children:e})},yR=({index:e,path:t,component:n,title:r})=>{const{currentRoute:i,setRouteTitle:o,navigateTo:s,customData:a}=R.useContext(Zm);R.useEffect(()=>{e===0&&(o(r),s(t))},[]),R.useEffect(()=>{i===t&&o(r)},[i,t,o,r]);const l=Math.random().toString(36).substring(7);return i===t?v.jsx(n,{customData:a||{}},l):null},K0=({to:e,children:t,className:n,customData:r})=>{const{navigateTo:i,setCustomData:o}=R.useContext(Zm),s=l=>{l.preventDefault(),i(e),o(r||{})},a=Math.random().toString(36).substring(7);return v.jsx("a",{className:n,href:e,onClick:s,children:t},a)},ule=()=>{const{routeTitle:e}=R.useContext(Zm);return v.jsx(v.Fragment,{children:e})},Rb=()=>R.useContext(Zm);function VB({New:e,identifier:t,plate:n}){var f,m,g,y,b,x;const{t:r}=it(),[i,o]=R.useState({}),[s,a]=R.useState(!1),l=()=>{a(!0)};R.useEffect(function(){t&&n&&Se("getPlayerAndVehicleData",{identifier:t,type:"basics",plate:n}).then(w=>{o(w)})},[t,n]);let c=i!=null&&i.mdtData?i==null?void 0:i.mdtData:[],d=JSON.parse(((f=c[0])==null?void 0:f.dataobj)||"{}");const h=()=>{a(!1),setTimeout(function(){a(!0)},500)};return!t||!n?null:v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-gray-800 p-4 pt-4 pb-4 rounded-md mb-4 flex items-center",id:"people_details",children:[v.jsxs("div",{className:`${e?"w-full":"w-2/3"}`,children:[v.jsx("h2",{className:"text-lg font-bold mb-4",children:r("VEHICLE_DETAILS")}),v.jsxs("p",{className:"mb-2",children:[v.jsxs("span",{className:"font-bold",children:[r("NAME"),":"]})," ",((m=i==null?void 0:i.playerData)==null?void 0:m.name)||r("UNKNOWN")]}),v.jsxs("p",{className:"mb-2",children:[v.jsxs("span",{className:"font-bold",children:[r("LAST_NAME"),":"]})," ",((g=i==null?void 0:i.playerData)==null?void 0:g.lastname)||r("UNKNOWN")]}),v.jsxs("p",{className:"mb-2",children:[v.jsxs("span",{className:"font-bold",children:[r("SEX"),":"]})," ",((y=i==null?void 0:i.playerData)==null?void 0:y.sex)||r("UNKNOWN")]}),!e&&v.jsxs("p",{style:{whiteSpace:"pre-line"},children:[v.jsxs("span",{className:"font-bold",children:[r("NOTES"),":"]})," ",(d==null?void 0:d.notes)||r("UNKNOWN")]}),!e&&v.jsxs(v.Fragment,{children:[v.jsx("br",{}),v.jsx("hr",{}),v.jsx("br",{})]}),v.jsxs("p",{children:[v.jsxs("span",{className:"font-bold",children:[r("PLATE"),":"]})," ",n||r("UNKNOWN")]}),e&&v.jsxs(v.Fragment,{children:[v.jsx("br",{}),v.jsx(K0,{to:"/mdt/search",customData:{playerName:((b=i==null?void 0:i.playerData)==null?void 0:b.name)+" "+((x=i==null?void 0:i.playerData)==null?void 0:x.lastname)},className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:r("VIEW_CITIZEN")})]}),!e&&v.jsxs(v.Fragment,{children:[v.jsx(Lr,{className:" mx-1",variant:"contained",color:"primary",onClick:l,children:r("VIEW_DETAILS")}),"",v.jsx(sle,{plate:n,getPlayerBolos:h})]})]}),!e&&v.jsx("div",{className:"w-1/5 ml-4 relative rounded-lg",onclick:"toggleNotesHistoryAddModal()",children:v.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden ",children:v.jsx("img",{src:(d==null?void 0:d.image)||r("POLICE_LOGO_URL"),alt:"Imagen de el coche",className:`w-full h-full object-cover bg-[url('${r("POLICE_LOGO_URL")}' object-cover)]`})})})]}),v.jsx("div",{id:"table_detailsAppend",children:s&&v.jsx(lle,{plate:n,type:"infraction"})})]})}function WB({onSubmit:e,setOpen:t}){var y;const{t:n}=it(),[r,i]=R.useState([]),[o,s]=R.useState(0),[a,l]=R.useState([]),[c,d]=R.useState(""),[h,f]=R.useState(r);R.useEffect(()=>{Se("getPenalCodeData").then(b=>{i(b)})},[]);function m(){if(typeof e!="function")return Me.error("onSubmit is not a function");e(a),t(!1)}function g(b){if(typeof e!="function")return Me.error("onSubmit is not a function");l([...a,b])}return R.useEffect(()=>{const b=c.toLowerCase(),x=r.map(w=>({...w,PenalCode:w.PenalCode.filter(S=>S.title.toLowerCase().includes(b)||S.desc.toLowerCase().includes(b))}));f(x)},[c,r]),v.jsx(v.Fragment,{children:v.jsxs("div",{children:[v.jsx("div",{className:"",children:v.jsx("select",{onChange:b=>{s(b.target.value)},id:"penal_codes",className:"border text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",children:r.map((b,x)=>x===o?v.jsx("option",{value:x,selected:!0,children:b.title}):v.jsx("option",{value:x,children:b.title}))})}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"first_name",className:"block mb-2 text-sm font-medium text-white",children:"Find"}),v.jsx("input",{type:"text",id:"first_name",className:"border text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",onChange:b=>d(b.target.value),placeholder:n("FIND"),value:c})]}),typeof e=="function"&&v.jsx(Lr,{onClick:m,variant:"contained",sx:{marginTop:"2rem",marginBottom:"1rem"},className:"w-full mt-2 mb-2",children:v.jsx("span",{className:"text-[1vh]",children:n("SEND")})}),v.jsx("div",{className:"flex flex-col mt-2 mb-9",children:(y=h[o])==null?void 0:y.PenalCode.map((b,x)=>v.jsx("div",{className:"bg-gray-700 p-2 m-1 rounded-lg",children:v.jsxs("div",{className:" flex flex-row justify-between align-middle",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex flex-row",children:[v.jsx("p",{className:"text-white",children:b.title}),v.jsx("p",{className:"text-white ml-2",children:b.desc})]}),v.jsxs("div",{className:"flex flex-row",children:[b.fine===0?null:v.jsxs("p",{className:"text-white",children:[n("FINE"),": ",b.fine]}),b.jailTime===0?null:v.jsxs("p",{className:"text-white ml-2",children:[n("JAIL_TIME"),": ",b.jailTime]})]})]}),typeof e=="function"&&v.jsx(v.Fragment,{children:a.find(w=>parseInt(o)===parseInt(w.listIndex)&&x===parseInt(w.itemIndex))?v.jsx("input",{checked:!0,onClick:()=>{l(a.filter(w=>!(parseInt(o)===parseInt(w.listIndex)&&x===parseInt(w.itemIndex))))},type:"checkbox",value:"",className:"w-4 h-4 text-blue-600  rounded focus:ring-blue-600 ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600"}):v.jsx("input",{checked:!1,onClick:()=>{g({...b,listIndex:parseInt(o),itemIndex:parseInt(x)}),t(!1)},type:"checkbox",value:"",className:"w-4 h-4 text-blue-600  rounded focus:ring-blue-600 ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600"})})]})},x))})]})})}function dle({onSubmit:e}){const{t}=it(),[n,r]=R.useState(!1);return v.jsxs(v.Fragment,{children:[v.jsx(Lr,{className:" w-full mx-1",onClick:()=>r(!0),variant:"contained",color:"primary",children:v.jsx(v.Fragment,{children:t("PENAL_CODE")})}),v.jsx(Vc,{open:n,handleCloseModal:()=>r(!1),title:t("PENAL_CODE"),children:v.jsx(WB,{onSubmit:e,setOpen:r})})]})}function hle(){const{t:e}=it(),[t,n]=R.useState(!1),[r,i]=R.useState([]),[o,s]=R.useState(null),[a,l]=R.useState(null),[c,d]=R.useState([]),h=()=>{n(!1),l(null)};R.useEffect(()=>{Se("getAsignedPenalCodesToPlayer",{player:a}).then(g=>{d(g)})},[a]);const f=()=>{Se("getClosetsPlayersMDT").then(g=>{i(g)}),n(!0)};R.useEffect(()=>{o&&clearInterval(o),s(setInterval(function(){t&&Se("getClosetsPlayersMDT").then(g=>{i(g)})},2e3))},[t]);const m=g=>{Se("AddPenalListToPlayer",{data:g,player:a}).then(y=>{h()})};return v.jsxs(v.Fragment,{children:[v.jsx(Lr,{className:" w-full mx-1",sx:{marginTop:"10px"},onClick:f,variant:"contained",color:"primary",children:e("CLOSETS_CITIZEN")}),v.jsxs(Vc,{open:t,handleCloseModal:()=>h(),title:e("CLOSETS_CITIZEN"),children:[a&&v.jsx(WB,{currentPenalCodesAsigned:c,onSubmit:g=>{m(g)},setOpen:()=>{}}),!a&&v.jsxs("div",{className:"flex flex-col mt-2 mb-9",children:[(r==null?void 0:r.length)===0&&v.jsx("div",{className:"bg-gray-700 p-2 m-1 rounded-lg flex flex-row justify-between",children:e("NO_CLOSETS_CITIZEN")}),r==null?void 0:r.map((g,y)=>{var b;return g!=null&&g.info.rp_name?v.jsxs("div",{className:"bg-gray-700 p-2 m-1 rounded-lg flex flex-row justify-between",children:[(b=g==null?void 0:g.info)==null?void 0:b.rp_name,v.jsxs("button",{onClick:()=>{l(g)},type:"button",className:"text-white focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center bg-blue-600 hover:bg-blue-700 focus:ring-blue-800",children:[e("ADD_CHARGES"),v.jsx("svg",{className:"w-3.5 h-3.5 ml-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]},y):null})]})]})]})}const fle=()=>{const{mdt:e,ToggleMDT:t,setLoading:n,enabledJailButton:r}=zn(),{t:i}=it(),[o,s]=R.useState({message:i("MDT Loaded Succesfully"),type:"success"}),[a,l]=R.useState(""),[c,d]=R.useState(""),[h,f]=R.useState([]),[m,g]=R.useState(""),[y,b]=R.useState([]),[x,w]=R.useState(""),[S,_]=R.useState({});function T(){_({}),w("")}const A=N=>{N.preventDefault(),n(!0),l(""),d(""),g(""),b([]),w(""),_({}),setTimeout(function(){Se("getPlayersByNameAndLastName",{name:a,lastname:c}).then(U=>{if(f([]),b([]),U.length<=0){s({message:i("SEARCH_ERROR"),type:"error"}),n(!1);return}f(U),s({message:i("SEARCH_SUCCESS"),type:"success"}),n(!1)})},1e3),setTimeout(function(){n(!1)},1e3)},P=N=>{N.preventDefault(),n(!0),l(""),d(""),g(""),b([]),w(""),_({}),setTimeout(function(){Se("getVehiclesByPlate",{plate:m}).then(U=>{if(b([]),f([]),U.length<=0){s({message:i("SEARCH_ERROR"),type:"error"}),n(!1);return}b(U),s({message:i("SEARCH_SUCCESS"),type:"success"}),n(!1)})},1e3),setTimeout(function(){n(!1)},1e3)},k=N=>{l(N.target.value)},M=N=>{d(N.target.value)},I=N=>{g(N.target.value)};return v.jsxs(oC,{open:e,children:[v.jsxs("div",{className:"p-[1vw]",children:[v.jsx("div",{className:"flex justify-end p-[2vh]",children:v.jsx("button",{onClick:t,className:"mt-[-3vh] mr-[-1vw] z-50 hover:text-gray-500 transition-colors"})}),v.jsxs("div",{className:"flex absolute top-[6.5vh]",children:[v.jsxs("div",{className:"w-[13vw]",children:[v.jsx("h2",{className:"text-[1.2vh] font-bold mb-[1.5vh]",children:i("FIND_PEOPLE")}),v.jsxs("div",{className:"mb-[2vh]",children:[v.jsxs("div",{className:"mb-[1.5vh]",children:[v.jsxs("label",{className:"text-[1vh] block text-gray-400 mb-[.5vh]",htmlFor:"name_input",children:[i("NAME"),":"]}),v.jsx("input",{className:"bg-gray-800 text-white p-2 rounded-md w-full h-[3.5vh]",type:"text",id:"name_input",name:"name_input",value:a,onChange:k})]}),v.jsxs("div",{className:"mb-2",children:[v.jsx("label",{className:"text-[1vh] block text-gray-400 mb-[.5vh]",htmlFor:"lastname_input",children:i("LAST_NAME")}),v.jsx("input",{className:"bg-gray-800 text-white p-2 rounded-md w-full h-[3.5vh]",type:"text",id:"lastname_input",name:"lastname_input",value:c,onChange:M})]}),v.jsx("div",{children:v.jsx(Lr,{onClick:A,variant:"contained",sx:{borderRadius:".5vh",width:"5vw",height:"3vh"},children:v.jsx("span",{className:"text-[1vh]",children:i("FIND")})})})]}),v.jsx("h2",{className:"text-[1.2vh] font-bold mb-[1.5vh]",children:i("FIND_PLATE")}),v.jsxs("div",{className:"mb-4",children:[v.jsxs("div",{className:"mb-2",children:[v.jsxs("label",{className:"text-[1vh] block text-gray-400 mb-[.5vh]",htmlFor:"plate_input",children:[i("PLATE"),":"]}),v.jsx("input",{className:"bg-gray-800 text-white p-2 rounded-md w-full h-[3.5vh]",type:"text",id:"plate_input",name:"plate_input",value:m,onChange:I})]}),v.jsx("div",{children:v.jsx(Lr,{onClick:P,variant:"contained",sx:{borderRadius:".5vh",width:"5vw",height:"3vh"},children:v.jsx("span",{className:"text-[1vh]",children:i("FIND")})})}),v.jsx("br",{}),v.jsx("br",{}),v.jsx(dle,{}),r&&v.jsx(hle,{})]})]}),v.jsxs("div",{className:"w-[56vw] p-4 overflow-auto max-h-[80vh] mt-[-4.3vh]",children:[v.jsx("h2",{className:" text-center text-[1.2vh] font-bold mb-[1.5vh]",children:i("SEARCH_RESULTS")}),v.jsxs("div",{className:"overflow-auto h-[50vh] max-h-[50vh] bg-gray-800 rounded-[1vh] p-[1vh]",id:"results_table_container",children:[(o==null?void 0:o.message)&&v.jsxs(q_,{severity:o==null?void 0:o.type,children:[" ",o==null?void 0:o.message]}),v.jsx("br",{}),v.jsxs("table",{id:"results_table",className:"w-full mb-[1vh]",children:[v.jsx(ole,{results:h,setSelectedPlayer:w,onClickChange:T}),v.jsx(GB,{results:y,setSelectedPlate:_,onClickChange:T})]})]}),v.jsx("br",{}),v.jsx(ile,{peapleID:x}),v.jsx(VB,{identifier:S==null?void 0:S.owner,plate:S==null?void 0:S.plate})]})]})]}),v.jsx("div",{onClick:t,className:"bg-white z-[51] h-[.4vh] rounded-[12px] relative top-[85%] w-[17vw] ml-auto mr-auto cursor-pointer hover:bg-gray-500 transition-colors"})]})};function $B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YB(e,t,n){return t&&xR(e.prototype,t),n&&xR(e,n),e}function qB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IE(e,t)}function J0(e){return J0=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(e)}function IE(e,t){return IE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},IE(e,t)}function ple(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function mle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gle(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:mle(e)}function ZB(e){var t=ple();return function(){var r=J0(e),i;if(t){var o=J0(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gle(this,i)}}function vle(e){return yle(e)||xle(e)||ble(e)||wle()}function yle(e){if(Array.isArray(e))return NE(e)}function xle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ble(e,t){if(e){if(typeof e=="string")return NE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NE(e,t)}}function NE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=String(e);if(t===0)return n;var r=n.match(/(.*?)([0-9]+)(.*)/),i=r?r[1]:"",o=r?r[3]:"",s=r?r[2]:n,a=s.length>=t?s:(vle(Array(t)).map(function(){return"0"}).join("")+s).slice(t*-1);return"".concat(i).concat(a).concat(o)}var XB={daysInHours:!1,zeroPadTime:2};function _le(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.now,r=n===void 0?Date.now:n,i=t.precision,o=i===void 0?0:i,s=t.controlled,a=t.offsetTime,l=a===void 0?0:a,c=t.overtime,d;typeof e=="string"?d=new Date(e).getTime():e instanceof Date?d=e.getTime():d=e,s||(d+=l);var h=s?d:d-r(),f=Math.min(20,Math.max(0,o)),m=Math.round(parseFloat(((c?h:Math.max(0,h))/1e3).toFixed(f))*1e3),g=Math.abs(m)/1e3;return{total:m,days:Math.floor(g/(3600*24)),hours:Math.floor(g/3600%24),minutes:Math.floor(g/60%60),seconds:Math.floor(g%60),milliseconds:Number((g%1*1e3).toFixed()),completed:m<=0}}function Ele(e,t){var n=e.days,r=e.hours,i=e.minutes,o=e.seconds,s=Object.assign(Object.assign({},XB),t),a=s.daysInHours,l=s.zeroPadTime,c=s.zeroPadDays,d=c===void 0?l:c,h=Math.min(2,l),f=a?Xh(r+n*24,l):Xh(r,h);return{days:a?"":Xh(n,d),hours:f,minutes:Xh(i,h),seconds:Xh(o,h)}}var KB=function(e){qB(n,e);var t=ZB(n);function n(){var r;return $B(this,n),r=t.apply(this,arguments),r.state={count:r.props.count||3},r.startCountdown=function(){r.interval=window.setInterval(function(){var i=r.state.count-1;i===0?(r.stopCountdown(),r.props.onComplete&&r.props.onComplete()):r.setState(function(o){return{count:o.count-1}})},1e3)},r.stopCountdown=function(){clearInterval(r.interval)},r.addTime=function(i){r.stopCountdown(),r.setState(function(o){return{count:o.count+i}},r.startCountdown)},r}return YB(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?R.cloneElement(this.props.children,{count:this.state.count}):null}}]),n}(R.Component);KB.propTypes={count:rn.number,children:rn.element,onComplete:rn.func};var $C=function(e){qB(n,e);var t=ZB(n);function n(r){var i;if($B(this,n),i=t.call(this,r),i.mounted=!1,i.initialTimestamp=i.calcOffsetStartTimestamp(),i.offsetStartTimestamp=i.props.autoStart?0:i.initialTimestamp,i.offsetTime=0,i.legacyMode=!1,i.legacyCountdownRef=R.createRef(),i.tick=function(){var s=i.calcTimeDelta(),a=s.completed&&!i.props.overtime?void 0:i.props.onTick;i.setTimeDeltaState(s,void 0,a)},i.start=function(){if(!i.isStarted()){var s=i.offsetStartTimestamp;i.offsetStartTimestamp=0,i.offsetTime+=s?i.calcOffsetStartTimestamp()-s:0;var a=i.calcTimeDelta();i.setTimeDeltaState(a,"STARTED",i.props.onStart),!i.props.controlled&&(!a.completed||i.props.overtime)&&(i.clearTimer(),i.interval=window.setInterval(i.tick,i.props.intervalDelay))}},i.pause=function(){i.isPaused()||(i.clearTimer(),i.offsetStartTimestamp=i.calcOffsetStartTimestamp(),i.setTimeDeltaState(i.state.timeDelta,"PAUSED",i.props.onPause))},i.stop=function(){i.isStopped()||(i.clearTimer(),i.offsetStartTimestamp=i.calcOffsetStartTimestamp(),i.offsetTime=i.offsetStartTimestamp-i.initialTimestamp,i.setTimeDeltaState(i.calcTimeDelta(),"STOPPED",i.props.onStop))},i.isStarted=function(){return i.isStatus("STARTED")},i.isPaused=function(){return i.isStatus("PAUSED")},i.isStopped=function(){return i.isStatus("STOPPED")},i.isCompleted=function(){return i.isStatus("COMPLETED")},r.date){var o=i.calcTimeDelta();i.state={timeDelta:o,status:o.completed?"COMPLETED":"STOPPED"}}else i.legacyMode=!0;return i}return YB(n,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(i){this.legacyMode||this.props.date!==i.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var i=this.props,o=i.date,s=i.now,a=i.precision,l=i.controlled,c=i.overtime;return _le(o,{now:s,precision:a,controlled:l,offsetTime:this.offsetTime,overtime:c})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(i){this.legacyCountdownRef.current.addTime(i)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(i){return this.state.status===i}},{key:"setTimeDeltaState",value:function(i,o,s){var a=this;if(this.mounted){var l=i.completed&&!this.state.timeDelta.completed,c=i.completed&&o==="STARTED";l&&!this.props.overtime&&this.clearTimer();var d=function(){s&&s(a.state.timeDelta),a.props.onComplete&&(l||c)&&a.props.onComplete(i,c)};return this.setState(function(h){var f=o||h.status;return i.completed&&!a.props.overtime?f="COMPLETED":!o&&f==="COMPLETED"&&(f="STOPPED"),{timeDelta:i,status:f}},d)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var i=this.props,o=i.daysInHours,s=i.zeroPadTime,a=i.zeroPadDays,l=this.state.timeDelta;return Object.assign(Object.assign({},l),{api:this.getApi(),props:this.props,formatted:Ele(l,{daysInHours:o,zeroPadTime:s,zeroPadDays:a})})}},{key:"render",value:function(){if(this.legacyMode){var i=this.props,o=i.count,s=i.children,a=i.onComplete;return R.createElement(KB,{ref:this.legacyCountdownRef,count:o,onComplete:a},s)}var l=this.props,c=l.className,d=l.overtime,h=l.children,f=l.renderer,m=this.getRenderProps();if(f)return f(m);if(h&&this.state.timeDelta.completed&&!d)return R.cloneElement(h,{countdown:m});var g=m.formatted,y=g.days,b=g.hours,x=g.minutes,w=g.seconds;return R.createElement("span",{className:c},m.total<0?"-":"",y,y?":":"",b,":",x,":",w)}}]),n}(R.Component);$C.defaultProps=Object.assign(Object.assign({},XB),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});$C.propTypes={date:rn.oneOfType([rn.instanceOf(Date),rn.string,rn.number]),daysInHours:rn.bool,zeroPadTime:rn.number,zeroPadDays:rn.number,controlled:rn.bool,intervalDelay:rn.number,precision:rn.number,autoStart:rn.bool,overtime:rn.bool,className:rn.string,children:rn.element,renderer:rn.func,now:rn.func,onMount:rn.func,onStart:rn.func,onPause:rn.func,onStop:rn.func,onTick:rn.func,onComplete:rn.func};const Sle=()=>{const{jail:e}=zn(),{t}=it();return e.open?v.jsx("div",{className:"flex justify-end m-8",children:v.jsxs("div",{className:"max-w-sm p-6 border rounded-lg shadow bg-gray-800 border-gray-700 hover:bg-gray-700",children:[v.jsx("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-white",children:"You are jailed"}),v.jsx($C,{date:Date.now()+e.time*6e4,renderer:({days:n,hours:r,minutes:i,seconds:o,completed:s})=>{if(s)return v.jsx("p",{className:"font-normal text-gray-400",children:t("TIME_IS_UP")});const a=[];n>0&&a.push(`${n} ${n>1?t("DAYS"):t("DAY")}`),r>0&&a.push(`${r} ${r>1?t("HOURS"):t("HOUR")}`),i>0&&a.push(`${i} ${i>1?t("MINUTES"):t("MINUTE")}`),o>0&&a.push(`${o} ${o>1?t("SECONDS"):t("SECOND")}`);const l=a.join(", ");return v.jsxs("p",{className:"font-normal text-gray-400",children:[t("TIME_TO_OUT")," ",l]})}}),v.jsx("p",{className:"font-normal text-gray-200",children:e.text})]})}):null},Tle=""+new URL("AXON-aef6f2f2.png",import.meta.url).href,Cle=()=>{const{setBlockedOpen:e}=zn(),{t}=it(),[n,r]=R.useState(!1),[i,o]=R.useState(ye().format("YYYY")),[s,a]=R.useState(ye().format("MM")),[l,c]=R.useState(ye().format("DD")),[d,h]=R.useState(ye().format("HH")),[f,m]=R.useState(ye().format("mm")),[g,y]=R.useState(ye().format("ss")),[b,x]=R.useState("Player Name"),[w,S]=R.useState("30-A-01");R.useEffect(()=>{const A=P=>{P.key==="Escape"&&n&&Se("offbodycam",{})};return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[n]),fn("toggleBodyCam",A=>{A.open?(e(!0),x(A.playerName),S(A.playerCallsign),r(!0),Se("SetNuiFocus",{focused:!0,notablet:!0})):(e(!1),r(!1),Se("SetNuiFocus",{focused:!1}))});const _=wl({to:{opacity:0},from:{opacity:1},loop:{reverse:!0},config:{duration:1500}});function T(){o(ye().format("YYYY")),a(ye().format("MM")),c(ye().format("DD")),h(ye().format("HH")),m(ye().format("mm")),y(ye().format("ss"))}return R.useEffect(()=>{const A=setInterval(()=>{T()},1e3);return()=>clearInterval(A)},[]),n?v.jsxs("div",{className:"h-[120%] w-full bg-bladck/30 mt-[-2.5vh] pt-6 select-none",children:[v.jsx("div",{className:" float-left w-auto text-right bg-[rgba(0,0,0,0.5)] m-2.5 p-[5px] rounded-[10px] flex flex-col justify-end text-gray-200",children:v.jsx("span",{className:" font-bold",children:t("TEXT_BODYCAM_EXIT")})}),v.jsxs("div",{className:"float-right w-auto text-right bg-[rgba(0,0,0,0.5)] m-2.5 p-[5px] rounded-[10px]",children:[v.jsx("div",{className:"h-full float-right w-auto text-right",children:v.jsx("img",{src:Tle,width:"64",height:"64",border:"0",alt:"QUAXION BODYCAM"})}),v.jsxs("div",{className:"flex flex-col justify-end text-gray-200",children:[v.jsxs("span",{className:" text-right mr-2",children:["REC",v.jsx(ds.i,{style:_,className:"fa fa-circle text-red-700"}),"QUAXION CHASE-CAM"]}),v.jsx("span",{className:" text-right mr-2",id:"player",children:b}),v.jsx("span",{className:" text-right mr-2",id:"agency",children:t("DEPARTMENT_NAME")}),v.jsxs("span",{className:" text-right mr-2",id:"day",children:[l,"/",s,"/",i,d,":",f,":",g]})]})]})]}):null};function Ale(){const{t:e}=it(),{adminCamerasPanel:t,camerasData:n}=zn(),[r,i]=R.useState([]),[o,s]=R.useState(!1),[a,l]=R.useState(""),[c,d]=R.useState(1),[h]=R.useState(10),[f,m]=R.useState(""),[g,y]=R.useState("");R.useEffect(()=>{let M=[];n!=null&&n.spawnedObjects&&Object.keys(n.spawnedObjects).forEach(I=>{const N=n.spawnedObjects[I];new RegExp(a,"i").test(N.name)&&M.push(N)}),i(M)},[n,a,t]);function b(M){Se("deleteCam",{id:M},function(I){Me.success("Camera deleted")})}function x(){if(!f||!g)return Me.error("Please fill all fields");Se("spawnCamera",{name:f,object:g,type:"none",distance:100},function(M){Me.success("Camera created")})}const w=c*h,S=w-h,_=r.slice(S,w),T=Math.ceil(r.length/h),A=()=>{d(c>1?c-1:1)},P=()=>{d(c<T?c+1:T)},k=M=>{d(M)};return t?v.jsx(v.Fragment,{children:v.jsx("section",{className:"bg-transparent p-3 sm:p-5",children:v.jsx("div",{className:"mx-auto max-w-screen-xl px-4 lg:px-12 h-[45vh] w-[50vw] mt-20",children:v.jsxs("div",{className:"bg-gray-800 relative shadow-md rounded-lg overflow-hidden",children:[v.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 space-x-4 p-4",children:[v.jsx("div",{className:"w-2/3",children:v.jsxs("form",{className:"flex items-center",children:[v.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:e("SEARCH")}),v.jsxs("div",{className:"relative w-full",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:v.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5 text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),v.jsx("input",{value:a,onChange:M=>l(M.target.value),type:"text",id:"simple-search",className:"border  text-sm rounded-lg  block w-full pl-10 p-2 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-primary-500 focus:border-primary-500",placeholder:e("SEARCH"),required:""})]})]})}),v.jsxs("button",{onClick:()=>s(!o),type:"button",className:"text-white w-2/1  focus:ring-4 focus:outline-none  font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center bg-blue-600 hover:bg-blue-700 focus:ring-blue-800",children:[e(o?"Exit Creator Mode":"Enter Creator Mode"),v.jsx("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]}),o&&v.jsxs("div",{className:"py-8 px-4 mx-auto max-w-2xl lg:py-16",children:[v.jsx("h2",{className:"mb-4 text-xl font-bold text-white",children:e("Add a camera")}),v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 sm:gap-6",children:[v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-white",children:e("Camera Name")}),v.jsx("input",{onChange:M=>m(M.target.value),type:"text",name:"name",id:"name",className:" border text-sm rounded-lg  block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-primary-500 focus:border-primary-500",placeholder:"",required:""})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"category",className:"block mb-2 text-sm font-medium text-white",children:e("Camera type")}),v.jsx("select",{onChange:M=>{y(M.target.value)},id:"category",className:"border  text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-primary-500 focus:border-primary-500",children:n==null?void 0:n.objects.map((M,I)=>v.jsx("option",{selected:I==0,value:M,children:M}))})]})]}),v.jsx("button",{onClick:x,type:"submit",className:"inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800",children:e("ADD_CAMERA")})]})]}),!o&&v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"w-full text-sm text-left text-gray-400 max-h-[35vh] overflow-auto",children:[v.jsx("thead",{className:"sticky text-xs uppercase bg-gray-700 text-gray-400",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-4 py-3",children:e("Camera Id")}),v.jsx("th",{scope:"col",className:"px-4 py-3",children:e("Camera Name")}),v.jsx("th",{scope:"col",className:"px-4 py-3",children:e("Camera Model")}),v.jsx("th",{scope:"col",className:"px-4 py-3",children:e("Camera Coords")}),v.jsx("th",{scope:"col",className:"px-4 py-3",children:e("Actions")})]})}),v.jsx("tbody",{children:_.map((M,I)=>{var N,U,Y,H;return v.jsxs("tr",{className:"border-b border-gray-700",children:[v.jsx("th",{scope:"row",className:"px-4 py-3 font-medium whitespace-nowrap text-white",children:M==null?void 0:M.id}),v.jsx("td",{className:"px-4 py-3",children:M==null?void 0:M.name}),v.jsx("td",{className:"px-4 py-3",children:M==null?void 0:M.model}),v.jsxs("td",{className:"px-4 py-3",children:["X: ",(N=M==null?void 0:M.coords)==null?void 0:N.x,", Y: ",(U=M==null?void 0:M.coords)==null?void 0:U.y,", Z: ",(Y=M==null?void 0:M.coords)==null?void 0:Y.z,", W: ",(H=M==null?void 0:M.coords)==null?void 0:H.w]}),v.jsx("td",{className:"px-4 py-3",children:v.jsx("button",{onClick:()=>b(M==null?void 0:M.id),className:"focus:outline-none focus:ring-4 text-white font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 bg-red-600 hover:bg-red-700 focus:ring-red-900",children:e("DELETE")})})]})})})]}),r.length===0&&v.jsx("div",{className:"flex justify-center align-middle w-full",children:v.jsxs("div",{className:"justify-center align-middle w-full mx-auto text-center",children:[v.jsx("h1",{className:"mb-4 text-7xl tracking-tight font-extrabold lg:text-9xl text-white",children:e("NO_CAMERAS_FOUND")}),v.jsx("p",{className:"mb-4 text-3xl tracking-tight font-bold md:text-4xl text-white",children:e("NO_CAMERAS_FOUND2")}),v.jsx("p",{className:"mb-4 text-lg font-light  text-gray-400",children:e("NO_CAMERAS_FOUND3")})]})})]}),v.jsxs("nav",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation",children:[v.jsxs("span",{className:"text-sm font-normal text-gray-400",children:[e("Showing"),v.jsxs("span",{className:"font-semibold text-white",children:[S+1,"-",w>r.length?r.length:w]}),e("of"),v.jsx("span",{className:"font-semibold text-white",children:r.length})]}),v.jsxs("ul",{className:"inline-flex items-stretch -space-x-px",children:[v.jsx("li",{children:v.jsxs("button",{onClick:A,className:"flex items-center justify-center h-full py-1.5 px-3 ml-0 rounded-l-lg border  bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700 hover:text-white",children:[v.jsx("span",{className:"sr-only",children:"Previous"}),v.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),Array.from({length:T},(M,I)=>v.jsx("li",{children:v.jsx("button",{onClick:()=>k(I+1),className:`py-2 px-3 leading-tight border focus:outline-none focus:border-gray-300 bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700 hover:text-white ${c===I+1?"bg-gray-700 text-white":""}`,children:I+1})},I)),v.jsx("li",{children:v.jsxs("button",{onClick:P,className:"flex items-center justify-center h-full py-1.5 px-3 leading-tight rounded-r-lg border bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700 hover:text-white",children:[v.jsx("span",{className:"sr-only",children:"Next"}),v.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})]})})})}):null}var YC={},kle=Eo;Object.defineProperty(YC,"__esModule",{value:!0});var _u=YC.default=void 0,Mle=kle(So()),Lle=v,Ple=(0,Mle.default)((0,Lle.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}),"Dashboard");_u=YC.default=Ple;const JB=R.createContext();function Rle({children:e}){const{t}=it(),[n,r]=R.useState(null),[i,o]=R.useState([]),[s,a]=R.useState([]),[l,c]=R.useState([]),[d,h]=R.useState(null),[f,m]=R.useState([]),[g,y]=R.useState(null),[b,x]=R.useState([]),w=I=>{Se("getPlayerBills",{identifier:I}).then(N=>{c(N)}).catch(N=>{})};R.useEffect(()=>{!n||!(n!=null&&n.identifier)||w(n==null?void 0:n.identifier)},[n]);function S(I,N){typeof N=="object"&&(N=JSON.stringify(N)),console.log(`[DEBUG] [MDT] [PROFILES] [FRAGMENTS] [CITIZENS] [EditCurrentPlayerData] ${I} ${N}`),I&&r(U=>{if(!U)return;const Y=U==null?void 0:U.identifier;return Y&&o(H=>{const G=[...H],Z=G.findIndex(ee=>ee.identifier===Y);return G[Z][I]=N||"",G}),U})}const _={time:new Date().getTime(),blocks:[{id:"sample1",type:"header",data:{text:t("CREATE_NEW_INCIDENT"),level:2}}]};function T(){return h({title:"",content:_,citizens_involved:[],criminals_involved:[],officers_involved:[],createdAt:new Date().toISOString(),creating:!0}),{title:"",content:_,citizens_involved:[],criminals_involved:[],officers_involved:[],createdAt:new Date().toISOString(),creating:!0}}function A(I,N){typeof N=="object"&&(N=JSON.stringify(N)),I&&h(U=>{if(!U){const H=T();return Me.success("Creating new incident"),{...H,creating:!0,[I]:N||""}}const Y=U==null?void 0:U.id;if(Y)a(H=>{const G=[...H],Z=G.findIndex(ee=>ee.id===Y);return G[Z][I]=N||"",G});else if(U.creating){try{typeof N=="string"&&(N=JSON.parse(N))}catch{}const H={...U};return H[I]=N||"",H}return U})}const P={time:new Date().getTime(),blocks:[{id:"sample1",type:"header",data:{text:t("CREATE_NEW_BOLO"),level:2}}]};function k(){return y({title:"",content:P,officers_involved:[],createdAt:new Date().toISOString(),creating:!0}),{title:"",content:P,officers_involved:[],createdAt:new Date().toISOString(),creating:!0}}function M(I,N){typeof N=="object"&&(N=JSON.stringify(N)),I&&y(U=>{if(!U){const H=k();return Me.success("Creating new bolo"),{...H,creating:!0,[I]:N||""}}const Y=U==null?void 0:U.id;if(Y)m(H=>{const G=[...H],Z=G.findIndex(ee=>ee.id===Y);return G[Z][I]=N||"",G});else if(U.creating){try{typeof N=="string"&&(N=JSON.parse(N))}catch{}const H={...U};return H[I]=N||"",H}return U})}return v.jsx(JB.Provider,{value:{BoloContentDFTDT:P,updateCurrentBolo:M,StartCreatingBolo:k,bolos:f,setBolos:m,currentBolo:g,setCurrentBolo:y,plateResults:b,setPlateResults:x,selectedBills:l,setSelectedBills:c,selectedPlayer:n,setSelectedPlayer:r,updateCurrentPlayer:S,citizens:i,setCitizens:o,incidents:s,setIncidents:a,currentIncident:d,setCurrentIncident:h,updateCurrentIncident:A,StartCreatingIncident:T},children:e})}function jr(){const e=_e.useContext(JB);if(e===void 0)throw new Error("useData must be used within a DataProvider");return e}function Ole(){const{t:e}=it(),{selectedPlayer:t,updateCurrentPlayer:n,selectedBills:r}=jr();return v.jsxs("div",{className:"[grid-area:bills] bg-gray-800 rounded-lg m-2 p-2 mb-8",children:[v.jsx("h2",{className:" w-[97%] mx-4 justify-center text-center p-2 bg-gray-900 rounded-lg",children:e("CITIZEN_BILLS")}),v.jsx("div",{className:"bg-gray-800 p-4  flex items-center",children:v.jsxs("table",{className:`w-full ${(r==null?void 0:r.length)>=1?"mb-4":""}`,children:[v.jsx("thead",{className:"sticky top-0 bg-gray-700 mb-2",children:v.jsxs("tr",{className:"bg-gray-700",children:[v.jsx("th",{className:"text-left rounded-l-xl font-bold px-4 py-2",children:e("AUTHOR_NAME")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:e("TIMESTAMP")}),v.jsx("th",{className:"text-left font-bold px-4 py-2",children:e("STATUS")}),v.jsx("th",{className:"text-left rounded-r-xl font-bold px-4 py-2",children:e("ITEM")})]})}),v.jsx("tbody",{children:r.map((i,o)=>v.jsxs("tr",{className:"pt-5 bg-gray-900",children:[v.jsx("td",{className:"rounded-l-xl px-2",children:i==null?void 0:i.author_name}),v.jsx("td",{className:"px-2",children:ye(i==null?void 0:i.timestamp).format("YYYY/MM/DD")}),v.jsx("td",{className:"px-2",children:i.status}),v.jsx("td",{className:"rounded-r-xl px-2",children:i.item})]},o))})]})}),r.length<=0&&v.jsx("h2",{className:" w-[97%] mx-4 justify-center text-center p-2 bg-gray-900 rounded-lg",children:e("PLAYER_DOES_HAVE_BILLS")})]})}function Ile(){const{t:e}=it(),{setSelectedPlayer:t,selectedPlayer:n,setUpdateCurrentPlayer:r,citizens:i,setCitizens:o}=jr(),{customData:s}=Rb();wm();const[a,l]=R.useState("");R.useEffect(function(){s!=null&&s.playerName&&(l(s==null?void 0:s.playerName),c({preventDefault:()=>{},search:s==null?void 0:s.playerName},!0))},[]);function c(d,h){d&&d.preventDefault(),h?Se("mdt:profiles:fetch",(d==null?void 0:d.search)||a).then(f=>{o(f)}):Me.promise(Se("mdt:profiles:fetch",(d==null?void 0:d.search)||a).then(f=>{o(f)}),{pending:e("LOADING_DATA"),success:e("DATA_LOADED"),error:e("ERROR_GETTING_DATA")})}return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"[grid-area:search] bg-gray-800 rounded-lg m-2 p-2 max-h-[55vh]",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("CITIZENS")}),v.jsxs("form",{className:"flex items-center",children:[v.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),v.jsxs("div",{className:"relative z-0 w-full",children:[v.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:v.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"})})}),v.jsx("input",{onChange:d=>l(d.target.value),value:a,type:"text",id:"simple-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:e("SEARCH"),required:!0})]}),v.jsxs("button",{onClick:d=>c(d),type:"submit",className:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[v.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),v.jsx("span",{className:"sr-only",children:"Search"})]})]}),v.jsxs("ul",{role:"list",className:"bg-gray-900 rounded-lg mt-2 pb-2 w-full  space-y-2 max-h-[80%] smax-h-64 overflow-auto border-8 border-gray-900 pt-1",children:[i.length===0&&v.jsxs("div",{className:"flex flex-col justify-center items-center pt-2",children:[v.jsx("span",{className:"text-white font-bold",children:e("NO_RESULTS_FOUND")}),v.jsx("span",{className:"text-gray-400",children:e("TRY_SEARCH_SMT_ELSE")})]}),i==null?void 0:i.map((d,h)=>{d.pp=(d==null?void 0:d.pp)==""||!(d!=null&&d.pp)?"https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png":d==null?void 0:d.pp,d.pp=d.pp.replace(/"/g,"");let f=(d==null?void 0:d.incidentsCount)??0,m=Math.min(Math.max(f,0),10),g=Math.floor(m/10*255),y=255-g,b=g.toString(16).padStart(2,"0"),x=y.toString(16).padStart(2,"0"),w="#"+b+x+"00",S=60,_=Math.max(Math.min(g-S,255),0),T=Math.max(Math.min(y-S,255),0),A=_.toString(16).padStart(2,"0"),P=T.toString(16).padStart(2,"0"),k="#"+A+P+"00",I=(g*.2126+y*.7152)/255>.5?0:1,U=Math.floor(I*255).toString(16).padStart(2,"0"),Y="#"+U+U+U;return v.jsx("li",{onClick:()=>t(d),className:"py-3 sm:py-4 bg-gray-800 hover:bg-gray-700 hover:p-3 hover:cursor-pointer transition-all rounded-lg mx-2 p-2",children:v.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("img",{loading:"lazy",className:"p-1 rounded-full ring-2 ring-gray-300 dark:ring-gray-500 bg-gray-900 w-14 h-14",src:d==null?void 0:d.pp,alt:(d==null?void 0:d.firstname)+" "+(d==null?void 0:d.lastname)})}),v.jsx("div",{className:"flex-1 min-w-0",children:v.jsxs("p",{className:"text-sm font-semibold text-gray-900 truncate dark:text-white",children:[d==null?void 0:d.firstname," ",d==null?void 0:d.lastname]})}),v.jsxs("span",{style:{backgroundColor:w,color:Y},className:"inline-flex items-center text-xs font-medium px-2.5 py-0.5 rounded-full text-green-300",children:[v.jsx("span",{style:{backgroundColor:k},className:"w-2 h-2 me-1 dbg-green-500 rounded-full"}),f," Incidents"]})]})},h)})]})]})})}var qC={},Nle=Eo;Object.defineProperty(qC,"__esModule",{value:!0});var QB=qC.default=void 0,Dle=Nle(So()),Ble=v,Fle=(0,Dle.default)((0,Ble.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Room");QB=qC.default=Fle;function jle(){var o,s,a,l,c,d;const{t:e}=it(),{selectedPlayer:t,updateCurrentPlayer:n}=jr(),{newMdtData:r}=zn(),i=h=>{Se("setmarkerplayer",{coords:h},()=>{})};return v.jsxs("div",{className:"[grid-area:houses] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("PROPERTIES")}),v.jsxs("div",{className:"bg-gray-900 rounded-lg mt-2 pb-2 flex flex-col space-y-2 w-full h-[13.5rem] p-4 overflow-auto border-8 border-gray-900 pt-1",children:[!((s=(o=r==null?void 0:r.categories)==null?void 0:o.citizens)!=null&&s.CanViewHouses)&&v.jsx("div",{className:"bg-gray-900 rounded-lg mt-2 pb-2 w-full flex flex-col space-y-2 max-h-[80%] smax-h-64 overflow-auto border-8 border-gray-900 pt-1",children:v.jsxs("div",{className:"flex flex-col justify-center items-center text-center pt-2",children:[v.jsx("span",{className:"text-white font-bold",children:e("NOT_ALLOWED")}),v.jsx("span",{className:"text-gray-400",children:e("NOT_ALLOWED_C")})]})}),((l=(a=r==null?void 0:r.categories)==null?void 0:a.citizens)==null?void 0:l.CanViewHouses)&&v.jsxs(v.Fragment,{children:[(((c=t==null?void 0:t.houses)==null?void 0:c.length)<=0||!(t!=null&&t.houses))&&v.jsxs("div",{className:"flex flex-col justify-center items-center pt-2",children:[v.jsx("span",{className:"text-white font-bold",children:e("NO_RESULTS_FOUND")}),v.jsx("span",{className:"text-gray-400",children:e("TRY_SEARCH_SMT_ELSE")})]}),(d=t==null?void 0:t.houses)==null?void 0:d.map((h,f)=>v.jsx("div",{className:"bg-gray-800 rounded-lg mx-2 p-2",children:v.jsxs("div",{className:"flex flex-row justify-between",children:[v.jsxs("div",{className:"flex flex-col justify-center w-full",children:[v.jsx("span",{className:"text-white font-bold",children:h==null?void 0:h.name}),v.jsx("span",{className:"text-gray-400",children:h==null?void 0:h.id})]}),(h==null?void 0:h.coords)&&v.jsxs("button",{onClick:()=>{i(h==null?void 0:h.coords),Me.success(e("LOCATE_HOUSE"))},type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[v.jsx(QB,{className:"w-5 h-5"}),v.jsx("span",{className:"sr-only",children:"Icon description"})]})]})},f))]})]})]})}var ZC={},zle=Eo;Object.defineProperty(ZC,"__esModule",{value:!0});var ah=ZC.default=void 0,Ule=zle(So()),Hle=v,Gle=(0,Ule.default)((0,Hle.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");ah=ZC.default=Gle;var XC={},Vle=Eo;Object.defineProperty(XC,"__esModule",{value:!0});var eF=XC.default=void 0,Wle=Vle(So()),$le=v,Yle=(0,Wle.default)((0,$le.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");eF=XC.default=Yle;function qle(){var s,a,l,c;const{t:e}=it(),{selectedPlayer:t,updateCurrentPlayer:n}=jr(),{newMdtData:r}=zn(),[i,o]=R.useState([]);return R.useEffect(()=>{if(t)try{(t==null?void 0:t.licenses)===""?o([]):typeof(t==null?void 0:t.licenses)=="string"?o(JSON.parse(t==null?void 0:t.licenses)):o(t==null?void 0:t.licenses)}catch{o(t==null?void 0:t.licenses)}},[t]),v.jsxs("div",{className:"[grid-area:licenses] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("LICENCES")}),v.jsxs("div",{className:"flex flex-wrap justify-center bg-gray-900 rounded-lg mt-2 w-full h-[13.5rem] p-4 overflow-auto",children:[!((a=(s=r==null?void 0:r.categories)==null?void 0:s.citizens)!=null&&a.CanManageLicences)&&v.jsx("div",{className:"bg-gray-900 rounded-lg mt-2 pb-2 w-full flex flex-col space-y-2 max-h-[80%] smax-h-64 overflow-auto border-8 border-gray-900 pt-1",children:v.jsxs("div",{className:"flex flex-col justify-center items-center text-center pt-2",children:[v.jsx("span",{className:"text-white font-bold",children:e("NOT_ALLOWED")}),v.jsx("span",{className:"text-gray-400",children:e("NOT_ALLOWED_C")})]})}),((c=(l=r==null?void 0:r.categories)==null?void 0:l.citizens)==null?void 0:c.CanManageLicences)&&v.jsxs(v.Fragment,{children:[((i==null?void 0:i.length)<=0||!i)&&v.jsx("div",{className:"flex flex-col justify-center items-center pt-2 text-center",children:v.jsx("span",{className:"text-white font-bold",children:e("NO_RESULTS_FOUND")})}),i==null?void 0:i.map((d,h)=>v.jsx("div",{className:"m-1 p-2 h-9 bg-gray-950 rounded-lg flex flex-row space-x-2 justify-center align-middle",children:v.jsx("div",{children:d})},h))]})]})]})}var tF={},Zle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ob(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rw(){}Object.assign(Rw,{default:Rw,register:Rw,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(e){const t=document.createDocumentFragment();Array.isArray(e)||(e=[e]),e.forEach(n=>{const r=n instanceof Node;t.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(t,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){e=arguments.length===0?!0:!!e;const t=this.parentNode,n=window.getComputedStyle(t,null),r=parseInt(n.getPropertyValue("border-top-width")),i=parseInt(n.getPropertyValue("border-left-width")),o=this.offsetTop-t.offsetTop<t.scrollTop,s=this.offsetTop-t.offsetTop+this.clientHeight-r>t.scrollTop+t.clientHeight,a=this.offsetLeft-t.offsetLeft<t.scrollLeft,l=this.offsetLeft-t.offsetLeft+this.clientWidth-i>t.scrollLeft+t.clientWidth,c=o&&!s;(o||s)&&e&&(t.scrollTop=this.offsetTop-t.offsetTop-t.clientHeight/2-r+this.clientHeight/2),(a||l)&&e&&(t.scrollLeft=this.offsetLeft-t.offsetLeft-t.clientWidth/2-i+this.clientWidth/2),(o||s||a||l)&&!e&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(e){const t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};let Xle=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var nF=(e=>(e.VERBOSE="VERBOSE",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e))(nF||{});const tt={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},Kle={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Xm(e,t,n="log",r,i="color: inherit"){if(!("console"in window)||!window.console[n])return;const o=["info","log","warn","error"].includes(n),s=[];switch(Xm.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!o||e)return;break}r&&s.push(r);const a="Editor.js 2.28.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;e&&(o?(s.unshift(l,i),t=`%c${a}%c ${t}`):t=`( ${a} )${t}`);try{o?r?console[n](`${t} %o`,...s):console[n](t,...s):console[n](t)}catch{}}Xm.logLevel="VERBOSE";function Jle(e){Xm.logLevel=e}const Xt=Xm.bind(window,!1),jo=Xm.bind(window,!0);function Lc(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function pn(e){return Lc(e)==="function"||Lc(e)==="asyncfunction"}function vr(e){return Lc(e)==="object"}function El(e){return Lc(e)==="string"}function Qle(e){return Lc(e)==="boolean"}function bR(e){return Lc(e)==="number"}function wR(e){return Lc(e)==="undefined"}function qo(e){return e?Object.keys(e).length===0&&e.constructor===Object:!0}function rF(e){return e>47&&e<58||e===32||e===13||e===229||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223}async function ece(e,t=()=>{},n=()=>{}){async function r(i,o,s){try{await i.function(i.data),await o(wR(i.data)?{}:i.data)}catch{s(wR(i.data)?{}:i.data)}}return e.reduce(async(i,o)=>(await i,r(o,t,n)),Promise.resolve())}function iF(e){return Array.prototype.slice.call(e)}function Cd(e,t){return function(){const n=this,r=arguments;window.setTimeout(()=>e.apply(n,r),t)}}function tce(e){return e.name.split(".").pop()}function nce(e){return/^[-\w]+\/([-+\w]+|\*)$/.test(e)}function rce(e,t,n){let r;return(...i)=>{const o=this,s=()=>{r=null,n||e.apply(o,i)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(s,t),a&&e.apply(o,i)}}function DE(e,t,n=void 0){let r,i,o,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,o=e.apply(r,i),s||(r=i=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const d=t-(c-a);return r=this,i=arguments,d<=0||d>t?(s&&(clearTimeout(s),s=null),a=c,o=e.apply(r,i),s||(r=i=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,d)),o}}function ice(){const e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return t&&(e[t]=!0),e}function Ad(e){return e[0].toUpperCase()+e.slice(1)}function BE(e,...t){if(!t.length)return e;const n=t.shift();if(vr(e)&&vr(n))for(const r in n)vr(n[r])?(e[r]||Object.assign(e,{[r]:{}}),BE(e[r],n[r])):Object.assign(e,{[r]:n[r]});return BE(e,...t)}function KC(e){const t=ice();return e=e.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),t.mac?e=e.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):e=e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),e}function oce(e){try{return new URL(e).href}catch{}return e.substring(0,2)==="//"?window.location.protocol+e:window.location.origin+e}function sce(){return Xle(10)}function ace(e){window.open(e,"_blank")}function lce(e=""){return`${e}${Math.floor(Math.random()*1e8).toString(16)}`}function FE(e,t,n){const r=`${t} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;e&&jo(r,"warn")}function lh(e,t,n){const r=n.value?"value":"get",i=n[r],o=`#${t}Cache`;if(n[r]=function(...s){return this[o]===void 0&&(this[o]=i.apply(this,...s)),this[o]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete e[o],s.apply(this,a)}}return n}const oF=650;function vc(){return window.matchMedia(`(max-width: ${oF}px)`).matches}const _R=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function cce(e,t){const n=Array.isArray(e)||vr(e),r=Array.isArray(t)||vr(t);return n||r?JSON.stringify(e)===JSON.stringify(t):e===t}let ce=class Hr{static isSingleTag(t){return t.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}static isLineBreakTag(t){return t&&t.tagName&&["BR","WBR"].includes(t.tagName)}static make(t,n=null,r={}){const i=document.createElement(t);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o]);return i}static text(t){return document.createTextNode(t)}static append(t,n){Array.isArray(n)?n.forEach(r=>t.appendChild(r)):t.appendChild(n)}static prepend(t,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>t.prepend(r))):t.prepend(n)}static swap(t,n){const r=document.createElement("div"),i=t.parentNode;i.insertBefore(r,t),i.insertBefore(t,n),i.insertBefore(n,r),i.removeChild(r)}static find(t=document,n){return t.querySelector(n)}static get(t){return document.getElementById(t)}static findAll(t=document,n){return t.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(t=>`input[type="${t}"]`).join(", ")}static findAllInputs(t){return iF(t.querySelectorAll(Hr.allInputsSelector)).reduce((n,r)=>Hr.isNativeInput(r)||Hr.containsOnlyInlineElements(r)?[...n,r]:[...n,...Hr.getDeepestBlockElements(r)],[])}static getDeepestNode(t,n=!1){const r=n?"lastChild":"firstChild",i=n?"previousSibling":"nextSibling";if(t&&t.nodeType===Node.ELEMENT_NODE&&t[r]){let o=t[r];if(Hr.isSingleTag(o)&&!Hr.isNativeInput(o)&&!Hr.isLineBreakTag(o))if(o[i])o=o[i];else if(o.parentNode[i])o=o.parentNode[i];else return o.parentNode;return this.getDeepestNode(o,n)}return t}static isElement(t){return bR(t)?!1:t&&t.nodeType&&t.nodeType===Node.ELEMENT_NODE}static isFragment(t){return bR(t)?!1:t&&t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(t){return t.contentEditable==="true"}static isNativeInput(t){const n=["INPUT","TEXTAREA"];return t&&t.tagName?n.includes(t.tagName):!1}static canSetCaret(t){let n=!0;if(Hr.isNativeInput(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=Hr.isContentEditable(t);return n}static isNodeEmpty(t){let n;return this.isSingleTag(t)&&!this.isLineBreakTag(t)?!1:(this.isElement(t)&&this.isNativeInput(t)?n=t.value:n=t.textContent.replace("",""),n.trim().length===0)}static isLeaf(t){return t?t.childNodes.length===0:!1}static isEmpty(t){t.normalize();const n=[t];for(;n.length>0;)if(t=n.shift(),!!t){if(this.isLeaf(t)&&!this.isNodeEmpty(t))return!1;t.childNodes&&n.push(...Array.from(t.childNodes))}return!0}static isHTMLString(t){const n=Hr.make("div");return n.innerHTML=t,n.childElementCount>0}static getContentLength(t){return Hr.isNativeInput(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:t.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(t){let n;El(t)?(n=document.createElement("div"),n.innerHTML=t):n=t;const r=i=>!Hr.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(t){return Hr.containsOnlyInlineElements(t)?[t]:Array.from(t.children).reduce((n,r)=>[...n,...Hr.getDeepestBlockElements(r)],[])}static getHolder(t){return El(t)?document.getElementById(t):t}static isAnchor(t){return t.tagName.toLowerCase()==="a"}static offset(t){const n=t.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,o=n.top+i,s=n.left+r;return{top:o,left:s,bottom:o+n.height,right:s+n.width}}};const uce={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},dce={Text:"",Link:"",Bold:"",Italic:""},hce={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},fce={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},sF={ui:uce,toolNames:dce,tools:hce,blockTunes:fce},Eu=class{static ui(e,t){return Eu._t(e,t)}static t(e,t){return Eu._t(e,t)}static setDictionary(e){Eu.currentDictionary=e}static _t(e,t){const n=Eu.getNamespace(e);return!n||!n[t]?t:n[t]}static getNamespace(e){return e.split(".").reduce((t,n)=>!t||!Object.keys(t).length?{}:t[n],Eu.currentDictionary)}};let fi=Eu;fi.currentDictionary=sF;class aF extends Error{}class Ib{constructor(){this.subscribers={}}on(t,n){t in this.subscribers||(this.subscribers[t]=[]),this.subscribers[t].push(n)}once(t,n){t in this.subscribers||(this.subscribers[t]=[]);const r=i=>{const o=n(i),s=this.subscribers[t].indexOf(r);return s!==-1&&this.subscribers[t].splice(s,1),o};this.subscribers[t].push(r)}emit(t,n){qo(this.subscribers)||!this.subscribers[t]||this.subscribers[t].reduce((r,i)=>{const o=i(r);return o!==void 0?o:r},n)}off(t,n){if(this.subscribers[t]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${t.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[t].length;r++)if(this.subscribers[t][r]===n){delete this.subscribers[t][r];break}}destroy(){this.subscribers={}}}function nc(e){Object.setPrototypeOf(this,{get id(){return e.id},get name(){return e.name},get config(){return e.config},get holder(){return e.holder},get isEmpty(){return e.isEmpty},get selected(){return e.selected},set stretched(t){e.stretched=t},get stretched(){return e.stretched},call(t,n){return e.call(t,n)},save(){return e.save()},validate(t){return e.validate(t)},dispatchChange(){e.dispatchChange()}})}class JC{constructor(){this.allListeners=[]}on(t,n,r,i=!1){const o=lce("l"),s={id:o,element:t,eventType:n,handler:r,options:i};if(!this.findOne(t,n,r))return this.allListeners.push(s),t.addEventListener(n,r,i),o}off(t,n,r,i){const o=this.findAll(t,n,r);o.forEach((s,a)=>{const l=this.allListeners.indexOf(o[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(t){const n=this.findById(t);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(t,n,r){const i=this.findAll(t,n,r);return i.length>0?i[0]:null}findAll(t,n,r){let i;const o=t?this.findByEventTarget(t):[];return t&&n&&r?i=o.filter(s=>s.eventType===n&&s.handler===r):t&&n?i=o.filter(s=>s.eventType===n):i=o,i}removeAll(){this.allListeners.map(t=>{t.element.removeEventListener(t.eventType,t.handler,t.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(t){return this.allListeners.filter(n=>{if(n.element===t)return n})}findByType(t){return this.allListeners.filter(n=>{if(n.eventType===t)return n})}findByHandler(t){return this.allListeners.filter(n=>{if(n.handler===t)return n})}findById(t){return this.allListeners.find(n=>n.id===t)}}let Bt=class lF{constructor({config:t,eventsDispatcher:n}){if(this.nodes={},this.listeners=new JC,this.readOnlyMutableListeners={on:(r,i,o,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,i,o,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===lF)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=t,this.eventsDispatcher=n}set state(t){this.Editor=t}removeAllNodes(){for(const t in this.nodes){const n=this.nodes[t];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},Xe=class Ra{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const t=window.getSelection();return t?t.anchorNode:null}static get anchorElement(){const t=window.getSelection();if(!t)return null;const n=t.anchorNode;return n?ce.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const t=window.getSelection();return t?t.anchorOffset:null}static get isCollapsed(){const t=window.getSelection();return t?t.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(Ra.get())}static isSelectionAtEditor(t){if(!t)return!1;let n=t.anchorNode||t.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${Ra.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(t){if(!t)return;let n=t.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${Ra.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!Ra.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(t){return t&&t.rangeCount?t.getRangeAt(0):null}static get rect(){let t=document.selection,n,r={x:0,y:0,width:0,height:0};if(t&&t.type!=="Control")return t=t,n=t.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return Xt("Method window.getSelection is not supported","warn"),r;if(t=window.getSelection(),t.rangeCount===null||isNaN(t.rangeCount))return Xt("Method SelectionUtils.rangeCount is not supported","warn"),r;if(t.rangeCount===0)return r;if(n=t.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("")),n.insertNode(i),r=i.getBoundingClientRect();const o=i.parentNode;o.removeChild(i),o.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(t,n=0){const r=document.createRange(),i=window.getSelection();return ce.isNativeInput(t)?ce.canSetCaret(t)?(t.focus(),t.selectionStart=t.selectionEnd=n,t.getBoundingClientRect()):void 0:(r.setStart(t,n),r.setEnd(t,n),i.removeAllRanges(),i.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(t){const n=Ra.range;return n===null?!1:t.contains(n.startContainer)}static addFakeCursor(){const t=Ra.range;if(t===null)return;const n=ce.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",t.collapse(),t.insertNode(n)}static isFakeCursorInsideContainer(t){return ce.find(t,".codex-editor__fake-cursor")!==null}static removeFakeCursor(t=document.body){const n=ce.find(t,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=Ra.range}restore(){if(!this.savedSelectionRange)return;const t=window.getSelection();t.removeAllRanges(),t.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(t.focusNode),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}findParentTag(t,n,r=10){const i=window.getSelection();let o=null;return!i||!i.anchorNode||!i.focusNode?null:([i.anchorNode,i.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===t&&(o=s,n&&s.classList&&!s.classList.contains(n)&&(o=null),o));)s=s.parentNode,a--}),o)}expandToTag(t){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(t),n.addRange(r)}};function pce(e,t){const{type:n,target:r,addedNodes:i,removedNodes:o}=e;if(r===t)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return t.contains(l)}const s=Array.from(i).some(l=>t.contains(l)),a=Array.from(o).some(l=>t.contains(l));return s||a}const jE="redactor dom changed",cF="block changed",uF="fake cursor is about to be toggled",dF="fake cursor have been set";function ER(e,t){return e.mergeable&&e.name===t.name}function mce(e,t){const n=t==null?void 0:t.export;return pn(n)?n(e):El(n)?e[n]:(n!==void 0&&Xt("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function gce(e,t){const n=t==null?void 0:t.import;return pn(n)?n(e):El(n)?{[n]:e}:(n!==void 0&&Xt("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var Ys=(e=>(e.APPEND_CALLBACK="appendCallback",e.RENDERED="rendered",e.MOVED="moved",e.UPDATED="updated",e.REMOVED="removed",e.ON_PASTE="onPaste",e))(Ys||{});class qn extends Ib{constructor({id:t=sce(),data:n,tool:r,api:i,readOnly:o,tunesData:s},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,d=l instanceof InputEvent;!c&&!d&&this.detectToolRootChange(l);let h;c||d?h=!0:h=!(l.length>0&&l.every(f=>{const{addedNodes:m,removedNodes:g,target:y}=f;return[...Array.from(m),...Array.from(g),y].some(b=>ce.isElement(b)?b.dataset.mutationFree==="true":!1)})),h&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=t,this.settings=r.settings,this.config=r.settings.config||{},this.api=i,this.editorEventBus=a||null,this.blockAPI=new nc(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,o),this.tunes=r.tunes,this.composeTunes(s),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const t=ce.findAllInputs(this.holder);return this.inputIndex>t.length-1&&(this.inputIndex=t.length-1),this.cachedInputs=t,t}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(t){const n=this.inputs.findIndex(r=>r===t||r.contains(t));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const t=this.inputs;return t[t.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(t=>t&&!qo(t.data)?t.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return pn(this.toolInstance.merge)}get isEmpty(){const t=ce.isEmpty(this.pluginsContent),n=!this.hasMedia;return t&&n}get hasMedia(){const t=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(t.join(","))}set focused(t){this.holder.classList.toggle(qn.CSS.focused,t)}get focused(){return this.holder.classList.contains(qn.CSS.focused)}set selected(t){var n,r;this.holder.classList.toggle(qn.CSS.selected,t);const i=t===!0&&Xe.isRangeInsideContainer(this.holder),o=t===!1&&Xe.isFakeCursorInsideContainer(this.holder);(i||o)&&((n=this.editorEventBus)==null||n.emit(uF,{state:t}),i?Xe.addFakeCursor():Xe.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(dF,{state:t}))}get selected(){return this.holder.classList.contains(qn.CSS.selected)}set stretched(t){this.holder.classList.toggle(qn.CSS.wrapperStretched,t)}get stretched(){return this.holder.classList.contains(qn.CSS.wrapperStretched)}set dropTarget(t){this.holder.classList.toggle(qn.CSS.dropTarget,t)}get pluginsContent(){return this.toolRenderedElement}call(t,n){if(pn(this.toolInstance[t])){t==="appendCallback"&&Xt("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[t].call(this.toolInstance,n)}catch(r){Xt(`Error during '${t}' call: ${r.message}`,"error")}}}async mergeWith(t){await this.toolInstance.merge(t)}async save(){const t=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([o,s])=>{if(pn(s.save))try{n[o]=s.save()}catch(a){Xt(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let i;return Promise.resolve(t).then(o=>(i=window.performance.now(),{id:this.id,tool:this.name,data:o,tunes:n,time:i-r})).catch(o=>{Xt(`Saving process for ${this.name} tool failed due to the ${o}`,"log","red")})}async validate(t){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(t)),n}getTunes(){const t=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],i=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(o=>o.render());return[r,i].flat().forEach(o=>{ce.isElement(o)?t.appendChild(o):Array.isArray(o)?n.push(...o):n.push(o)}),[n,t]}updateCurrentInput(){this.currentInput=ce.isNativeInput(document.activeElement)||!Xe.anchorNode?document.activeElement:Xe.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),pn(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const t=this.tool.toolbox;if(t.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return t.find(r=>Object.entries(r.data).some(([i,o])=>n[i]&&cce(n[i],o)))}async exportDataAsString(){const t=await this.data;return mce(t,this.tool.conversionConfig)}compose(){const t=ce.make("div",qn.CSS.wrapper),n=ce.make("div",qn.CSS.content),r=this.toolInstance.render();t.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let i=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(o=>{if(pn(o.wrap))try{i=o.wrap(i)}catch(s){Xt(`Tune ${o.constructor.name} wrap method throws an Error %o`,"warn",s)}}),t.appendChild(i),t}composeTunes(t){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(t[n.name],this.blockAPI))}),Object.entries(t).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(t=>{t.addEventListener("focus",this.handleFocus),ce.isNativeInput(t)&&t.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(t=>{t.removeEventListener("focus",this.handleFocus),ce.isNativeInput(t)&&t.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var t;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(i=>pce(i,this.toolRenderedElement))&&this.didMutated(r)},(t=this.editorEventBus)==null||t.on(jE,this.redactorDomChangedCallback)}unwatchBlockMutations(){var t;(t=this.editorEventBus)==null||t.off(jE,this.redactorDomChangedCallback)}detectToolRootChange(t){t.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}}class vce extends Bt{constructor(){super(...arguments),this.insert=(t=this.config.defaultBlock,n={},r={},i,o,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:t,data:n,index:i,needToFocus:o,replace:s});return new nc(l)},this.composeBlockData=async t=>{const n=this.Editor.Tools.blockTools.get(t);return new qn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(t,n)=>{const{BlockManager:r}=this.Editor,i=r.getBlockById(t);if(i===void 0)throw new Error(`Block with id "${t}" not found`);const o=await r.update(i,n);return new nc(o)},this.convert=(t,n,r)=>{var i,o;const{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(t);if(!l)throw new Error(`Block with id "${t}" not found`);const c=a.blockTools.get(l.name),d=a.blockTools.get(n);if(!d)throw new Error(`Block Tool with type "${n}" not found`);const h=((i=c==null?void 0:c.conversionConfig)==null?void 0:i.export)!==void 0,f=((o=d.conversionConfig)==null?void 0:o.import)!==void 0;if(h&&f)s.convert(l,n,r);else{const m=[h?!1:Ad(l.name),f?!1:Ad(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${n}" is not possible. ${m} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(t,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=t.map(({id:i,type:o,data:s})=>this.Editor.BlockManager.composeBlock({id:i,tool:o||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,n),r.map(i=>new nc(i))}}get methods(){return{clear:()=>this.clear(),render:t=>this.render(t),renderFromHTML:t=>this.renderFromHTML(t),delete:t=>this.delete(t),swap:(t,n)=>this.swap(t,n),move:(t,n)=>this.move(t,n),getBlockByIndex:t=>this.getBlockByIndex(t),getById:t=>this.getById(t),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:t=>this.getBlockIndex(t),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(t,n=!0)=>this.stretchBlock(t,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(t){const n=this.Editor.BlockManager.getBlockById(t);if(!n){jo("There is no block with id `"+t+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(t){const n=this.Editor.BlockManager.getBlockByIndex(t);if(n===void 0){jo("There is no block at index `"+t+"`","warn");return}return new nc(n)}getById(t){const n=this.Editor.BlockManager.getBlockById(t);return n===void 0?(jo("There is no block with id `"+t+"`","warn"),null):new nc(n)}swap(t,n){Xt("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(t,n)}move(t,n){this.Editor.BlockManager.move(t,n)}delete(t=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(t);this.Editor.BlockManager.removeBlock(n)}catch(n){jo(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(t){if(t===void 0||t.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(t.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(t){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(t,!0)}stretchBlock(t,n=!0){FE(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(t);r&&(r.stretched=n)}insertNewBlock(){Xt("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(t){if(typeof t!="number")throw new Error("Index should be a number");if(t<0)throw new Error("Index should be greater than or equal to 0");if(t===null)throw new Error("Index should be greater than or equal to 0")}}class yce extends Bt{constructor(){super(...arguments),this.setToFirstBlock=(t=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,t,n),!0):!1,this.setToLastBlock=(t=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,t,n),!0):!1,this.setToPreviousBlock=(t=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,t,n),!0):!1,this.setToNextBlock=(t=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,t,n),!0):!1,this.setToBlock=(t,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[t]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[t],n,r),!0):!1,this.focus=(t=!1)=>t?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class xce extends Bt{get methods(){return{emit:(t,n)=>this.emit(t,n),off:(t,n)=>this.off(t,n),on:(t,n)=>this.on(t,n)}}on(t,n){this.eventsDispatcher.on(t,n)}emit(t,n){this.eventsDispatcher.emit(t,n)}off(t,n){this.eventsDispatcher.off(t,n)}}class QC extends Bt{static getNamespace(t){return t.isTune()?`blockTunes.${t.name}`:`tools.${t.name}`}get methods(){return{t:()=>{jo("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(t){return Object.assign(this.methods,{t:n=>fi.t(QC.getNamespace(t),n)})}}class bce extends Bt{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(t){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(t)})}}class wce extends Bt{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class _ce extends Bt{get methods(){return{on:(t,n,r,i)=>this.on(t,n,r,i),off:(t,n,r,i)=>this.off(t,n,r,i),offById:t=>this.offById(t)}}on(t,n,r,i){return this.listeners.on(t,n,r,i)}off(t,n,r,i){this.listeners.off(t,n,r,i)}offById(t){this.listeners.offById(t)}}var zE={},Ece={get exports(){return zE},set exports(e){zE=e}};(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=0)}([function(n,r,i){i(1),n.exports=function(){var o=i(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=o.getWrapper(),document.body.appendChild(a)})();var c=null,d=l.time||8e3;switch(l.type){case"confirm":c=o.confirm(l);break;case"prompt":c=o.prompt(l);break;default:c=o.alert(l),window.setTimeout(function(){c.remove()},d)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,i){var o=i(2);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",h=l[3];if(!h)return d;if(c&&typeof btoa=="function"){var f=(g=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),m=h.sources.map(function(y){return"/*# sourceURL="+h.sourceRoot+y+" */"});return[d].concat(m).concat([f]).join(`
`)}var g;return[d].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},o.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var h=s[c];typeof h[0]=="number"&&l[h[0]]||(a&&!h[2]?h[2]=a:a&&(h[2]="("+h[2]+") and ("+a+")"),o.push(h))}},o}},function(n,r,i){var o,s,a={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(k){var M={};return function(I){if(typeof I=="function")return I();if(M[I]===void 0){var N=(function(U){return document.querySelector(U)}).call(this,I);if(window.HTMLIFrameElement&&N instanceof window.HTMLIFrameElement)try{N=N.contentDocument.head}catch{N=null}M[I]=N}return M[I]}}(),d=null,h=0,f=[],m=i(5);function g(k,M){for(var I=0;I<k.length;I++){var N=k[I],U=a[N.id];if(U){U.refs++;for(var Y=0;Y<U.parts.length;Y++)U.parts[Y](N.parts[Y]);for(;Y<N.parts.length;Y++)U.parts.push(_(N.parts[Y],M))}else{var H=[];for(Y=0;Y<N.parts.length;Y++)H.push(_(N.parts[Y],M));a[N.id]={id:N.id,refs:1,parts:H}}}}function y(k,M){for(var I=[],N={},U=0;U<k.length;U++){var Y=k[U],H=M.base?Y[0]+M.base:Y[0],G={css:Y[1],media:Y[2],sourceMap:Y[3]};N[H]?N[H].parts.push(G):I.push(N[H]={id:H,parts:[G]})}return I}function b(k,M){var I=c(k.insertInto);if(!I)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var N=f[f.length-1];if(k.insertAt==="top")N?N.nextSibling?I.insertBefore(M,N.nextSibling):I.appendChild(M):I.insertBefore(M,I.firstChild),f.push(M);else if(k.insertAt==="bottom")I.appendChild(M);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var U=c(k.insertInto+" "+k.insertAt.before);I.insertBefore(M,U)}}function x(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var M=f.indexOf(k);M>=0&&f.splice(M,1)}function w(k){var M=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),S(M,k.attrs),b(k,M),M}function S(k,M){Object.keys(M).forEach(function(I){k.setAttribute(I,M[I])})}function _(k,M){var I,N,U,Y;if(M.transform&&k.css){if(!(Y=M.transform(k.css)))return function(){};k.css=Y}if(M.singleton){var H=h++;I=d||(d=w(M)),N=P.bind(null,I,H,!1),U=P.bind(null,I,H,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(I=function(G){var Z=document.createElement("link");return G.attrs.type===void 0&&(G.attrs.type="text/css"),G.attrs.rel="stylesheet",S(Z,G.attrs),b(G,Z),Z}(M),N=(function(G,Z,ee){var V=ee.css,B=ee.sourceMap,D=Z.convertToAbsoluteUrls===void 0&&B;(Z.convertToAbsoluteUrls||D)&&(V=m(V)),B&&(V+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var J=new Blob([V],{type:"text/css"}),j=G.href;G.href=URL.createObjectURL(J),j&&URL.revokeObjectURL(j)}).bind(null,I,M),U=function(){x(I),I.href&&URL.revokeObjectURL(I.href)}):(I=w(M),N=(function(G,Z){var ee=Z.css,V=Z.media;if(V&&G.setAttribute("media",V),G.styleSheet)G.styleSheet.cssText=ee;else{for(;G.firstChild;)G.removeChild(G.firstChild);G.appendChild(document.createTextNode(ee))}}).bind(null,I),U=function(){x(I)});return N(k),function(G){if(G){if(G.css===k.css&&G.media===k.media&&G.sourceMap===k.sourceMap)return;N(k=G)}else U()}}n.exports=function(k,M){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(M=M||{}).attrs=typeof M.attrs=="object"?M.attrs:{},M.singleton||typeof M.singleton=="boolean"||(M.singleton=l()),M.insertInto||(M.insertInto="head"),M.insertAt||(M.insertAt="bottom");var I=y(k,M);return g(I,M),function(N){for(var U=[],Y=0;Y<I.length;Y++){var H=I[Y];(G=a[H.id]).refs--,U.push(G)}for(N&&g(y(N,M),M),Y=0;Y<U.length;Y++){var G;if((G=U[Y]).refs===0){for(var Z=0;Z<G.parts.length;Z++)G.parts[Z]();delete a[G.id]}}}};var T,A=(T=[],function(k,M){return T[k]=M,T.filter(Boolean).join(`
`)});function P(k,M,I,N){var U=I?"":N.css;if(k.styleSheet)k.styleSheet.cssText=A(M,U);else{var Y=document.createTextNode(U),H=k.childNodes;H[M]&&k.removeChild(H[M]),H.length?k.insertBefore(Y,H[M]):k.appendChild(Y)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,a=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,h=c.trim().replace(/^"(.*)"$/,function(f,m){return m}).replace(/^'(.*)'$/,function(f,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?l:(d=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:a+h.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,r,i){var o,s,a,l,c,d,h,f,m;n.exports=(o="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",d="cdx-notify__input",h="cdx-notify__button",f="cdx-notify__btns-wrapper",{alert:m=function(g){var y=document.createElement("DIV"),b=document.createElement("DIV"),x=g.message,w=g.style;return y.classList.add(s),w&&y.classList.add(s+"--"+w),y.innerHTML=x,b.classList.add(a),b.addEventListener("click",y.remove.bind(y)),y.appendChild(b),y},confirm:function(g){var y=m(g),b=document.createElement("div"),x=document.createElement("button"),w=document.createElement("button"),S=y.querySelector("."+a),_=g.cancelHandler,T=g.okHandler;return b.classList.add(f),x.innerHTML=g.okText||"Confirm",w.innerHTML=g.cancelText||"Cancel",x.classList.add(h),w.classList.add(h),x.classList.add(l),w.classList.add(c),_&&typeof _=="function"&&(w.addEventListener("click",_),S.addEventListener("click",_)),T&&typeof T=="function"&&x.addEventListener("click",T),x.addEventListener("click",y.remove.bind(y)),w.addEventListener("click",y.remove.bind(y)),b.appendChild(x),b.appendChild(w),y.appendChild(b),y},prompt:function(g){var y=m(g),b=document.createElement("div"),x=document.createElement("button"),w=document.createElement("input"),S=y.querySelector("."+a),_=g.cancelHandler,T=g.okHandler;return b.classList.add(f),x.innerHTML=g.okText||"Ok",x.classList.add(h),x.classList.add(l),w.classList.add(d),g.placeholder&&w.setAttribute("placeholder",g.placeholder),g.default&&(w.value=g.default),g.inputType&&(w.type=g.inputType),_&&typeof _=="function"&&S.addEventListener("click",_),T&&typeof T=="function"&&x.addEventListener("click",function(){T(w.value)}),x.addEventListener("click",y.remove.bind(y)),b.appendChild(w),b.appendChild(x),y.appendChild(b),y},getWrapper:function(){var g=document.createElement("DIV");return g.classList.add(o),g}})}])})})(Ece);const Sce=Ob(zE);class Tce{show(t){Sce.show(t)}}class Cce extends Bt{constructor({config:t,eventsDispatcher:n}){super({config:t,eventsDispatcher:n}),this.notifier=new Tce}get methods(){return{show:t=>this.show(t)}}show(t){return this.notifier.show(t)}}class Ace extends Bt{get methods(){const t=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return t()}}}toggle(t){return this.Editor.ReadOnly.toggle(t)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var UE={},kce={get exports(){return UE},set exports(e){UE=e}};(function(e,t){(function(n,r){e.exports=r()})(Zle,function(){function n(h){var f=h.tags,m=Object.keys(f),g=m.map(function(y){return typeof f[y]}).every(function(y){return y==="object"||y==="boolean"||y==="function"});if(!g)throw new Error("The configuration was invalid");this.config=h}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(h){return r.indexOf(h.nodeName)!==-1}var o=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(h){return o.indexOf(h.nodeName)!==-1}n.prototype.clean=function(h){const f=document.implementation.createHTMLDocument(),m=f.createElement("div");return m.innerHTML=h,this._sanitize(f,m),m.innerHTML},n.prototype._sanitize=function(h,f){var m=a(h,f),g=m.firstChild();if(g)do{if(g.nodeType===Node.TEXT_NODE)if(g.data.trim()===""&&(g.previousElementSibling&&i(g.previousElementSibling)||g.nextElementSibling&&i(g.nextElementSibling))){f.removeChild(g),this._sanitize(h,f);break}else continue;if(g.nodeType===Node.COMMENT_NODE){f.removeChild(g),this._sanitize(h,f);break}var y=s(g),b;y&&(b=Array.prototype.some.call(g.childNodes,i));var x=!!f.parentNode,w=i(f)&&i(g)&&x,S=g.nodeName.toLowerCase(),_=l(this.config,S,g),T=y&&b;if(T||c(g,_)||!this.config.keepNestedBlockElements&&w){if(!(g.nodeName==="SCRIPT"||g.nodeName==="STYLE"))for(;g.childNodes.length>0;)f.insertBefore(g.childNodes[0],g);f.removeChild(g),this._sanitize(h,f);break}for(var A=0;A<g.attributes.length;A+=1){var P=g.attributes[A];d(P,_,g)&&(g.removeAttribute(P.name),A=A-1)}this._sanitize(h,g)}while(g=m.nextSibling())};function a(h,f){return h.createTreeWalker(f,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(h,f,m){return typeof h.tags[f]=="function"?h.tags[f](m):h.tags[f]}function c(h,f){return typeof f>"u"?!0:typeof f=="boolean"?!f:!1}function d(h,f,m){var g=h.name.toLowerCase();return f===!0?!1:typeof f[g]=="function"?!f[g](h.value,m):typeof f[g]>"u"||f[g]===!1?!0:typeof f[g]=="string"?f[g]!==h.value:!1}return n})})(kce);const Mce=UE;function hF(e,t){return e.map(n=>{const r=pn(t)?t(n.tool):t;return qo(r)||(n.data=eA(n.data,r)),n})}function ea(e,t={}){const n={tags:t};return new Mce(n).clean(e)}function eA(e,t){return Array.isArray(e)?Lce(e,t):vr(e)?Pce(e,t):El(e)?Rce(e,t):e}function Lce(e,t){return e.map(n=>eA(n,t))}function Pce(e,t){const n={};for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;const i=e[r],o=Oce(t[r])?t[r]:t;n[r]=eA(i,o)}return n}function Rce(e,t){return vr(t)?ea(e,t):t===!1?ea(e,{}):e}function Oce(e){return vr(e)||Qle(e)||pn(e)}class Ice extends Bt{get methods(){return{clean:(t,n)=>this.clean(t,n)}}clean(t,n){return ea(t,n)}}class Nce extends Bt{get methods(){return{save:()=>this.save()}}save(){const t="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(jo(t,"warn"),Promise.reject(new Error(t))):this.Editor.Saver.save()}}class Dce extends Bt{get methods(){return{findParentTag:(t,n)=>this.findParentTag(t,n),expandToTag:t=>this.expandToTag(t)}}findParentTag(t,n){return new Xe().findParentTag(t,n)}expandToTag(t){new Xe().expandToTag(t)}}class Bce extends Bt{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class Fce extends Bt{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:t=>this.toggleBlockSettings(t),toggleToolbox:t=>this.toggleToolbox(t)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(t){if(this.Editor.BlockManager.currentBlockIndex===-1){jo("Could't toggle the Toolbar because there is no block selected ","warn");return}t??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(t){if(this.Editor.BlockManager.currentBlockIndex===-1){jo("Could't toggle the Toolbox because there is no block selected ","warn");return}t??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var HE={},jce={get exports(){return HE},set exports(e){HE=e}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=0)}([function(n,r,i){n.exports=i(1)},function(n,r,i){i.r(r),i.d(r,"default",function(){return o});class o{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const d=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(d.hidingDelay&&(this.hidingDelay=d.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),d.placement){case"top":this.placeTop(a,d);break;case"left":this.placeLeft(a,d);break;case"right":this.placeRight(a,d);break;case"bottom":default:this.placeBottom(a,d)}d&&d.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},d.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=i(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,h=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",d,h)}placeTop(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,h=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",d,h)}placeLeft(a,l){const c=a.getBoundingClientRect(),d=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,h=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",d,h)}placeRight(a,l){const c=a.getBoundingClientRect(),d=c.right+this.offsetRight+l.marginRight,h=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",d,h)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const d=document.createElement(a);Array.isArray(l)?d.classList.add(...l):l&&d.classList.add(l);for(const h in c)c.hasOwnProperty(h)&&(d[h]=c[h]);return d}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(jce);const zce=Ob(HE);class tA{constructor(){this.lib=new zce}destroy(){this.lib.destroy()}show(t,n,r){this.lib.show(t,n,r)}hide(t=!1){this.lib.hide(t)}onHover(t,n,r){this.lib.onHover(t,n,r)}}class Uce extends Bt{constructor({config:t,eventsDispatcher:n}){super({config:t,eventsDispatcher:n}),this.tooltip=new tA}destroy(){this.tooltip.destroy()}get methods(){return{show:(t,n,r)=>this.show(t,n,r),hide:()=>this.hide(),onHover:(t,n,r)=>this.onHover(t,n,r)}}show(t,n,r){this.tooltip.show(t,n,r)}hide(){this.tooltip.hide()}onHover(t,n,r){this.tooltip.onHover(t,n,r)}}class Hce extends Bt{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function fF(e,t){const n={};return Object.entries(e).forEach(([r,i])=>{if(vr(i)){const o=t?`${t}.${r}`:r;Object.values(i).every(s=>El(s))?n[r]=o:n[r]=fF(i,o);return}n[r]=i}),n}const zo=fF(sF);function Gce(e,t){const n={};return Object.keys(e).forEach(r=>{const i=t[r];i!==void 0?n[i]=e[r]:n[r]=e[r]}),n}const Vce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',pF='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',Wce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',$ce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',Yce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',qce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',SR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Zce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Xce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Kce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Jce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Qce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';class Dn{constructor(t){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(Dn.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(Dn.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(Dn.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=t,this.nodes.root=this.make(t)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(Dn.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(t){this.nodes.root.classList.toggle(Dn.CSS.active,t)}toggleHidden(t){this.nodes.root.classList.toggle(Dn.CSS.hidden,t)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(t){const n=ce.make("div",Dn.CSS.container);return t.name&&(n.dataset.itemName=t.name),this.nodes.icon=ce.make("div",Dn.CSS.icon,{innerHTML:t.icon||Yce}),n.appendChild(this.nodes.icon),n.appendChild(ce.make("div",Dn.CSS.title,{innerHTML:t.title||""})),t.secondaryLabel&&n.appendChild(ce.make("div",Dn.CSS.secondaryTitle,{textContent:t.secondaryLabel})),t.isActive&&n.classList.add(Dn.CSS.active),t.isDisabled&&n.classList.add(Dn.CSS.disabled),n}enableConfirmationMode(t){const n={...this.params,...t,confirmation:t.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(Dn.CSS.confirmationState),this.confirmationState=t,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const t=this.make(this.params);this.nodes.root.innerHTML=t.innerHTML,this.nodes.root.classList.remove(Dn.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(Dn.CSS.noHover),this.nodes.root.classList.add(Dn.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(t){if(t.confirmation===void 0)try{t.onActivate(t),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(t.confirmation)}animateError(){this.nodes.icon.classList.contains(Dn.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(Dn.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const lf=class{constructor(e,t){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=t}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(lf.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(lf.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let t=this.cursor;return t===-1?t=e===lf.directions.RIGHT?-1:0:this.items[t].classList.remove(this.focusedCssClass),e===lf.directions.RIGHT?t=(t+1)%this.items.length:t=(this.items.length+t-1)%this.items.length,ce.canSetCaret(this.items[t])&&Cd(()=>Xe.setCursor(this.items[t]),50)(),this.items[t].classList.add(this.focusedCssClass),t}};let Su=lf;Su.directions={RIGHT:"right",LEFT:"left"};class da{constructor(t){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(da.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case tt.TAB:this.handleTabPress(n);break;case tt.LEFT:case tt.UP:this.flipLeft();break;case tt.RIGHT:case tt.DOWN:this.flipRight();break;case tt.ENTER:this.handleEnterPress(n);break}},this.iterator=new Su(t.items,t.focusedItemClass),this.activateCallback=t.activateCallback,this.allowedKeys=t.allowedKeys||da.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[tt.TAB,tt.LEFT,tt.RIGHT,tt.ENTER,tt.UP,tt.DOWN]}activate(t,n){this.activated=!0,t&&this.iterator.setItems(t),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(t){this.flipCallbacks.push(t)}removeOnFlip(t){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==t)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(t){return this.activated&&this.allowedKeys.includes(t.keyCode)}handleTabPress(t){switch(t.shiftKey?Su.directions.LEFT:Su.directions.RIGHT){case Su.directions.RIGHT:this.flipRight();break;case Su.directions.LEFT:this.flipLeft();break}}handleEnterPress(t){this.activated&&(this.iterator.currentItem&&(t.stopPropagation(),t.preventDefault(),this.iterator.currentItem.click()),pn(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(t=>t())}}class Df{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:t,onSearch:n,placeholder:r}){this.listeners=new JC,this.items=t,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(t){this.wrapper=ce.make("div",Df.CSS.wrapper);const n=ce.make("div",Df.CSS.icon,{innerHTML:Kce});this.input=ce.make("input",Df.CSS.input,{placeholder:t}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(t=>this.checkItem(t))}checkItem(t){var n;const r=((n=t.title)==null?void 0:n.toLowerCase())||"",i=this.searchQuery.toLowerCase();return r.includes(i)}}const cf=class{lock(){_R?this.lockHard():document.body.classList.add(cf.CSS.scrollLocked)}unlock(){_R?this.unlockHard():document.body.classList.remove(cf.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(cf.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(cf.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let mF=cf;mF.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var eue=Object.defineProperty,tue=Object.getOwnPropertyDescriptor,nue=(e,t,n,r)=>{for(var i=r>1?void 0:r?tue(t,n):t,o=e.length-1,s;o>=0;o--)(s=e[o])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&eue(t,n,i),i},Mp=(e=>(e.Close="close",e))(Mp||{});const hr=class extends Ib{constructor(e){super(),this.scopeElement=document.body,this.listeners=new JC,this.scrollLocker=new mF,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(t=>t.isFocused).onFocus()},this.items=e.items.map(t=>new Dn(t)),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),e.messages&&(this.messages={...this.messages,...e.messages}),e.customContentFlippableItems&&(this.customContentFlippableItems=e.customContentFlippableItems),this.make(),e.customContent&&this.addCustomContent(e.customContent),e.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(hr.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(hr.CSS.overlayHidden),this.nodes.popover.classList.add(hr.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),vc()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(hr.CSS.popoverOpened),this.nodes.popover.classList.remove(hr.CSS.popoverOpenTop),this.nodes.overlay.classList.add(hr.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),vc()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),vc()&&this.scrollLocker.unlock()}make(){this.nodes.popover=ce.make("div",[hr.CSS.popover]),this.nodes.nothingFoundMessage=ce.make("div",[hr.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=ce.make("div",[hr.CSS.items]),this.items.forEach(e=>{this.nodes.items.appendChild(e.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",e=>{const t=this.getTargetItem(e);t!==void 0&&this.handleItemClick(t)}),this.nodes.wrapper=ce.make("div"),this.nodes.overlay=ce.make("div",[hr.CSS.overlay,hr.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Df({items:this.items,placeholder:this.messages.search,onSearch:(t,n)=>{this.items.forEach(i=>{const o=!n.includes(i);i.toggleHidden(o)}),this.toggleNothingFoundMessage(n.length===0),this.toggleCustomContent(t!=="");const r=t===""?this.flippableElements:n.map(i=>i.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(r))}});const e=this.search.getElement();e.classList.add(hr.CSS.search),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}addCustomContent(e){this.nodes.customContent=e,this.nodes.customContent.classList.add(hr.CSS.customContent),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}getTargetItem(e){return this.items.find(t=>e.composedPath().includes(t.getElement()))}handleItemClick(e){e.isDisabled||(this.items.filter(t=>t!==e).forEach(t=>t.reset()),e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new da({items:this.flippableElements,focusedItemClass:Dn.CSS.focused,allowedKeys:[tt.TAB,tt.UP,tt.DOWN,tt.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const e=this.items.map(t=>t.getElement());return(this.customContentFlippableItems||[]).concat(e)}get height(){let e=0;if(this.nodes.popover===null)return e;const t=this.nodes.popover.cloneNode(!0);return t.style.visibility="hidden",t.style.position="absolute",t.style.top="-1000px",t.classList.add(hr.CSS.popoverOpened),document.body.appendChild(t),e=t.offsetHeight,t.remove(),e}get shouldOpenBottom(){const e=this.nodes.popover.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),n=this.height,r=e.top+n,i=e.top-n,o=Math.min(window.innerHeight,t.bottom);return i<t.top||r<=o}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(hr.CSS.nothingFoundMessageDisplayed,e)}toggleCustomContent(e){var t;(t=this.nodes.customContent)==null||t.classList.toggle(hr.CSS.customContentHidden,e)}toggleItemActivenessIfNeeded(e){if(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string"){const t=this.items.filter(n=>n.toggle===e.toggle);if(t.length===1){e.toggleActive();return}t.forEach(n=>{n.toggleActive(n===e)})}}};let nA=hr;nue([lh],nA.prototype,"height",1);class rue extends Bt{constructor(){super(...arguments),this.opened=!1,this.selection=new Xe,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var t;return(t=this.popover)==null?void 0:t.flipper}make(){this.nodes.wrapper=ce.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(t=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),t.selected=!0,this.Editor.BlockSelection.clearCache();const[n,r]=t.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new nA({searchable:!0,items:n.map(i=>this.resolveTuneAliases(i)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:fi.ui(zo.ui.popover,"Nothing found"),search:fi.ui(zo.ui.popover,"Filter")}}),this.popover.on(Mp.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,Xe.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Mp.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(t){const{StylesAPI:n}=this.Editor,r=t.querySelectorAll(`.${n.classes.settingsButton}, ${ce.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(t){const n=Gce(t,{label:"title"});return t.confirmation&&(n.confirmation=this.resolveTuneAliases(t.confirmation)),n}}let iue=class Ji extends Bt{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=ce.make("div",[Ji.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=ce.make("div",Ji.CSS.conversionToolbarTools);const t=ce.make("div",Ji.CSS.conversionToolbarLabel,{textContent:fi.ui(zo.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),ce.append(this.nodes.wrapper,t),ce.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(t){this.opened?this.close():this.open(),pn(t)&&(this.togglingCallback=t)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(Ji.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(t=>t.button).filter(t=>!t.classList.contains(Ji.CSS.conversionToolHidden))),this.flipper.focusFirst(),pn(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(Ji.CSS.conversionToolbarShowed),pn(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(t,n){const{BlockManager:r,BlockSelection:i,InlineToolbar:o,Caret:s}=this.Editor;r.convert(this.Editor.BlockManager.currentBlock,t,n),i.clearSelection(),this.close(),o.close(),window.requestAnimationFrame(()=>{s.setToBlock(this.Editor.BlockManager.currentBlock,s.positions.END)})}addTools(){const t=this.Editor.Tools.blockTools;Array.from(t.entries()).forEach(([n,r])=>{var i;const o=r.conversionConfig;!o||!o.import||(i=r.toolbox)==null||i.forEach(s=>this.addToolIfValid(n,s))})}addToolIfValid(t,n){qo(n)||!n.icon||this.addTool(t,n)}addTool(t,n){var r;const i=ce.make("div",[Ji.CSS.conversionTool]),o=ce.make("div",[Ji.CSS.conversionToolIcon]);i.dataset.tool=t,o.innerHTML=n.icon,ce.append(i,o),ce.append(i,ce.text(fi.t(zo.toolNames,n.title||Ad(t))));const s=(r=this.Editor.Tools.blockTools.get(t))==null?void 0:r.shortcut;if(s){const a=ce.make("span",Ji.CSS.conversionToolSecondaryLabel,{innerText:KC(s)});ce.append(i,a)}ce.append(this.nodes.tools,i),this.tools.push({name:t,button:i,toolboxItem:n}),this.listeners.on(i,"click",async()=>{await this.replaceWithBlock(t,n.data)})}async filterTools(){const{currentBlock:t}=this.Editor.BlockManager,n=await t.getActiveToolboxEntry();function r(i,o){return i.icon===o.icon&&i.title===o.title}this.tools.forEach(i=>{let o=!1;if(n){const s=r(n,i.toolboxItem);o=i.button.dataset.tool===t.name&&s}i.button.hidden=o,i.button.classList.toggle(Ji.CSS.conversionToolHidden,o)})}enableFlipper(){this.flipper=new da({focusedItemClass:Ji.CSS.conversionToolFocused})}};var GE={},oue={get exports(){return GE},set exports(e){GE=e}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=0)}([function(n,r,i){function o(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}function s(l,c,d){return c&&o(l.prototype,c),d&&o(l,d),l}i.r(r);var a=function(){function l(c){var d=this;(function(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(h){d.execute(h)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var d=0;d<c.length;d++){c[d]=c[d].toUpperCase();var h=!1;for(var f in l.supportedCommands)if(l.supportedCommands[f].includes(c[d])){h=this.commands[f]=!0;break}h||(this.keys[c[d]]=!0)}for(var m in l.supportedCommands)this.commands[m]||(this.commands[m]=!1)}},{key:"execute",value:function(c){var d,h={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},f=!0;for(d in this.commands)this.commands[d]!==h[d]&&(f=!1);var m,g=!0;for(m in this.keys)g=g&&c.keyCode===l.keyCodes[m];f&&g&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(oue);const sue=Ob(GE);class aue{constructor(){this.registeredShortcuts=new Map}add(t){if(this.findShortcut(t.on,t.name))throw Error(`Shortcut ${t.name} is already registered for ${t.on}. Please remove it before add a new handler.`);const n=new sue({name:t.name,on:t.on,callback:t.handler}),r=this.registeredShortcuts.get(t.on)||[];this.registeredShortcuts.set(t.on,[...r,n])}remove(t,n){const r=this.findShortcut(t,n);if(!r)return;r.remove();const i=this.registeredShortcuts.get(t);this.registeredShortcuts.set(t,i.filter(o=>o!==r))}findShortcut(t,n){return(this.registeredShortcuts.get(t)||[]).find(({name:r})=>r===n)}}const kd=new aue;var lue=Object.defineProperty,cue=Object.getOwnPropertyDescriptor,gF=(e,t,n,r)=>{for(var i=r>1?void 0:r?cue(t,n):t,o=e.length-1,s;o>=0;o--)(s=e[o])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&lue(t,n,i),i},Bv=(e=>(e.Opened="toolbox-opened",e.Closed="toolbox-closed",e.BlockAdded="toolbox-block-added",e))(Bv||{});const vF=class extends Ib{constructor({api:e,tools:t,i18nLabels:n}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=t,this.i18nLabels=n}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new nA({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Mp.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(vF.CSS.toolbox),this.nodes.toolbox}hasFocus(){var e;return(e=this.popover)==null?void 0:e.hasFocus()}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(e=this.popover)==null||e.off(Mp.Close,this.onPopoverClose)}toolButtonActivated(e,t){this.insertNewBlock(e,t)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(t=>{t.toolbox&&e.push(t)}),e}get toolboxItemsToBeDisplayed(){const e=(t,n)=>({icon:t.icon,title:fi.t(zo.toolNames,t.title||Ad(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,t.data)},secondaryLabel:n.shortcut?KC(n.shortcut):""});return this.toolsToBeDisplayed.reduce((t,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(r=>{t.push(e(r,n))}):n.toolbox!==void 0&&t.push(e(n.toolbox,n)),t),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const t=e.shortcut;t&&this.enableShortcutForTool(e.name,t)})}enableShortcutForTool(e,t){kd.add({name:t,on:this.api.ui.nodes.redactor,handler:n=>{n.preventDefault();const r=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(r);if(i)try{this.api.blocks.convert(i.id,e),window.requestAnimationFrame(()=>{this.api.caret.setToBlock(r,"end")});return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const t=e.shortcut;t&&kd.remove(this.api.ui.nodes.redactor,t)})}async insertNewBlock(e,t){const n=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(n);if(!r)return;const i=r.isEmpty?n:n+1;let o;if(t){const a=await this.api.blocks.composeBlockData(e);o=Object.assign(a,t)}const s=this.api.blocks.insert(e,o,void 0,i,void 0,r.isEmpty);s.call(Ys.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let rA=vF;gF([lh],rA.prototype,"toolsToBeDisplayed",1);gF([lh],rA.prototype,"toolboxItemsToBeDisplayed",1);const yF="block hovered";class uue extends Bt{constructor({config:t,eventsDispatcher:n}){super({config:t,eventsDispatcher:n}),this.toolboxInstance=null,this.tooltip=new tA}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var t;return{opened:(t=this.toolboxInstance)==null?void 0:t.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){Xt("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){Xt("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(t){t?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(t=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){Xt("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!t)return;this.hoveredBlock=t;const n=t.holder,{isMobile:r}=this.Editor.UI,i=t.pluginsContent,o=window.getComputedStyle(i),s=parseInt(o.paddingTop,10),a=n.offsetHeight;let l;r?l=n.offsetTop+a:l=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&t.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var t;this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(t=this.toolboxInstance)==null||t.close(),this.Editor.BlockSettings.close())}open(t=!0){Cd(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),t?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=ce.make("div",this.CSS.toolbar),["content","actions"].forEach(n=>{this.nodes[n]=ce.make("div",this.CSS[n])}),ce.append(this.nodes.wrapper,this.nodes.content),ce.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=ce.make("div",this.CSS.plusButton,{innerHTML:Xce}),ce.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const t=ce.make("div");t.appendChild(document.createTextNode(fi.ui(zo.ui.toolbar.toolbox,"Add"))),t.appendChild(ce.make("div",this.CSS.plusButtonShortcut,{textContent:" Tab"})),this.tooltip.onHover(this.nodes.plusButton,t,{hidingDelay:400}),this.nodes.settingsToggler=ce.make("span",this.CSS.settingsToggler,{innerHTML:Zce}),ce.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,fi.ui(zo.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),ce.append(this.nodes.actions,this.makeToolbox()),ce.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),ce.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new rA({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:fi.ui(zo.ui.popover,"Filter"),nothingFound:fi.ui(zo.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Bv.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Bv.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Bv.BlockAdded,({block:t})=>{const{BlockManager:n,Caret:r}=this.Editor,i=n.getBlockById(t.id);i.inputs.length===0&&(i===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){var t;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(t=this.toolboxInstance)==null||t.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",t=>{var n;t.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),vc()||this.eventsDispatcher.on(yF,t=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(t.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var Nb=(e=>(e[e.Block=0]="Block",e[e.Inline=1]="Inline",e[e.Tune=2]="Tune",e))(Nb||{}),Fv=(e=>(e.Shortcut="shortcut",e.Toolbox="toolbox",e.EnabledInlineTools="inlineToolbar",e.EnabledBlockTunes="tunes",e.Config="config",e))(Fv||{}),xF=(e=>(e.Shortcut="shortcut",e.SanitizeConfig="sanitize",e))(xF||{}),Tu=(e=>(e.IsEnabledLineBreaks="enableLineBreaks",e.Toolbox="toolbox",e.ConversionConfig="conversionConfig",e.IsReadOnlySupported="isReadOnlySupported",e.PasteConfig="pasteConfig",e))(Tu||{}),iA=(e=>(e.IsInline="isInline",e.Title="title",e))(iA||{}),bF=(e=>(e.IsTune="isTune",e))(bF||{});class oA{constructor({name:t,constructable:n,config:r,api:i,isDefault:o,isInternal:s=!1,defaultPlaceholder:a}){this.api=i,this.name=t,this.constructable=n,this.config=r,this.isDefault=o,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const t=this.config.config||{};return this.isDefault&&!("placeholder"in t)&&this.defaultPlaceholder&&(t.placeholder=this.defaultPlaceholder),t}reset(){if(pn(this.constructable.reset))return this.constructable.reset()}prepare(){if(pn(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const t=this.constructable.shortcut;return this.config.shortcut||t}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class due extends Bt{constructor({config:t,eventsDispatcher:n}){super({config:t,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=vc()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new tA}toggleReadOnly(t){t?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}tryToShow(t=!1,n=!0){if(!this.allowedToShow()){t&&this.close();return}this.move(),this.open(n),this.Editor.Toolbar.close()}move(){const t=Xe.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:t.x-n.left,y:t.y+t.height-n.top+this.toolbarVerticalMargin};t.width&&(r.x+=Math.floor(t.width/2));const i=r.x-this.width/2,o=r.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,i<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,o>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([t,n])=>{const r=this.getToolShortcut(t);r&&kd.remove(this.Editor.UI.nodes.redactor,r),pn(n.clear)&&n.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(t=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,t&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let n=Array.from(this.buttonsList);n.unshift(this.nodes.conversionToggler),n=n.filter(r=>!r.hidden),this.flipper.activate(n)}containsNode(t){return this.nodes.wrapper.contains(t)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=ce.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=ce.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=ce.make("div",this.CSS.buttonsWrapper),this.nodes.actions=ce.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",t=>{t.target.closest(`.${this.CSS.actionsWrapper}`)||t.preventDefault()}),ce.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),ce.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),ce.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame(()=>{this.recalculateWidth()}),this.enableFlipper()}allowedToShow(){const t=["IMG","INPUT"],n=Xe.get(),r=Xe.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const i=ce.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&t.includes(i.tagName)||i.closest('[contenteditable="true"]')===null)return!1;const o=this.Editor.BlockManager.getBlock(n.anchorNode);return o?o.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=ce.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=ce.make("div",this.CSS.conversionTogglerContent);const t=ce.make("div",this.CSS.conversionTogglerArrow,{innerHTML:pF});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(t),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),vc()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,fi.ui(zo.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:t}=this.Editor,{currentBlock:n}=t,r=n.name,i=n.tool.conversionConfig,o=i&&i.export;this.nodes.conversionToggler.hidden=!o,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!o);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||Ad(r)}prepareConversionToolbar(){const t=this.Editor.ConversionToolbar.make();ce.append(this.nodes.wrapper,t)}addToolsFiltered(){const t=Xe.get(),n=this.Editor.BlockManager.getBlock(t.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),this.recalculateWidth()}addTool(t){const n=t.create(),r=n.render();if(!r){Xt("Render method must return an instance of Node","warn",t.name);return}if(r.dataset.tool=t.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(t.name,n),pn(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(r,"click",a=>{this.toolClicked(n),a.preventDefault()});const i=this.getToolShortcut(t.name);if(i)try{this.enableShortcuts(n,i)}catch{}const o=ce.make("div"),s=fi.t(zo.toolNames,t.title||Ad(t.name));o.appendChild(ce.text(s)),i&&o.appendChild(ce.make("div",this.CSS.inlineToolbarShortcut,{textContent:KC(i)})),vc()===!1&&this.tooltip.onHover(r,o,{placement:"top",hidingDelay:100}),n.checkState(Xe.get())}getToolShortcut(t){const{Tools:n}=this.Editor,r=n.inlineTools.get(t),i=n.internal.inlineTools;return Array.from(i.keys()).includes(t)?this.inlineTools[t][xF.Shortcut]:r.shortcut}enableShortcuts(t,n){kd.add({name:n,handler:r=>{const{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(t))},on:this.Editor.UI.nodes.redactor})}toolClicked(t){const n=Xe.range;t.surround(n),this.checkToolsState(),t.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(t=>{t.checkState(Xe.get())})}get inlineTools(){const t={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{t[n]=r.create()}),t}enableFlipper(){this.flipper=new da({focusedItemClass:this.CSS.focusedButton,allowedKeys:[tt.ENTER,tt.TAB]})}}class hue extends Bt{keydown(t){switch(this.beforeKeydownProcessing(t),t.keyCode){case tt.BACKSPACE:this.backspace(t);break;case tt.DELETE:this.delete(t);break;case tt.ENTER:this.enter(t);break;case tt.DOWN:case tt.RIGHT:this.arrowRightAndDown(t);break;case tt.UP:case tt.LEFT:this.arrowLeftAndUp(t);break;case tt.TAB:this.tabPressed(t);break}}beforeKeydownProcessing(t){this.needToolbarClosing(t)&&rF(t.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(t)))}keyup(t){t.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(t){this.Editor.BlockSelection.clearSelection(t);const{BlockManager:n,InlineToolbar:r,ConversionToolbar:i}=this.Editor,o=n.currentBlock;if(!o)return;const s=o.isEmpty,a=o.tool.isDefault&&s,l=!s&&i.opened,c=!s&&!Xe.isCollapsed&&r.opened;a?this.activateToolbox():!l&&!c&&this.activateBlockSettings()}dragOver(t){const n=this.Editor.BlockManager.getBlockByChildNode(t.target);n.dropTarget=!0}dragLeave(t){const n=this.Editor.BlockManager.getBlockByChildNode(t.target);n.dropTarget=!1}handleCommandC(t){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(t)}handleCommandX(t){const{BlockSelection:n,BlockManager:r,Caret:i}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(t).then(()=>{const o=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(o,!0);i.setToBlock(s,i.positions.START),n.clearSelection(t)})}enter(t){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||t.shiftKey)return;let i=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?i=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i),t.preventDefault()}backspace(t){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i,previousBlock:o}=n;if(!(!Xe.isCollapsed||!r.isAtStart)){if(t.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.firstInput){r.navigatePrevious();return}if(o!==null){if(o.isEmpty){n.removeBlock(o);return}if(i.isEmpty){n.removeBlock(i);const s=n.currentBlock;r.setToBlock(s,r.positions.END);return}ER(i,o)?this.mergeBlocks(o,i):r.setToBlock(o,r.positions.END)}}}delete(t){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i,nextBlock:o}=n;if(!(!Xe.isCollapsed||!r.isAtEnd)){if(t.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.lastInput){r.navigateNext();return}if(o!==null){if(o.isEmpty){n.removeBlock(o);return}if(i.isEmpty){n.removeBlock(i),r.setToBlock(o,r.positions.START);return}ER(i,o)?this.mergeBlocks(i,o):r.setToBlock(o,r.positions.START)}}}mergeBlocks(t,n){const{BlockManager:r,Caret:i,Toolbar:o}=this.Editor;i.createShadow(t.pluginsContent),r.mergeBlocks(t,n).then(()=>{window.requestAnimationFrame(()=>{i.restoreCaret(t.pluginsContent),t.pluginsContent.normalize(),o.close()})})}arrowRightAndDown(t){const n=da.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===tt.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(t.shiftKey&&t.keyCode===tt.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(t.keyCode===tt.DOWN||t.keyCode===tt.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?t.preventDefault():Cd(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(t)}arrowLeftAndUp(t){if(this.Editor.UI.someToolbarOpened){if(da.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===tt.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(t.shiftKey&&t.keyCode===tt.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(t.keyCode===tt.UP||t.keyCode===tt.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?t.preventDefault():Cd(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(t)}needToolbarClosing(t){const n=t.keyCode===tt.ENTER&&this.Editor.Toolbar.toolbox.opened,r=t.keyCode===tt.ENTER&&this.Editor.BlockSettings.opened,i=t.keyCode===tt.ENTER&&this.Editor.InlineToolbar.opened,o=t.keyCode===tt.ENTER&&this.Editor.ConversionToolbar.opened,s=t.keyCode===tt.TAB;return!(t.shiftKey||s||n||r||i||o)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Ow{constructor(t){this.blocks=[],this.workingArea=t}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return iF(this.workingArea.children)}static set(t,n,r){return isNaN(Number(n))?(Reflect.set(t,n,r),!0):(t.insert(+n,r),!0)}static get(t,n){return isNaN(Number(n))?Reflect.get(t,n):t.get(+n)}push(t){this.blocks.push(t),this.insertToDOM(t)}swap(t,n){const r=this.blocks[n];ce.swap(this.blocks[t].holder,r.holder),this.blocks[n]=this.blocks[t],this.blocks[t]=r}move(t,n){const r=this.blocks.splice(n,1)[0],i=t-1,o=Math.max(0,i),s=this.blocks[o];t>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(t,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:t});r.call(Ys.MOVED,a)}insert(t,n,r=!1){if(!this.length){this.push(n);return}t>this.length&&(t=this.length),r&&(this.blocks[t].holder.remove(),this.blocks[t].call(Ys.REMOVED));const i=r?1:0;if(this.blocks.splice(t,i,n),t>0){const o=this.blocks[t-1];this.insertToDOM(n,"afterend",o)}else{const o=this.blocks[t+1];o?this.insertToDOM(n,"beforebegin",o):this.insertToDOM(n)}}replace(t,n){if(this.blocks[t]===void 0)throw Error("Incorrect index");this.blocks[t].holder.replaceWith(n.holder),this.blocks[t]=n}insertMany(t,n){const r=new DocumentFragment;for(const i of t)r.appendChild(i.holder);if(this.length>0){if(n>0){const i=Math.min(n-1,this.length-1);this.blocks[i].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...t)}else this.blocks.push(...t),this.workingArea.appendChild(r);t.forEach(i=>i.call(Ys.RENDERED))}remove(t){isNaN(t)&&(t=this.length-1),this.blocks[t].holder.remove(),this.blocks[t].call(Ys.REMOVED),this.blocks.splice(t,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(t=>t.call(Ys.REMOVED)),this.blocks.length=0}insertAfter(t,n){const r=this.blocks.indexOf(t);this.insert(r+1,n)}get(t){return this.blocks[t]}indexOf(t){return this.blocks.indexOf(t)}insertToDOM(t,n,r){n?r.holder.insertAdjacentElement(n,t.holder):this.workingArea.appendChild(t.holder),t.call(Ys.RENDERED)}composeBlockEvent(t,n){return new CustomEvent(t,{detail:n})}}const TR="block-removed",CR="block-added",fue="block-moved",AR="block-changed";class pue{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((n,r)=>{this.completed=this.completed.then(t).then(n).catch(r)})}}class mue extends Bt{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(t){this._currentBlockIndex=t}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(t){this.currentBlockIndex=this.getBlockIndex(t)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(t=>!!t.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(t=>!!t.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(t=>t.isEmpty)}prepare(){const t=new Ow(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(t,{set:Ow.set,get:Ow.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(t){t?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:t,data:n={},id:r=void 0,tunes:i={}}){const o=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(t),a=new qn({id:r,data:n,tool:s,api:this.Editor.API,readOnly:o,tunesData:i},this.eventsDispatcher);return o||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:t=void 0,tool:n=this.config.defaultBlock,data:r={},index:i,needToFocus:o=!0,replace:s=!1,tunes:a={}}={}){let l=i;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:t,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(TR,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(CR,c,{index:l}),o?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(t,n=0){this._blocks.insertMany(t,n)}async update(t,n){const r=await t.data,i=this.composeBlock({id:t.id,tool:t.name,data:Object.assign({},r,n),tunes:t.tunes}),o=this.getBlockIndex(t);return this._blocks.replace(o,i),this.blockDidMutated(AR,i,{index:o}),i}replace(t,n,r){const i=this.getBlockIndex(t);this.insert({tool:n,data:r,index:i,replace:!0})}paste(t,n,r=!1){const i=this.insert({tool:t,replace:r});try{window.requestIdleCallback(()=>{i.call(Ys.ON_PASTE,n)})}catch(o){Xt(`${t}: onPaste callback call is failed`,"error",o)}return i}insertDefaultBlockAtIndex(t,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[t]=r,this.blockDidMutated(CR,r,{index:t}),n?this.currentBlockIndex=t:t<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(t,n){const r=await n.data;qo(r)||await t.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(t)}removeBlock(t,n=!0){return new Promise(r=>{const i=this._blocks.indexOf(t);if(!this.validateIndex(i))throw new Error("Can't find a Block to remove");t.destroy(),this._blocks.remove(i),this.blockDidMutated(TR,t,{index:i}),this.currentBlockIndex>=i&&this.currentBlockIndex--,this.blocks.length?i===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,n&&this.insert()),r()})}removeSelectedBlocks(){let t;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),t=n);return t}removeAllBlocks(){for(let t=this.blocks.length-1;t>=0;t--)this._blocks.remove(t);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const t=this.Editor.Caret.extractFragmentFromCaretPosition(),n=ce.make("div");n.appendChild(t);const r={text:ce.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(t){return t===-1&&(t=this._blocks.length-1),this._blocks[t]}getBlockIndex(t){return this._blocks.indexOf(t)}getBlockById(t){return this._blocks.array.find(n=>n.id===t)}getBlock(t){ce.isElement(t)||(t=t.parentNode);const n=this._blocks.nodes,r=t.closest(`.${qn.CSS.wrapper}`),i=n.indexOf(r);if(i>=0)return this._blocks[i]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(t=>{t.focused=!1})}setCurrentBlockByChildNode(t){ce.isElement(t)||(t=t.parentNode);const n=t.closest(`.${qn.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(t){ce.isElement(t)||(t=t.parentNode);const n=t.closest(`.${qn.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(t,n){this._blocks.swap(t,n),this.currentBlockIndex=n}move(t,n=this.currentBlockIndex){if(isNaN(t)||isNaN(n)){Xt("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(t)||!this.validateIndex(n)){Xt("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(t,n),this.currentBlockIndex=t,this.blockDidMutated(fue,this.currentBlock,{fromIndex:n,toIndex:t})}async convert(t,n,r){if(!await t.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const i=this.Editor.Tools.blockTools.get(n);if(!i)throw new Error(`Could not convert Block. Tool ${n} not found.`);const o=await t.exportDataAsString(),s=ea(o,i.sanitizeConfig);let a=gce(s,i.conversionConfig);r&&(a=Object.assign(a,r)),this.replace(t,i.name,a)}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}async clear(t=!1){const n=new pue;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.dropPointer(),t&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(t=>t.destroy()))}bindBlockEvents(t){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(t.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(t.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(t.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(t.holder,"dragleave",r=>{n.dragLeave(r)}),t.on("didMutated",r=>this.blockDidMutated(AR,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",t=>this.Editor.BlockEvents.handleCommandX(t)),this.blocks.forEach(t=>{this.bindBlockEvents(t)})}validateIndex(t){return!(t<0||t>=this._blocks.length)}blockDidMutated(t,n,r){const i=new CustomEvent(t,{detail:{target:new nc(n),...r}});return this.eventsDispatcher.emit(cF,{event:i}),n}}class gue extends Bt{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:t}=this.Editor;return t.blocks.every(n=>n.selected===!0)}set allBlocksSelected(t){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=t}),this.clearCache()}get anyBlockSelected(){const{BlockManager:t}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=t.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(t=>t.selected)}prepare(){this.selection=new Xe,kd.add({name:"CMD+A",handler:t=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){t.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(t)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){Xe.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(t){const{BlockManager:n}=this.Editor;let r;isNaN(t)?r=n.currentBlock:r=n.getBlockByIndex(t),r.selected=!1,this.clearCache()}clearSelection(t,n=!1){const{BlockManager:r,Caret:i,RectangleSelection:o}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=t&&t instanceof KeyboardEvent,a=s&&rF(t.keyCode);if(this.anyBlockSelected&&s&&a&&!Xe.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),i.setToBlock(r.currentBlock),Cd(()=>{const c=t.key;i.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(t),!this.anyBlockSelected||o.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(t){t.preventDefault();const n=ce.make("div");this.selectedBlocks.forEach(o=>{const s=ea(o.holder.innerHTML,this.sanitizerConfig),a=ce.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(o=>o.textContent).join(`

`),i=n.innerHTML;return t.clipboardData.setData("text/plain",r),t.clipboardData.setData("text/html",i),Promise.all(this.selectedBlocks.map(o=>o.save())).then(o=>{try{t.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(o))}catch{}})}selectBlockByIndex(t){const{BlockManager:n}=this.Editor;n.clearFocused();let r;isNaN(t)?r=n.currentBlock:r=n.getBlockByIndex(t),this.selection.save(),Xe.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){kd.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(t){if(this.Editor.RectangleSelection.clearSelection(),ce.isNativeInput(t.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(t.target).inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(t.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(t.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),Xe.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Q0 extends Bt{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const t=Xe.get(),n=ce.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let r=t.focusNode;if(ce.isNativeInput(n))return n.selectionEnd===0;if(!t.anchorNode)return!1;let i=r.textContent.search(/\S/);i===-1&&(i=0);let o=t.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[o]?(r=r.childNodes[o],o=0):(r=r.childNodes[o-1],o=r.textContent.length)),(ce.isLineBreakTag(n)||ce.isEmpty(n))&&this.getHigherLevelSiblings(r,"left").every(s=>{const a=ce.isLineBreakTag(s),l=s.children.length===1&&ce.isLineBreakTag(s.children[0]),c=a||l;return ce.isEmpty(s)&&!c})&&o===i?!0:n===null||r===n&&o<=i}get isAtEnd(){const t=Xe.get();let n=t.focusNode;const r=ce.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(ce.isNativeInput(r))return r.selectionEnd===r.value.length;if(!t.focusNode)return!1;let i=t.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[i-1]?(n=n.childNodes[i-1],i=n.textContent.length):(n=n.childNodes[0],i=0)),ce.isLineBreakTag(r)||ce.isEmpty(r)){const s=this.getHigherLevelSiblings(n,"right");if(s.every((a,l)=>l===s.length-1&&ce.isLineBreakTag(a)||ce.isEmpty(a)&&!ce.isLineBreakTag(a))&&i===n.textContent.length)return!0}const o=r.textContent.replace(/\s+$/,"");return n===r&&i>=o.length}setToBlock(t,n=this.positions.DEFAULT,r=0){const{BlockManager:i}=this.Editor;let o;switch(n){case this.positions.START:o=t.firstInput;break;case this.positions.END:o=t.lastInput;break;default:o=t.currentInput}if(!o)return;const s=ce.getDeepestNode(o,n===this.positions.END),a=ce.getContentLength(s);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>a:r=a;break}Cd(()=>{this.set(s,r)},20)(),i.setCurrentBlockByChildNode(t.holder),i.currentBlock.currentInput=o}setToInput(t,n=this.positions.DEFAULT,r=0){const{currentBlock:i}=this.Editor.BlockManager,o=ce.getDeepestNode(t);switch(n){case this.positions.START:this.set(o,0);break;case this.positions.END:this.set(o,ce.getContentLength(o));break;default:r&&this.set(o,r)}i.currentInput=t}set(t,n=0){const{top:r,bottom:i}=Xe.setCursor(t,n),{innerHeight:o}=window;r<0&&window.scrollBy(0,r),i>o&&window.scrollBy(0,i-o)}setToTheLastBlock(){const t=this.Editor.BlockManager.lastBlock;if(t)if(t.tool.isDefault&&t.isEmpty)this.setToBlock(t);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const t=Xe.get();if(t.rangeCount){const n=t.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(ce.isNativeInput(r)){const i=r,o=document.createDocumentFragment(),s=i.value.substring(0,i.selectionStart),a=i.value.substring(i.selectionStart);return o.textContent=a,i.value=s,o}else{const i=n.cloneRange();return i.selectNodeContents(r),i.setStart(n.endContainer,n.endOffset),i.extractContents()}}}navigateNext(){const{BlockManager:t}=this.Editor,{currentBlock:n,nextContentfulBlock:r}=t,{nextInput:i}=n,o=this.isAtEnd;let s=r;if(!s&&!i){if(n.tool.isDefault||!o)return!1;s=t.insertAtEnd()}return o?(i?this.setToInput(i,this.positions.START):this.setToBlock(s,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:t,previousContentfulBlock:n}=this.Editor.BlockManager;if(!t)return!1;const{previousInput:r}=t;return!n&&!r?!1:this.isAtStart?(r?this.setToInput(r,this.positions.END):this.setToBlock(n,this.positions.END),!0):!1}createShadow(t){const n=document.createElement("span");n.classList.add(Q0.CSS.shadowCaret),t.insertAdjacentElement("beforeend",n)}restoreCaret(t){const n=t.querySelector(`.${Q0.CSS.shadowCaret}`);if(!n)return;new Xe().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(t){const n=document.createDocumentFragment(),r=document.createElement("div"),i=Xe.get(),o=Xe.range;r.innerHTML=t,Array.from(r.childNodes).forEach(c=>n.appendChild(c)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;o.deleteContents(),o.insertNode(n);const a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),i.removeAllRanges(),i.addRange(a)}getHigherLevelSiblings(t,n){let r=t;const i=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const o=n==="left"?"previousSibling":"nextSibling";for(;r[o];)r=r[o],i.push(r);return i}}class vue extends Bt{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=t=>{const{BlockManager:n,BlockSelection:r}=this.Editor,i=n.getBlockByChildNode(t.relatedTarget)||this.lastSelectedBlock,o=n.getBlockByChildNode(t.target);if(!(!i||!o)&&o!==i){if(i===this.firstSelectedBlock){Xe.get().removeAllRanges(),i.selected=!0,o.selected=!0,r.clearCache();return}if(o===this.firstSelectedBlock){i.selected=!1,o.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(i,o),this.lastSelectedBlock=o}}}async prepare(){this.listeners.on(document,"mousedown",t=>{this.enableCrossBlockSelection(t)})}watchSelection(t){if(t.button!==Kle.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(t.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(t=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),Xe.get().removeAllRanges());const i=n.blocks.indexOf(this.lastSelectedBlock)+(t?1:-1),o=n.blocks[i];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}clear(t){const{BlockManager:n,BlockSelection:r,Caret:i}=this.Editor,o=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&o>-1&&s>-1)if(t&&t instanceof KeyboardEvent)switch(t.keyCode){case tt.DOWN:case tt.RIGHT:i.setToBlock(n.blocks[Math.max(o,s)],i.positions.END);break;case tt.UP:case tt.LEFT:i.setToBlock(n.blocks[Math.min(o,s)],i.positions.START);break;default:i.setToBlock(n.blocks[Math.max(o,s)],i.positions.END)}else i.setToBlock(n.blocks[Math.max(o,s)],i.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(t){const{UI:n}=this.Editor;Xe.isCollapsed||this.Editor.BlockSelection.clearSelection(t),n.nodes.redactor.contains(t.target)?this.watchSelection(t):this.Editor.BlockSelection.clearSelection(t)}toggleBlocksSelectedState(t,n){const{BlockManager:r,BlockSelection:i}=this.Editor,o=r.blocks.indexOf(t),s=r.blocks.indexOf(n),a=t.selected!==n.selected;for(let l=Math.min(o,s);l<=Math.max(o,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?t:n)&&(r.blocks[l].selected=!r.blocks[l].selected,i.clearCache())}}}class yue extends Bt{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(t){t?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:t}=this.Editor;this.readOnlyMutableListeners.on(t.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(t.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(t.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(t){const{BlockManager:n,Caret:r,Paste:i}=this.Editor;t.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),Xe.isAtEditor&&!Xe.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const o=n.setCurrentBlockByChildNode(t.target);if(o)this.Editor.Caret.setToBlock(o,r.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await i.processDataTransfer(t.dataTransfer,!0)}processDragStart(){Xe.isAtEditor&&!Xe.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(t){t.preventDefault()}}class xue extends Bt{constructor({config:t,eventsDispatcher:n}){super({config:t,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(cF,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(uF,()=>{this.disable()}),this.eventsDispatcher.on(dF,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(t){this.disabled||!pn(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${t.detail.target.id}:event:${t.type}`,t),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(t){this.eventsDispatcher.emit(jE,{mutations:t})}}const wF=class extends Bt{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const t=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!pn(t.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(t){Xt(`Paste handling for ${e.name} Tool hasn't been set up because of the error`,"warn",t)}},this.handlePasteEvent=async e=>{const{BlockManager:t,Toolbar:n}=this.Editor,r=t.setCurrentBlockByChildNode(e.target);!r||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),t.clearFocused(),n.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,t=!1){const{Tools:n}=this.Editor,r=e.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!qo(this.toolsFiles)){await this.processFiles(e.files);return}const i=e.getData(this.MIME_TYPE),o=e.getData("text/plain");let s=e.getData("text/html");if(i)try{this.insertEditorJSData(JSON.parse(i));return}catch{}t&&o.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:o)+"</p>");const a=Object.keys(this.toolsTags).reduce((d,h)=>(d[h.toLowerCase()]=this.toolsTags[h].sanitizationConfig??{},d),{}),l=Object.assign({},a,n.getAllInlineToolsSanitizeConfig(),{br:{}}),c=ea(s,l);!c.trim()||c.trim()===o||!ce.isHTMLString(c)?await this.processText(o):await this.processText(c,!0)}async processText(e,t=!1){const{Caret:n,BlockManager:r}=this.Editor,i=t?this.processHTML(e):this.processPlain(e);if(!i.length)return;if(i.length===1){i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop());return}const o=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;i.map(async(s,a)=>this.insertBlock(s,a===0&&o)),r.currentBlock&&n.setToBlock(r.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return El(e)?[e]:vr(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const t=e.pasteConfig.tags||[],n=[];t.forEach(r=>{const i=this.collectTagNames(r);n.push(...i),i.forEach(o=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,o)){Xt(`Paste handler for ${e.name} Tool on ${o} tag is skipped because it is already used by ${this.toolsTags[o].tool.name} Tool.`,"warn");return}const s=vr(r)?r[o]:null;this.toolsTags[o.toUpperCase()]={tool:e,sanitizationConfig:s}})}),this.tagsByTool[e.name]=n.map(r=>r.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:t={}}=e.pasteConfig;let{extensions:n,mimeTypes:r}=t;!n&&!r||(n&&!Array.isArray(n)&&(Xt(`extensions property of the onDrop config for ${e.name} Tool should be an array`),n=[]),r&&!Array.isArray(r)&&(Xt(`mimeTypes property of the onDrop config for ${e.name} Tool should be an array`),r=[]),r&&(r=r.filter(i=>nce(i)?!0:(Xt(`MIME type value ${i} for the ${e.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:n||[],mimeTypes:r||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||qo(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([t,n])=>{n instanceof RegExp||Xt(`Pattern ${n} for ${e.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:t,pattern:n,tool:e})})}isNativeBehaviour(e){return ce.isNativeInput(e)}async processFiles(e){const{BlockManager:t}=this.Editor;let n;n=await Promise.all(Array.from(e).map(i=>this.processFile(i))),n=n.filter(i=>!!i);const r=t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty;n.forEach((i,o)=>{t.paste(i.type,i.event,o===0&&r)})}async processFile(e){const t=tce(e),n=Object.entries(this.toolsFiles).find(([i,{mimeTypes:o,extensions:s}])=>{const[a,l]=e.type.split("/"),c=s.find(h=>h.toLowerCase()===t.toLowerCase()),d=o.find(h=>{const[f,m]=h.split("/");return f===a&&(m===l||m==="*")});return!!c||!!d});if(!n)return;const[r]=n;return{event:this.composePasteEvent("file",{file:e}),type:r}}processHTML(e){const{Tools:t}=this.Editor,n=ce.make("DIV");return n.innerHTML=e,this.getNodes(n).map(r=>{let i,o=t.defaultTool,s=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=ce.make("div"),i.appendChild(r);break;case Node.ELEMENT_NODE:i=r,s=!0,this.toolsTags[i.tagName]&&(o=this.toolsTags[i.tagName].tool);break}const{tags:a}=o.pasteConfig||{tags:[]},l=a.reduce((h,f)=>(this.collectTagNames(f).forEach(m=>{const g=vr(f)?f[m]:null;h[m.toLowerCase()]=g||{}}),h),{}),c=Object.assign({},l,o.baseSanitizeConfig);if(i.tagName.toLowerCase()==="table"){const h=ea(i.outerHTML,c);i=ce.make("div",void 0,{innerHTML:h}).firstChild}else i.innerHTML=ea(i.innerHTML,c);const d=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:s,tool:o.name,event:d}}).filter(r=>{const i=ce.isEmpty(r.content),o=ce.isSingleTag(r.content);return!i||o})}processPlain(e){const{defaultBlock:t}=this.config;if(!e)return[];const n=t;return e.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const i=ce.make("div");i.textContent=r;const o=this.composePasteEvent("tag",{data:i});return{content:i,tool:n,isBlock:!1,event:o}})}async processSingleBlock(e){const{Caret:t,BlockManager:n}=this.Editor,{currentBlock:r}=n;if(!r||e.tool!==r.name||!ce.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}t.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:t,Caret:n}=this.Editor,{content:r}=e;if(t.currentBlock&&t.currentBlock.tool.isDefault&&r.textContent.length<wF.PATTERN_PROCESSING_MAX_LENGTH){const i=await this.processPattern(r.textContent);if(i){const o=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty,s=t.paste(i.tool,i.event,o);n.setToBlock(s,n.positions.END);return}}if(t.currentBlock&&t.currentBlock.currentInput){const i=t.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,ea(r.innerHTML,i))}else this.insertBlock(e)}async processPattern(e){const t=this.toolsPatterns.find(n=>{const r=n.pattern.exec(e);return r?e===r.shift():!1});return t?{event:this.composePasteEvent("pattern",{key:t.key,data:e}),tool:t.tool.name}:void 0}insertBlock(e,t=!1){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i}=n;let o;if(t&&i&&i.isEmpty){o=n.paste(e.tool,e.event,!0),r.setToBlock(o,r.positions.END);return}o=n.paste(e.tool,e.event),r.setToBlock(o,r.positions.END)}insertEditorJSData(e){const{BlockManager:t,Caret:n,Tools:r}=this.Editor;hF(e,i=>r.blockTools.get(i).sanitizeConfig).forEach(({tool:i,data:o},s)=>{let a=!1;s===0&&(a=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty);const l=t.insert({tool:i,data:o,replace:a});n.setToBlock(l,n.positions.END)})}processElementNode(e,t,n){const r=Object.keys(this.toolsTags),i=e,{tool:o}=this.toolsTags[i.tagName]||{},s=this.tagsByTool[o==null?void 0:o.name]||[],a=r.includes(i.tagName),l=ce.blockElements.includes(i.tagName.toLowerCase()),c=Array.from(i.children).some(({tagName:h})=>r.includes(h)&&!s.includes(h)),d=Array.from(i.children).some(({tagName:h})=>ce.blockElements.includes(h.toLowerCase()));if(!l&&!a&&!c)return n.appendChild(i),[...t,n];if(a&&!c||l&&!d&&!c)return[...t,n,i]}getNodes(e){const t=Array.from(e.childNodes);let n;const r=(i,o)=>{if(ce.isEmpty(o)&&!ce.isSingleTag(o))return i;const s=i[i.length-1];let a=new DocumentFragment;switch(s&&ce.isFragment(s)&&(a=i.pop()),o.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(o,i,a),n)return n;break;case Node.TEXT_NODE:return a.appendChild(o),[...i,a];default:return[...i,a]}return[...i,...Array.from(o.childNodes).reduce(r,[])]};return t.reduce(r,[])}composePasteEvent(e,t){return new CustomEvent(e,{detail:t})}};let _F=wF;_F.PATTERN_PROCESSING_MAX_LENGTH=450;class bue extends Bt{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:t}=this.Editor,{blockTools:n}=t,r=[];Array.from(n.entries()).forEach(([i,o])=>{o.isReadOnlySupported||r.push(i)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(t=!this.readOnlyEnabled){t&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=t;for(const i in this.Editor)this.Editor[i].toggleReadOnly&&this.Editor[i].toggleReadOnly(t);if(n===t)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new aF(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Bf extends Bt{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(t,n){const r=document.elementFromPoint(t-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const i=[`.${qn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],o=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=i.some(a=>!!r.closest(a));!o||s||(this.mousedown=!0,this.startX=t,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:t}=this.genHTML();this.listeners.on(t,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",DE(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",DE(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(t){t.button===this.MAIN_MOUSE_BUTTON&&(t.target.closest(ce.allInputsSelector)!==null||this.startSelection(t.pageX,t.pageY))}processMouseMove(t){this.changingRectangle(t),this.scrollByZones(t.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(t){this.changingRectangle(t)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(t){if(this.inScrollZone=null,t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:t}=this.Editor,n=t.nodes.holder.querySelector("."+t.CSS.editorWrapper),r=ce.make("div",Bf.CSS.overlay,{}),i=ce.make("div",Bf.CSS.overlayContainer,{}),o=ce.make("div",Bf.CSS.rect,{});return i.appendChild(o),r.appendChild(i),n.appendChild(r),this.overlayRectangle=o,{container:n,overlay:r}}scrollVertical(t){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,t),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(t)},0)}changingRectangle(t){if(!this.mousedown)return;t.pageY!==void 0&&(this.mouseX=t.pageX,this.mouseY=t.pageY);const{rightPos:n,leftPos:r,index:i}=this.genInfoForMouseSelection(),o=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(o||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),i!==void 0&&(this.trySelectNextBlock(i),this.inverseSelection(),Xe.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const t=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!t)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&t)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const t=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(t,n),i=this.Editor.BlockManager.getBlockByChildNode(r);let o;i!==void 0&&(o=this.Editor.BlockManager.blocks.findIndex(d=>d.holder===i.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+qn.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=t-a,c=t+a;return{index:o,leftPos:l,rightPos:c}}addBlockInSelection(t){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(t),this.stackOfSelected.push(t)}trySelectNextBlock(t){const n=this.stackOfSelected[this.stackOfSelected.length-1]===t,r=this.stackOfSelected.length,i=1,o=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?i:o);const c=t>this.stackOfSelected[r-1]&&l===i,d=t<this.stackOfSelected[r-1]&&l===o,h=!(c||d||l===s);if(!h&&(t>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let g=this.stackOfSelected[r-1]+1||t;for(g;g<=t;g++)this.addBlockInSelection(g);return}if(!h&&t<this.stackOfSelected[r-1]){for(let g=this.stackOfSelected[r-1]-1;g>=t;g--)this.addBlockInSelection(g);return}if(!h)return;let f=r-1,m;for(t>this.stackOfSelected[r-1]?m=()=>t>this.stackOfSelected[f]:m=()=>t<this.stackOfSelected[f];m();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[f]),this.stackOfSelected.pop(),f--}}class wue extends Bt{async render(t){return new Promise(n=>{const{Tools:r,BlockManager:i}=this.Editor,o=t.map(({type:s,data:a,tunes:l,id:c})=>{r.available.has(s)===!1&&(jo(`Tool ${s} is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,c),s=r.stubTool);let d;try{d=i.composeBlock({id:c,tool:s,data:a,tunes:l})}catch(h){Xt(`Block ${s} skipped because of plugins error`,"error",{data:a,error:h}),a=this.composeStubDataForTool(s,a,c),s=r.stubTool,d=i.composeBlock({id:c,tool:s,data:a,tunes:l})}return d});i.insertMany(o),window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(t,n,r){const{Tools:i}=this.Editor;let o=t;if(i.unavailable.has(t)){const s=i.unavailable.get(t).toolbox;s!==void 0&&s[0].title!==void 0&&(o=s[0].title)}return{savedData:{id:r,type:t,data:n},title:o}}}class _ue extends Bt{async save(){const{BlockManager:t,Tools:n}=this.Editor,r=t.blocks,i=[];try{r.forEach(a=>{i.push(this.getSavedData(a))});const o=await Promise.all(i),s=await hF(o,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(o){jo("Saving failed due to the Error %o","error",o)}}async getSavedData(t){const n=await t.save(),r=n&&await t.validate(n.data);return{...n,isValid:r}}makeOutput(t){const n=[];return t.forEach(({id:r,tool:i,data:o,tunes:s,isValid:a})=>{if(!a){Xt(`Block ${i} skipped because saved data is invalid`);return}if(i===this.Editor.Tools.stubTool){n.push(o);return}const l={id:r,type:i,data:o,...!qo(s)&&{tunes:s}};n.push(l)}),{time:+new Date,blocks:n,version:"2.28.2"}}}var VE={},Eue={get exports(){return VE},set exports(e){VE=e}};(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=4)}([function(n,r,i){var o=i(1),s=i(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};o(s,a),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},a=function(){var S={};return function(_){if(S[_]===void 0){var T=document.querySelector(_);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[_]=T}return S[_]}}(),l=[];function c(S){for(var _=-1,T=0;T<l.length;T++)if(l[T].identifier===S){_=T;break}return _}function d(S,_){for(var T={},A=[],P=0;P<S.length;P++){var k=S[P],M=_.base?k[0]+_.base:k[0],I=T[M]||0,N="".concat(M," ").concat(I);T[M]=I+1;var U=c(N),Y={css:k[1],media:k[2],sourceMap:k[3]};U!==-1?(l[U].references++,l[U].updater(Y)):l.push({identifier:N,updater:w(Y,_),references:1}),A.push(N)}return A}function h(S){var _=document.createElement("style"),T=S.attributes||{};if(T.nonce===void 0){var A=i.nc;A&&(T.nonce=A)}if(Object.keys(T).forEach(function(k){_.setAttribute(k,T[k])}),typeof S.insert=="function")S.insert(_);else{var P=a(S.insert||"head");if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");P.appendChild(_)}return _}var f,m=(f=[],function(S,_){return f[S]=_,f.filter(Boolean).join(`
`)});function g(S,_,T,A){var P=T?"":A.media?"@media ".concat(A.media," {").concat(A.css,"}"):A.css;if(S.styleSheet)S.styleSheet.cssText=m(_,P);else{var k=document.createTextNode(P),M=S.childNodes;M[_]&&S.removeChild(M[_]),M.length?S.insertBefore(k,M[_]):S.appendChild(k)}}function y(S,_,T){var A=T.css,P=T.media,k=T.sourceMap;if(P?S.setAttribute("media",P):S.removeAttribute("media"),k&&btoa&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),S.styleSheet)S.styleSheet.cssText=A;else{for(;S.firstChild;)S.removeChild(S.firstChild);S.appendChild(document.createTextNode(A))}}var b=null,x=0;function w(S,_){var T,A,P;if(_.singleton){var k=x++;T=b||(b=h(_)),A=g.bind(null,T,k,!1),P=g.bind(null,T,k,!0)}else T=h(_),A=y.bind(null,T,_),P=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(T)};return A(S),function(M){if(M){if(M.css===S.css&&M.media===S.media&&M.sourceMap===S.sourceMap)return;A(S=M)}else P()}}n.exports=function(S,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=s());var T=d(S=S||[],_);return function(A){if(A=A||[],Object.prototype.toString.call(A)==="[object Array]"){for(var P=0;P<T.length;P++){var k=c(T[P]);l[k].references--}for(var M=d(A,_),I=0;I<T.length;I++){var N=c(T[I]);l[N].references===0&&(l[N].updater(),l.splice(N,1))}T=M}}}},function(n,r,i){(r=i(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,d){var h=c[1]||"",f=c[3];if(!f)return h;if(d&&typeof btoa=="function"){var m=(y=f,b=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(b),"/*# ".concat(x," */")),g=f.sources.map(function(w){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(w," */")});return[h].concat(g).concat([m]).join(`
`)}var y,b,x;return[h].join(`
`)}(a,o);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var d={};if(c)for(var h=0;h<this.length;h++){var f=this[h][0];f!=null&&(d[f]=!0)}for(var m=0;m<a.length;m++){var g=[].concat(a[m]);c&&d[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),s.push(g))}},s}},function(n,r,i){i.r(r),i.d(r,"default",function(){return a}),i(0);function o(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}function s(l,c,d){return c&&o(l.prototype,c),d&&o(l,d),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function l(c){var d=c.data,h=c.config,f=c.api,m=c.readOnly;(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=f,this.readOnly=m,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=h.placeholder?h.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=h.preserveBlank!==void 0&&h.preserveBlank,this.data=d}return s(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(l,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element===null&&(this._element=this.drawView()),this.hydrate(),this._element}},{key:"merge",value:function(c){var d={text:this.data.text+c.text};this.data=d}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var d={text:c.detail.data.innerHTML};this.data=d}},{key:"hydrate",value:function(){var c=this;window.requestAnimationFrame(function(){c._element.innerHTML=c._data.text||""})}},{key:"data",get:function(){if(this._element!==null){var c=this._element.innerHTML;this._data.text=c}return this._data},set:function(c){this._data=c||{},this._element!==null&&this.hydrate()}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(Eue);const Sue=Ob(VE);class sA{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Vce,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}get shortcut(){return"CMD+B"}}sA.isInline=!0;sA.title="Bold";class aA{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=qce,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}get shortcut(){return"CMD+I"}}aA.isInline=!0;aA.title="Italic";class lA{constructor({api:t}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=t.toolbar,this.inlineToolbar=t.inlineToolbar,this.notifier=t.notifier,this.i18n=t.i18n,this.selection=new Xe}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=SR,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",t=>{t.keyCode===this.ENTER_KEY&&this.enterPressed(t)}),this.nodes.input}surround(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const t=this.selection.findParentTag("A");if(t){this.nodes.button.innerHTML=Jce,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=t.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=SR,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(t=!1){this.nodes.input.classList.add(this.CSS.inputShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(t=!0){if(this.selection.isFakeBackgroundEnabled){const n=new Xe;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(t){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),t.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Xt("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(t){return!/\s/.test(t)}prepareLink(t){return t=t.trim(),t=this.addProtocol(t),t}addProtocol(t){if(/^(\w+):(\/\/)?/.test(t))return t;const n=/^\/[^/\s]/.test(t),r=t.substring(0,1)==="#",i=/^\/\/[^/\s]/.test(t);return!n&&!r&&!i&&(t="http://"+t),t}insertLink(t){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,t)}unlink(){document.execCommand(this.commandUnlink)}}lA.isInline=!0;lA.title="Link";class EF{constructor({data:t,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=t.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=t.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const t=ce.make("div",this.CSS.wrapper),n=Qce,r=ce.make("div",this.CSS.info),i=ce.make("div",this.CSS.title,{textContent:this.title}),o=ce.make("div",this.CSS.subtitle,{textContent:this.subtitle});return t.innerHTML=n,r.appendChild(i),r.appendChild(o),t.appendChild(r),t}}EF.isReadOnlySupported=!0;class Tue extends oA{constructor(){super(...arguments),this.type=Nb.Inline}get title(){return this.constructable[iA.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class Cue extends oA{constructor(){super(...arguments),this.type=Nb.Tune}create(t,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:t})}}class kr extends Map{get blockTools(){const t=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new kr(t)}get inlineTools(){const t=Array.from(this.entries()).filter(([,n])=>n.isInline());return new kr(t)}get blockTunes(){const t=Array.from(this.entries()).filter(([,n])=>n.isTune());return new kr(t)}get internalTools(){const t=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new kr(t)}get externalTools(){const t=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new kr(t)}}var Aue=Object.defineProperty,kue=Object.getOwnPropertyDescriptor,SF=(e,t,n,r)=>{for(var i=r>1?void 0:r?kue(t,n):t,o=e.length-1,s;o>=0;o--)(s=e[o])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&Aue(t,n,i),i};class cA extends oA{constructor(){super(...arguments),this.type=Nb.Block,this.inlineTools=new kr,this.tunes=new kr}create(t,n,r){return new this.constructable({data:t,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[Tu.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Tu.IsEnabledLineBreaks]}get toolbox(){const t=this.constructable[Tu.Toolbox],n=this.config[Fv.Toolbox];if(!qo(t)&&n!==!1)return n?Array.isArray(t)?Array.isArray(n)?n.map((r,i)=>{const o=t[i];return o?{...o,...r}:r}):[n]:Array.isArray(n)?n:[{...t,...n}]:Array.isArray(t)?t:[t]}get conversionConfig(){return this.constructable[Tu.ConversionConfig]}get enabledInlineTools(){return this.config[Fv.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Fv.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Tu.PasteConfig]??{}}get sanitizeConfig(){const t=super.sanitizeConfig,n=this.baseSanitizeConfig;if(qo(t))return n;const r={};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];vr(o)?r[i]=Object.assign({},n,o):r[i]=o}return r}get baseSanitizeConfig(){const t={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(t,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(t,n.sanitizeConfig)),t}}SF([lh],cA.prototype,"sanitizeConfig",1);SF([lh],cA.prototype,"baseSanitizeConfig",1);class Mue{constructor(t,n,r){this.api=r,this.config=t,this.editorConfig=n}get(t){const{class:n,isInternal:r=!1,...i}=this.config[t],o=this.getConstructor(n);return new o({name:t,constructable:n,config:i,api:this.api,isDefault:t===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(t){switch(!0){case t[iA.IsInline]:return Tue;case t[bF.IsTune]:return Cue;default:return cA}}}class TF{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:pF,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const t=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(t+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,i=r.getBoundingClientRect();let o=Math.abs(window.innerHeight-r.offsetHeight);i.top<window.innerHeight&&(o=window.scrollY+r.offsetHeight),window.scrollTo(0,o),this.api.blocks.move(t+1),this.api.toolbar.toggleBlockSettings(!0)}}TF.isTune=!0;class CF{constructor({api:t}){this.api=t}render(){return{icon:$ce,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}CF.isTune=!0;class AF{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:Wce,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const t=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(t),r=this.api.blocks.getBlockByIndex(t-1);if(t===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const i=n.holder,o=r.holder,s=i.getBoundingClientRect(),a=o.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(t-1),this.api.toolbar.toggleBlockSettings(!0)}}AF.isTune=!0;var Lue=Object.defineProperty,Pue=Object.getOwnPropertyDescriptor,Rue=(e,t,n,r)=>{for(var i=r>1?void 0:r?Pue(t,n):t,o=e.length-1,s;o>=0;o--)(s=e[o])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&Lue(t,n,i),i};class kF extends Bt{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new kr,this.toolsUnavailable=new kr}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=BE({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const t=this.prepareConfig();this.factory=new Mue(t,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(t);if(n.length===0)return Promise.resolve();await ece(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const t={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(t,n.sanitizeConfig)}),t}destroy(){Object.values(this.available).forEach(async t=>{pn(t.reset)&&await t.reset()})}get internalTools(){return{bold:{class:sA,isInternal:!0},italic:{class:aA,isInternal:!0},link:{class:lA,isInternal:!0},paragraph:{class:Sue,inlineToolbar:!0,isInternal:!0},stub:{class:EF,isInternal:!0},moveUp:{class:AF,isInternal:!0},delete:{class:CF,isInternal:!0},moveDown:{class:TF,isInternal:!0}}}toolPrepareMethodSuccess(t){const n=this.factory.get(t.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(i=>!n.create()[i]);if(r.length){Xt(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(t){this.toolsUnavailable.set(t.toolName,this.factory.get(t.toolName))}getListOfPrepareFunctions(t){const n=[];return Object.entries(t).forEach(([r,i])=>{n.push({function:pn(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:r,config:i.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(t=>{this.assignInlineToolsToBlockTool(t),this.assignBlockTunesToBlockTool(t)})}assignInlineToolsToBlockTool(t){if(this.config.inlineToolbar!==!1){if(t.enabledInlineTools===!0){t.inlineTools=new kr(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(t.enabledInlineTools)&&(t.inlineTools=new kr(t.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(t){if(t.enabledBlockTunes!==!1){if(Array.isArray(t.enabledBlockTunes)){const n=new kr(t.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));t.tunes=new kr([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new kr(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));t.tunes=new kr([...n,...this.blockTunes.internalTools]);return}t.tunes=this.blockTunes.internalTools}}validateTools(){for(const t in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,t)){if(t in this.internalTools)return;const n=this.config.tools[t];if(!pn(n)&&!pn(n.class))throw Error(`Tool ${t} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const t={};for(const n in this.config.tools)vr(this.config.tools[n])?t[n]=this.config.tools[n]:t[n]={class:this.config.tools[n]};return t}}Rue([lh],kF.prototype,"getAllInlineToolsSanitizeConfig",1);const Oue=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class Iue extends Bt{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=rce(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const t=this.nodes.wrapper.querySelector(`.${qn.CSS.content}`);return t?(this.contentRectCache=t.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(t){t?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:t}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,t.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:t,BlockSettings:n,InlineToolbar:r,ConversionToolbar:i}=this.Editor;return n.opened||r.opened||i.opened||t.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([t,n])=>n.flipper instanceof da).some(([t,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:t,BlockSettings:n,InlineToolbar:r,ConversionToolbar:i}=this.Editor;n.close(),r.close(),i.close(),t.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<oF}make(){this.nodes.holder=ce.getHolder(this.config.holder),this.nodes.wrapper=ce.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=ce.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const t="editor-js-styles";if(ce.get(t))return;const n=ce.make("style",null,{id:t,textContent:Oue.toString()});ce.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",t=>{this.redactorClicked(t)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",t=>{this.documentTouched(t)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",t=>{this.documentTouched(t)},!0),this.readOnlyMutableListeners.on(document,"keydown",t=>{this.documentKeydown(t)},!0),this.readOnlyMutableListeners.on(document,"mousedown",t=>{this.documentClicked(t)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let t;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",DE(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&t!==r&&(t=r,this.eventsDispatcher.emit(yF,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(t){switch(t.keyCode){case tt.ENTER:this.enterPressed(t);break;case tt.BACKSPACE:case tt.DELETE:this.backspacePressed(t);break;case tt.ESC:this.escapePressed(t);break;default:this.defaultBehaviour(t);break}}defaultBehaviour(t){const{currentBlock:n}=this.Editor.BlockManager,r=t.target.closest(`.${this.CSS.editorWrapper}`),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(t);return}r||n&&i||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(t){const{BlockManager:n,BlockSelection:r,Caret:i}=this.Editor;if(r.anyBlockSelected&&!Xe.isSelectionExists){const o=n.removeSelectedBlocks();i.setToBlock(n.insertDefaultBlockAtIndex(o,!0),i.positions.START),r.clearSelection(t),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}}escapePressed(t){this.Editor.BlockSelection.clearSelection(t),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(t){const{BlockManager:n,BlockSelection:r}=this.Editor,i=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!Xe.isSelectionExists){r.clearSelection(t),t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation();return}if(!this.someToolbarOpened&&i&&t.target.tagName==="BODY"){const o=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(o),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(o)}this.Editor.BlockSelection.clearSelection(t)}documentClicked(t){if(!t.isTrusted)return;const n=t.target;this.nodes.holder.contains(n)||Xe.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=this.Editor.BlockSettings.nodes.wrapper.contains(n),i=this.Editor.Toolbar.nodes.settingsToggler.contains(n),o=r||i;if(this.Editor.BlockSettings.opened&&!o){this.Editor.BlockSettings.close();const s=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(t)}documentTouched(t){let n=t.target;if(n===this.nodes.redactor){const r=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,i=t instanceof MouseEvent?t.clientY:t.touches[0].clientY;n=document.elementFromPoint(r,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(t){const{BlockSelection:n}=this.Editor;if(!Xe.isCollapsed)return;const r=()=>{t.stopImmediatePropagation(),t.stopPropagation()},i=t.target,o=t.metaKey||t.ctrlKey;if(ce.isAnchor(i)&&o){r();const c=i.getAttribute("href"),d=oce(c);ace(d);return}const s=this.Editor.BlockManager.getBlockByIndex(-1),a=ce.offset(s.holder).bottom,l=t.pageY;if(t.target instanceof Element&&t.target.isEqualNode(this.nodes.redactor)&&!n.anyBlockSelected&&a<l){r();const{BlockManager:c,Caret:d,Toolbar:h}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),d.setToTheLastBlock(),h.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:t,BlockSelection:n}=this.Editor,r=Xe.anchorElement;if(t.isCrossBlockSelectionStarted&&n.anyBlockSelected&&Xe.get().removeAllRanges(),!r){Xe.range||this.Editor.InlineToolbar.close();return}const i=r.closest(`.${qn.CSS.content}`)===null;if(i&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const o=i!==!0;this.Editor.InlineToolbar.tryToShow(!0,o)}}const Nue={BlocksAPI:vce,CaretAPI:yce,EventsAPI:xce,I18nAPI:QC,API:bce,InlineToolbarAPI:wce,ListenersAPI:_ce,NotifierAPI:Cce,ReadOnlyAPI:Ace,SanitizerAPI:Ice,SaverAPI:Nce,SelectionAPI:Dce,StylesAPI:Bce,ToolbarAPI:Fce,TooltipAPI:Uce,UiAPI:Hce,BlockSettings:rue,ConversionToolbar:iue,Toolbar:uue,InlineToolbar:due,BlockEvents:hue,BlockManager:mue,BlockSelection:gue,Caret:Q0,CrossBlockSelection:vue,DragNDrop:yue,ModificationsObserver:xue,Paste:_F,ReadOnly:bue,RectangleSelection:Bf,Renderer:wue,Saver:_ue,Tools:kF,UI:Iue};class Due{constructor(t){this.moduleInstances={},this.eventsDispatcher=new Ib;let n,r;this.isReady=new Promise((i,o)=>{n=i,r=o}),Promise.resolve().then(async()=>{this.configuration=t,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:i,Caret:o,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus&&(o.setToBlock(i.blocks[0],o.positions.START),i.highlightCurrentNode()),n()}).catch(i=>{Xt(`Editor.js is not ready because of ${i}`,"error"),r(i)})}set configuration(t){var n,r;vr(t)?this.config={...t}:this.config={holder:t},FE(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=nF.VERBOSE),Jle(this.config.logLevel),FE(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(qo(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&fi.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:t,holder:n}=this.config;if(t&&n)throw Error("holderId and holder param can't assign at the same time.");if(El(n)&&!ce.get(n))throw Error(`element with ID ${n} is missing. Pass correct holder's ID.`);if(n&&vr(n)&&!ce.isElement(n))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((t,n)=>t.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof aF)throw new Error(r.message);Xt(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(Nue).forEach(([t,n])=>{try{this.moduleInstances[t]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){Xt("[constructModules]",`Module ${t} skipped because`,"error",r)}})}configureModules(){for(const t in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,t)&&(this.moduleInstances[t].state=this.getModulesDiff(t))}getModulesDiff(t){const n={};for(const r in this.moduleInstances)r!==t&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class Bue{static get version(){return"2.28.2"}constructor(t){let n=()=>{};vr(t)&&pn(t.onReady)&&(n=t.onReady);const r=new Due(t);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(t){const n=["configuration"],r=()=>{Object.values(t.moduleInstances).forEach(i=>{pn(i.destroy)&&i.destroy(),i.listeners.removeAll()}),t=null;for(const i in this)Object.prototype.hasOwnProperty.call(this,i)&&delete this[i];Object.setPrototypeOf(this,null)};n.forEach(i=>{this[i]=t[i]}),this.destroy=r,Object.setPrototypeOf(this,t.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([i,o])=>{Object.entries(o).forEach(([s,a])=>{this[a]=t.moduleInstances.API.methods[i][s]})})}}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-paragraph[data-placeholder]:empty:before{content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before{opacity:1}.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before,.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus:before{opacity:0}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const Fue='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let jue=class MF{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:t,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:MF.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=n.preserveBlank!==void 0?n.preserveBlank:!1,this.data=t}onKeyUp(t){if(t.code!=="Backspace"&&t.code!=="Delete")return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t.contentEditable=!1,t.dataset.placeholder=this.api.i18n.t(this._placeholder),this._data.text&&(t.innerHTML=this._data.text),this.readOnly||(t.contentEditable=!0,t.addEventListener("keyup",this.onKeyUp)),t}render(){return this._element=this.drawView(),this._element}merge(t){const n={text:this.data.text+t.text};this.data=n}validate(t){return!(t.text.trim()===""&&!this._preserveBlank)}save(t){return{text:t.innerHTML}}onPaste(t){const n={text:t.detail.data.innerHTML};this.data=n}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}get data(){if(this._element!==null){const t=this._element.innerHTML;this._data.text=t}return this._data}set data(t){this._data=t||{},this._element!==null&&this.hydrate()}hydrate(){window.requestAnimationFrame(()=>{this._element.innerHTML=this._data.text||""})}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:Fue,title:"Text"}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function LF(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function rv(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function zue(e){var{factory:t,holder:n,defaultValue:r,children:i,value:o,onInitialize:s}=e,a=LF(e,["factory","holder","defaultValue","children","value","onInitialize"]);const l=_e.useRef(n??`react-editor-js-${Date.now().toString(16)}`),c=_e.useRef(null);return _e.useEffect(()=>(c.current=t(Object.assign(Object.assign({holder:l.current},r&&{data:r}),a)),s==null||s(c.current),()=>{var d;(d=c.current)===null||d===void 0||d.destroy()}),[]),_e.useEffect(()=>{var d;o&&((d=c.current)===null||d===void 0||d.render(o))},[o]),i||_e.createElement("div",{id:l.current})}class Uue{constructor(t){var{tools:n}=t,r=LF(t,["tools"]);const i=Object.assign({paragraph:{class:jue,inlineToolbar:!0}},n);this._editorJS=new Bue(Object.assign({tools:i},r))}get dangerouslyLowLevelInstance(){return this._editorJS}clear(){return rv(this,void 0,void 0,function*(){yield this._editorJS.clear()})}save(){return rv(this,void 0,void 0,function*(){return this._editorJS.save()})}destroy(){return rv(this,void 0,void 0,function*(){yield this._editorJS.isReady,yield this._editorJS.destroy()})}render(t){return rv(this,void 0,void 0,function*(){yield this._editorJS.render(t)})}}function Hue(e){const t=_e.useCallback(n=>new Uue(n),[]);return _e.createElement(zue,Object.assign({factory:t},e))}const Gue=Object.freeze(Object.defineProperty({__proto__:null,default:Hue},Symbol.toStringTag,{value:"Module"})),Vue=mm(Gue);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Wue(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function iv(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function $ue(e){var{factory:t,holder:n,defaultValue:r,children:i,value:o,onInitialize:s}=e,a=Wue(e,["factory","holder","defaultValue","children","value","onInitialize"]);const l=_e.useRef(n??`react-editor-js-${Date.now().toString(16)}`),c=_e.useRef(null);return _e.useEffect(()=>(c.current=t(Object.assign(Object.assign({holder:l.current},r&&{data:r}),a)),s==null||s(c.current),()=>{var d;(d=c.current)===null||d===void 0||d.destroy()}),[]),_e.useEffect(()=>{var d;o&&((d=c.current)===null||d===void 0||d.render(o))},[o]),i||_e.createElement("div",{id:l.current})}class Yue{constructor({data:t}){t&&(this._memoizedData=t)}get dangerouslyLowLevelInstance(){return null}clear(){return iv(this,void 0,void 0,function*(){})}save(){return iv(this,void 0,void 0,function*(){return this._memoizedData})}destroy(){return iv(this,void 0,void 0,function*(){})}render(){return iv(this,void 0,void 0,function*(){})}}function que(e){const t=_e.useCallback(n=>new Yue(n),[]);return _e.createElement($ue,Object.assign({factory:t},e))}const Zue=Object.freeze(Object.defineProperty({__proto__:null,default:que},Symbol.toStringTag,{value:"Module"})),Xue=mm(Zue);Object.defineProperty(tF,"__esModule",{value:!0});function Kue(){if(typeof window<"u"){const e=Vue;return e.default||e}else{const e=Xue;return e.default||e}}var uA=tF.createReactEditorJS=Kue;(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const Jue={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([e,t])=>{if(!t&&e)return e;const n={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return t=t.slice(1).split("&").map(r=>{const[i,o]=r.split("=");return!e&&i==="v"?(e=o,null):!n[i]||o==="LL"||o.startsWith("RDMM")||o.startsWith("FL")?null:`${n[i]}=${o}`}).filter(r=>!!r),e+"?"+t.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:e=>e.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:e=>e.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:e=>e.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:e=>e.join("/status/")},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:e=>e[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:e=>e.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:e=>`${e.join("/")}.js`}};function WE(e,t,n){var r,i,o,s,a;t==null&&(t=100);function l(){var d=Date.now()-s;d<t&&d>=0?r=setTimeout(l,t-d):(r=null,n||(a=e.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,s=Date.now();var d=n&&!r;return r||(r=setTimeout(l,t)),d&&(a=e.apply(o,i),o=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}WE.debounce=WE;var Que=WE;let ede=class Jl{constructor({data:t,api:n,readOnly:r}){this.api=n,this._data={},this.element=null,this.readOnly=r,this.data=t}set data(t){if(!(t instanceof Object))throw Error("Embed Tool data should be object");const{service:n,source:r,embed:i,width:o,height:s,caption:a=""}=t;this._data={service:n||this.data.service,source:r||this.data.source,embed:i||this.data.embed,width:o||this.data.width,height:s||this.data.height,caption:a||this.data.caption||""};const l=this.element;l&&l.parentNode.replaceChild(this.render(),l)}get data(){if(this.element){const t=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=t?t.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const a=document.createElement("div");return this.element=a,a}const{html:t}=Jl.services[this.data.service],n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("template"),o=this.createPreloader();n.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),r.classList.add(this.CSS.input,this.CSS.caption),n.appendChild(o),r.contentEditable=!this.readOnly,r.dataset.placeholder=this.api.i18n.t("Enter a caption"),r.innerHTML=this.data.caption||"",i.innerHTML=t,i.content.firstChild.setAttribute("src",this.data.embed),i.content.firstChild.classList.add(this.CSS.content);const s=this.embedIsReady(n);return n.appendChild(i.content.firstChild),n.appendChild(r),s.then(()=>{n.classList.remove(this.CSS.containerLoading)}),this.element=n,n}createPreloader(){const t=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,t.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),t.appendChild(n),t}save(){return this.data}onPaste(t){const{key:n,data:r}=t.detail,{regex:i,embedUrl:o,width:s,height:a,id:l=h=>h.shift()}=Jl.services[n],c=i.exec(r).slice(1),d=o.replace(/<%= remote_id %>/g,l(c));this.data={service:n,source:r,embed:d,width:s,height:a}}static prepare({config:t={}}){const{services:n={}}=t;let r=Object.entries(Jue);const i=Object.entries(n).filter(([s,a])=>typeof a=="boolean"&&a===!0).map(([s])=>s),o=Object.entries(n).filter(([s,a])=>typeof a=="object").filter(([s,a])=>Jl.checkServiceConfig(a)).map(([s,a])=>{const{regex:l,embedUrl:c,html:d,height:h,width:f,id:m}=a;return[s,{regex:l,embedUrl:c,html:d,height:h,width:f,id:m}]});i.length&&(r=r.filter(([s])=>i.includes(s))),r=r.concat(o),Jl.services=r.reduce((s,[a,l])=>a in s?(s[a]=Object.assign({},s[a],l),s):(s[a]=l,s),{}),Jl.patterns=r.reduce((s,[a,l])=>(s[a]=l.regex,s),{})}static checkServiceConfig(t){const{regex:n,embedUrl:r,html:i,height:o,width:s,id:a}=t;let l=n&&n instanceof RegExp&&r&&typeof r=="string"&&i&&typeof i=="string";return l=l&&(a!==void 0?a instanceof Function:!0),l=l&&(o!==void 0?Number.isFinite(o):!0),l=l&&(s!==void 0?Number.isFinite(s):!0),l}static get pasteConfig(){return{patterns:Jl.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(t){let n=null;return new Promise((r,i)=>{n=new MutationObserver(Que.debounce(r,450)),n.observe(t,{childList:!0,subtree:!0})}).then(()=>{n.disconnect()})}};(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size)}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border)}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();function Ci(e,t,n={}){const r=document.createElement(e);Array.isArray(t)?r.classList.add(...t):t&&r.classList.add(t);for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r}function kR(e){const t=e.getBoundingClientRect();return{y1:Math.floor(t.top+window.pageYOffset),x1:Math.floor(t.left+window.pageXOffset),x2:Math.floor(t.right+window.pageXOffset),y2:Math.floor(t.bottom+window.pageYOffset)}}function MR(e,t){const n=kR(e),r=kR(t);return{fromTopBorder:r.y1-n.y1,fromLeftBorder:r.x1-n.x1,fromRightBorder:n.x2-r.x2,fromBottomBorder:n.y2-r.y2}}function tde(e,t){const n=e.getBoundingClientRect(),{width:r,height:i,x:o,y:s}=n,{clientX:a,clientY:l}=t;return{width:r,height:i,x:a-o,y:l-s}}function LR(e,t){return t.parentNode.insertBefore(e,t)}function PR(e,t=!0){const n=document.createRange(),r=window.getSelection();n.selectNodeContents(e),n.collapse(t),r.removeAllRanges(),r.addRange(n)}let nde=class _i{constructor({items:t}){this.items=t,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=Ci("div",_i.CSS.popover),this.items.forEach((t,n)=>{const r=Ci("div",_i.CSS.item),i=Ci("div",_i.CSS.itemIcon,{innerHTML:t.icon}),o=Ci("div",_i.CSS.itemLabel,{textContent:t.label});r.dataset.index=n,r.appendChild(i),r.appendChild(o),this.wrapper.appendChild(r),this.itemEls.push(r)}),this.wrapper.addEventListener("click",t=>{this.popoverClicked(t)}),this.wrapper}popoverClicked(t){const n=t.target.closest(`.${_i.CSS.item}`);if(!n)return;const r=n.dataset.index,i=this.items[r];if(i.confirmationRequired&&!this.hasConfirmationState(n)){this.setConfirmationState(n);return}i.onClick()}setConfirmationState(t){t.classList.add(_i.CSS.itemConfirmState)}clearConfirmationState(t){t.classList.remove(_i.CSS.itemConfirmState)}hasConfirmationState(t){return t.classList.contains(_i.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(_i.CSS.popoverOpened)}open(){this.items.forEach((t,n)=>{typeof t.hideIf=="function"&&this.itemEls[n].classList.toggle(_i.CSS.itemHidden,t.hideIf())}),this.wrapper.classList.add(_i.CSS.popoverOpened)}close(){this.wrapper.classList.remove(_i.CSS.popoverOpened),this.itemEls.forEach(t=>{this.clearConfirmationState(t)})}};const RR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',rde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',ide='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',ode='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',sde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',ade='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>',OR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',lde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',cde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',ude='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';class Ha{constructor({api:t,items:n,onOpen:r,onClose:i,cssModifier:o=""}){this.api=t,this.items=n,this.onOpen=r,this.onClose=i,this.cssModifier=o,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const t=Ci("div",[Ha.CSS.toolbox,this.cssModifier?`${Ha.CSS.toolbox}--${this.cssModifier}`:""]);t.dataset.mutationFree="true";const n=this.createPopover(),r=this.createToggler();return t.appendChild(r),t.appendChild(n),t}createToggler(){const t=Ci("div",Ha.CSS.toggler,{innerHTML:ade});return t.addEventListener("click",()=>{this.togglerClicked()}),t}createPopover(){return this.popover=new nde({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(t){const n=t();Object.entries(n).forEach(([r,i])=>{this.wrapper.style[r]=i}),this.wrapper.classList.add(Ha.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(Ha.CSS.toolboxShowed)}}function dde(e,t){let n=0;return function(...r){const i=new Date().getTime();if(!(i-n<e))return n=i,t(...r)}}const en={wrapper:"tc-wrap",wrapperReadOnly:"tc-wrap--readonly",table:"tc-table",row:"tc-row",withHeadings:"tc-table--heading",rowSelected:"tc-row--selected",cell:"tc-cell",cellSelected:"tc-cell--selected",addRow:"tc-add-row",addColumn:"tc-add-column"};class hde{constructor(t,n,r,i){this.readOnly=t,this.api=n,this.data=r,this.config=i,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=o=>{const s=o.target.closest(`.${en.table}`)!==null,a=o.target.closest(`.${en.wrapper}`)===null;(s||a)&&this.hideToolboxes();const l=o.target.closest(`.${en.addRow}`),c=o.target.closest(`.${en.addColumn}`);l&&l.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):c&&c.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",dde(150,t=>this.onMouseMoveInTable(t)),{passive:!0}),this.table.onkeypress=t=>this.onKeyPressListener(t),this.table.addEventListener("keydown",t=>this.onKeyDownListener(t)),this.table.addEventListener("focusin",t=>this.focusInTableListener(t))}createColumnToolbox(){return new Ha({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:ide,onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:ode,onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:RR,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new Ha({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:sde,onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:rde,onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:RR,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(t,n){return this.table.querySelectorAll(`.${en.row}:nth-child(${t}) .${en.cell}`)[n-1]}getRow(t){return this.table.querySelector(`.${en.row}:nth-child(${t})`)}getRowByCell(t){return t.parentElement}getRowFirstCell(t){return t.querySelector(`.${en.cell}:first-child`)}setCellContent(t,n,r){const i=this.getCell(t,n);i.innerHTML=r}addColumn(t=-1,n=!1){let r=this.numberOfColumns;for(let i=1;i<=this.numberOfRows;i++){let o;const s=this.createCell();if(t>0&&t<=r?(o=this.getCell(i,t),LR(s,o)):o=this.getRow(i).appendChild(s),i===1){const a=this.getCell(i,t>0?t:r+1);a&&n&&PR(a)}}this.addHeadingAttrToFirstRow()}addRow(t=-1,n=!1){let r,i=Ci("div",en.row);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let o=this.numberOfColumns;if(t>0&&t<=this.numberOfRows){let a=this.getRow(t);r=LR(i,a)}else r=this.table.appendChild(i);this.fillRow(r,o),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const s=this.getRowFirstCell(r);return s&&n&&PR(s),r}deleteColumn(t){for(let n=1;n<=this.numberOfRows;n++){const r=this.getCell(n,t);if(!r)return;r.remove()}}deleteRow(t){this.getRow(t).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=Ci("div",en.wrapper),this.table=Ci("div",en.table),this.readOnly&&this.wrapper.classList.add(en.wrapperReadOnly),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const t=Ci("div",en.addColumn,{innerHTML:OR}),n=Ci("div",en.addRow,{innerHTML:OR});this.wrapper.appendChild(t),this.wrapper.appendChild(n)}}computeInitialSize(){const t=this.data&&this.data.content,n=Array.isArray(t),r=n?t.length:!1,i=n?t.length:void 0,o=r?t[0].length:void 0,s=Number.parseInt(this.config&&this.config.rows),a=Number.parseInt(this.config&&this.config.cols),l=!isNaN(s)&&s>0?s:void 0,c=!isNaN(a)&&a>0?a:void 0;return{rows:i||l||2,cols:o||c||2}}resize(){const{rows:t,cols:n}=this.computeInitialSize();for(let r=0;r<t;r++)this.addRow();for(let r=0;r<n;r++)this.addColumn()}fill(){const t=this.data;if(t&&t.content)for(let n=0;n<t.content.length;n++)for(let r=0;r<t.content[n].length;r++)this.setCellContent(n+1,r+1,t.content[n][r])}fillRow(t,n){for(let r=1;r<=n;r++){const i=this.createCell();t.appendChild(i)}}createCell(){return Ci("div",en.cell,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${en.row}:first-child .${en.cell}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(t){const{row:n,column:r}=this.getHoveredCell(t);this.hoveredColumn=r,this.hoveredRow=n,this.updateToolboxesPosition()}onKeyPressListener(t){if(t.key==="Enter"){if(t.shiftKey)return!0;this.moveCursorToNextRow()}return t.key!=="Enter"}onKeyDownListener(t){t.key==="Tab"&&t.stopPropagation()}focusInTableListener(t){const n=t.target,r=this.getRowByCell(n);this.focusedCell={row:Array.from(this.table.querySelectorAll(`.${en.row}`)).indexOf(r)+1,column:Array.from(r.querySelectorAll(`.${en.cell}`)).indexOf(n)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:t,column:n}=this.focusedCell;return this.getCell(t,n)}updateToolboxesPosition(t=this.hoveredRow,n=this.hoveredColumn){this.isColumnMenuShowing||n>0&&n<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${n} - 1) * 2))`})),this.isRowMenuShowing||t>0&&t<=this.numberOfRows&&this.toolboxRow.show(()=>{const r=this.getRow(t),{fromTopBorder:i}=MR(this.table,r),{height:o}=r.getBoundingClientRect();return{top:`${Math.ceil(i+o/2)}px`}})}setHeadingsSetting(t){this.tunes.withHeadings=t,t?(this.table.classList.add(en.withHeadings),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(en.withHeadings),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let t=1;t<=this.numberOfColumns;t++){let n=this.getCell(1,t);n&&n.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let t=1;t<=this.numberOfColumns;t++){let n=this.getCell(1,t);n&&n.removeAttribute("heading")}}selectRow(t){const n=this.getRow(t);n&&(this.selectedRow=t,n.classList.add(en.rowSelected))}unselectRow(){if(this.selectedRow<=0)return;const t=this.table.querySelector(`.${en.rowSelected}`);t&&t.classList.remove(en.rowSelected),this.selectedRow=0}selectColumn(t){for(let n=1;n<=this.numberOfRows;n++){const r=this.getCell(n,t);r&&r.classList.add(en.cellSelected)}this.selectedColumn=t}unselectColumn(){if(this.selectedColumn<=0)return;let t=this.table.querySelectorAll(`.${en.cellSelected}`);Array.from(t).forEach(n=>{n.classList.remove(en.cellSelected)}),this.selectedColumn=0}getHoveredCell(t){let n=this.hoveredRow,r=this.hoveredColumn;const{width:i,height:o,x:s,y:a}=tde(this.table,t);return s>=0&&(r=this.binSearch(this.numberOfColumns,l=>this.getCell(1,l),({fromLeftBorder:l})=>s<l,({fromRightBorder:l})=>s>i-l)),a>=0&&(n=this.binSearch(this.numberOfRows,l=>this.getCell(l,1),({fromTopBorder:l})=>a<l,({fromBottomBorder:l})=>a>o-l)),{row:n||this.hoveredRow,column:r||this.hoveredColumn}}binSearch(t,n,r,i){let o=0,s=t+1,a=0,l;for(;o<s-1&&a<10;){l=Math.ceil((o+s)/2);const c=n(l),d=MR(this.table,c);if(r(d))s=l;else if(i(d))o=l;else break;a++}return l}getData(){const t=[];for(let n=1;n<=this.numberOfRows;n++){const r=this.table.querySelector(`.${en.row}:nth-child(${n})`),i=Array.from(r.querySelectorAll(`.${en.cell}`));i.every(o=>!o.textContent.trim())||t.push(i.map(o=>o.innerHTML))}return t}destroy(){document.removeEventListener("click",this.documentClicked)}}let fde=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:t,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this.config=n,this.data={withHeadings:this.getConfig("withHeadings",!1,t),content:t&&t.content?t.content:[]},this.table=null}static get toolbox(){return{icon:ude,title:"Table"}}render(){return this.table=new hde(this.readOnly,this.api,this.data,this.config),this.container=Ci("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:lde,isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:cde,isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){const t=this.table.getData();return{withHeadings:this.data.withHeadings,content:t}}destroy(){this.table.destroy()}getConfig(t,n=void 0,r=void 0){const i=this.data||r;return i?i[t]?i[t]:n:this.config&&this.config[t]?this.config[t]:n}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(t){const n=t.detail.data,r=n.querySelector(":scope > thead, tr:first-of-type th"),i=Array.from(n.querySelectorAll("tr")).map(o=>Array.from(o.querySelectorAll("th, td")).map(s=>s.innerHTML));this.data={withHeadings:r!==null,content:i},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}};(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const IR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',pde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';let mde=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:IR,title:"List"}}constructor({data:t,config:n,api:r,readOnly:i}){this._elements={wrapper:null},this.api=r,this.readOnly=i,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:IR,default:n.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:pde,default:n.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(o=>o.default===!0).name,items:[]},this.data=t}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(t=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:t}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",t=>{const[n,r]=[13,8];switch(t.keyCode){case n:this.getOutofList(t);break;case r:this.backspace(t);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:t=>t.items.join(". "),import:t=>({items:[t],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(t=>({...t,isActive:this._data.style===t.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(t.name)}))}onPaste(t){const n=t.detail.data;this.data=this.pasteHandler(n)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(t){const n=t==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=t==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,n],{contentEditable:!this.readOnly})}toggleTune(t){const n=this.makeMainTag(t);for(;this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=t}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(t){t||(t={}),this._data.style=t.style||this.settings.find(r=>r.default===!0).name,this._data.items=t.items||[];const n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)}get data(){this._data.items=[];const t=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let n=0;n<t.length;n++)t[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(t[n].innerHTML);return this._data}_make(t,n=null,r={}){const i=document.createElement(t);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const o in r)i[o]=r[o];return i}get currentItem(){let t=window.getSelection().anchorNode;return t.nodeType!==Node.ELEMENT_NODE&&(t=t.parentNode),t.closest(`.${this.CSS.item}`)}getOutofList(t){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(n.length<2)return;const r=n[n.length-1],i=this.currentItem;i===r&&!r.textContent.trim().length&&(i.parentElement.removeChild(i),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),t.preventDefault(),t.stopPropagation())}backspace(t){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=n[0];r&&n.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&t.preventDefault()}selectItem(t){t.preventDefault();const n=window.getSelection(),r=n.anchorNode.parentNode,i=r.closest("."+this.CSS.item),o=new Range;o.selectNodeContents(i),n.removeAllRanges(),n.addRange(o)}pasteHandler(t){const{tagName:n}=t;let r;switch(n){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const i={style:r,items:[]};if(n==="LI")i.items=[t.innerHTML];else{const o=Array.from(t.querySelectorAll("LI"));i.items=o.map(s=>s.innerHTML).filter(s=>!!s.trim())}return i}};(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(`.cdx-warning{position:relative}@media all and (min-width: 736px){.cdx-warning{padding-left:36px}}.cdx-warning [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-warning [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-warning [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-warning:before{content:"";background-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='5' y='5' width='14' height='14' rx='4' stroke='black' stroke-width='2'/%3E%3Cline x1='12' y1='9' x2='12' y2='12' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3Cpath d='M12 15.02V15.01' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");width:24px;height:24px;background-size:24px 24px;position:absolute;margin-top:8px;left:0}@media all and (max-width: 735px){.cdx-warning:before{display:none}}.cdx-warning__message{min-height:85px}.cdx-warning__title{margin-bottom:6px}`)),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const gde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';let vde=class $E{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:gde,title:"Warning"}}static get enableLineBreaks(){return!0}static get DEFAULT_TITLE_PLACEHOLDER(){return"Title"}static get DEFAULT_MESSAGE_PLACEHOLDER(){return"Message"}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-warning",title:"cdx-warning__title",input:this.api.styles.input,message:"cdx-warning__message"}}constructor({data:t,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this.titlePlaceholder=n.titlePlaceholder||$E.DEFAULT_TITLE_PLACEHOLDER,this.messagePlaceholder=n.messagePlaceholder||$E.DEFAULT_MESSAGE_PLACEHOLDER,this.data={title:t.title||"",message:t.message||""}}render(){const t=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),n=this._make("div",[this.CSS.input,this.CSS.title],{contentEditable:!this.readOnly,innerHTML:this.data.title}),r=this._make("div",[this.CSS.input,this.CSS.message],{contentEditable:!this.readOnly,innerHTML:this.data.message});return n.dataset.placeholder=this.titlePlaceholder,r.dataset.placeholder=this.messagePlaceholder,t.appendChild(n),t.appendChild(r),t}save(t){const n=t.querySelector(`.${this.CSS.title}`),r=t.querySelector(`.${this.CSS.message}`);return Object.assign(this.data,{title:n.innerHTML,message:r.innerHTML})}_make(t,n=null,r={}){const i=document.createElement(t);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const o in r)i[o]=r[o];return i}static get sanitize(){return{title:{},message:{}}}};(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var yde={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=3)}([function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){(function(o){var s=i(2),a=setTimeout;function l(){}function c(b){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof b!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(b,this)}function d(b,x){for(;b._state===3;)b=b._value;b._state!==0?(b._handled=!0,c._immediateFn(function(){var w=b._state===1?x.onFulfilled:x.onRejected;if(w!==null){var S;try{S=w(b._value)}catch(_){return void f(x.promise,_)}h(x.promise,S)}else(b._state===1?h:f)(x.promise,b._value)})):b._deferreds.push(x)}function h(b,x){try{if(x===b)throw new TypeError("A promise cannot be resolved with itself.");if(x&&(typeof x=="object"||typeof x=="function")){var w=x.then;if(x instanceof c)return b._state=3,b._value=x,void m(b);if(typeof w=="function")return void y((S=w,_=x,function(){S.apply(_,arguments)}),b)}b._state=1,b._value=x,m(b)}catch(T){f(b,T)}var S,_}function f(b,x){b._state=2,b._value=x,m(b)}function m(b){b._state===2&&b._deferreds.length===0&&c._immediateFn(function(){b._handled||c._unhandledRejectionFn(b._value)});for(var x=0,w=b._deferreds.length;x<w;x++)d(b,b._deferreds[x]);b._deferreds=null}function g(b,x,w){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof x=="function"?x:null,this.promise=w}function y(b,x){var w=!1;try{b(function(S){w||(w=!0,h(x,S))},function(S){w||(w=!0,f(x,S))})}catch(S){if(w)return;w=!0,f(x,S)}}c.prototype.catch=function(b){return this.then(null,b)},c.prototype.then=function(b,x){var w=new this.constructor(l);return d(this,new g(b,x,w)),w},c.prototype.finally=s.a,c.all=function(b){return new c(function(x,w){if(!b||b.length===void 0)throw new TypeError("Promise.all accepts an array");var S=Array.prototype.slice.call(b);if(S.length===0)return x([]);var _=S.length;function T(P,k){try{if(k&&(typeof k=="object"||typeof k=="function")){var M=k.then;if(typeof M=="function")return void M.call(k,function(I){T(P,I)},w)}S[P]=k,--_==0&&x(S)}catch(I){w(I)}}for(var A=0;A<S.length;A++)T(A,S[A])})},c.resolve=function(b){return b&&typeof b=="object"&&b.constructor===c?b:new c(function(x){x(b)})},c.reject=function(b){return new c(function(x,w){w(b)})},c.race=function(b){return new c(function(x,w){for(var S=0,_=b.length;S<_;S++)b[S].then(x,w)})},c._immediateFn=typeof o=="function"&&function(b){o(b)}||function(b){a(b,0)},c._unhandledRejectionFn=function(b){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",b)},r.a=c}).call(this,i(5).setImmediate)},function(n,r,i){r.a=function(o){var s=this.constructor;return this.then(function(a){return s.resolve(o()).then(function(){return a})},function(a){return s.resolve(o()).then(function(){return s.reject(a)})})}},function(n,r,i){function o(y){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}i(4);var s,a,l,c,d,h,f,m=i(8),g=(a=function(y){return new Promise(function(b,x){y=c(y),(y=d(y)).beforeSend&&y.beforeSend();var w=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");w.open(y.method,y.url),w.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(y.headers).forEach(function(_){var T=y.headers[_];w.setRequestHeader(_,T)});var S=y.ratio;w.upload.addEventListener("progress",function(_){var T=Math.round(_.loaded/_.total*100),A=Math.ceil(T*S/100);y.progress(Math.min(A,100))},!1),w.addEventListener("progress",function(_){var T=Math.round(_.loaded/_.total*100),A=Math.ceil(T*(100-S)/100)+S;y.progress(Math.min(A,100))},!1),w.onreadystatechange=function(){if(w.readyState===4){var _=w.response;try{_=JSON.parse(_)}catch{}var T=m.parseHeaders(w.getAllResponseHeaders()),A={body:_,code:w.status,headers:T};f(w.status)?b(A):x(A)}},w.send(y.data)})},l=function(y){return y.method="POST",a(y)},c=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(y.url&&typeof y.url!="string")throw new Error("Url must be a string");if(y.url=y.url||"",y.method&&typeof y.method!="string")throw new Error("`method` must be a string or null");if(y.method=y.method?y.method.toUpperCase():"GET",y.headers&&o(y.headers)!=="object")throw new Error("`headers` must be an object or null");if(y.headers=y.headers||{},y.type&&(typeof y.type!="string"||!Object.values(s).includes(y.type)))throw new Error("`type` must be taken from module's contentType library");if(y.progress&&typeof y.progress!="function")throw new Error("`progress` must be a function or null");if(y.progress=y.progress||function(b){},y.beforeSend=y.beforeSend||function(b){},y.ratio&&typeof y.ratio!="number")throw new Error("`ratio` must be a number");if(y.ratio<0||y.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(y.ratio=y.ratio||90,y.accept&&typeof y.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(y.accept=y.accept||"*/*",y.multiple&&typeof y.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(y.multiple=y.multiple||!1,y.fieldName&&typeof y.fieldName!="string")throw new Error("`fieldName` must be a string");return y.fieldName=y.fieldName||"files",y},d=function(y){switch(y.method){case"GET":var b=h(y.data,s.URLENCODED);delete y.data,y.url=/\?/.test(y.url)?y.url+"&"+b:y.url+"?"+b;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var x=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(y);(m.isFormData(y.data)||m.isFormElement(y.data))&&(x=s.FORM),y.data=h(y.data,x),x!==g.contentType.FORM&&(y.headers["content-type"]=x)}return y},h=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return m.urlEncode(y);case s.JSON:return m.jsonEncode(y);case s.FORM:return m.formEncode(y);default:return y}},f=function(y){return y>=200&&y<300},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:a,get:function(y){return y.method="GET",a(y)},post:l,transport:function(y){return y=c(y),m.selectFiles(y).then(function(b){for(var x=new FormData,w=0;w<b.length;w++)x.append(y.fieldName,b[w],b[w].name);m.isObject(y.data)&&Object.keys(y.data).forEach(function(_){var T=y.data[_];x.append(_,T)});var S=y.beforeSend;return y.beforeSend=function(){return S(b)},y.data=x,l(y)})},selectFiles:function(y){return delete(y=c(y)).beforeSend,m.selectFiles(y)}});n.exports=g},function(n,r,i){i.r(r);var o=i(1);window.Promise=window.Promise||o.a},function(n,r,i){(function(o){var s=o!==void 0&&o||typeof self<"u"&&self||window,a=Function.prototype.apply;function l(c,d){this._id=c,this._clearFn=d}r.setTimeout=function(){return new l(a.call(setTimeout,s,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,s,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},r.enroll=function(c,d){clearTimeout(c._idleTimeoutId),c._idleTimeout=d},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var d=c._idleTimeout;d>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},d))},i(6),r.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,i(0))},function(n,r,i){(function(o,s){(function(a,l){if(!a.setImmediate){var c,d,h,f,m,g=1,y={},b=!1,x=a.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(a);w=w&&w.setTimeout?w:a,{}.toString.call(a.process)==="[object process]"?c=function(T){s.nextTick(function(){_(T)})}:function(){if(a.postMessage&&!a.importScripts){var T=!0,A=a.onmessage;return a.onmessage=function(){T=!1},a.postMessage("","*"),a.onmessage=A,T}}()?(f="setImmediate$"+Math.random()+"$",m=function(T){T.source===a&&typeof T.data=="string"&&T.data.indexOf(f)===0&&_(+T.data.slice(f.length))},a.addEventListener?a.addEventListener("message",m,!1):a.attachEvent("onmessage",m),c=function(T){a.postMessage(f+T,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(T){_(T.data)},c=function(T){h.port2.postMessage(T)}):x&&"onreadystatechange"in x.createElement("script")?(d=x.documentElement,c=function(T){var A=x.createElement("script");A.onreadystatechange=function(){_(T),A.onreadystatechange=null,d.removeChild(A),A=null},d.appendChild(A)}):c=function(T){setTimeout(_,0,T)},w.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var A=new Array(arguments.length-1),P=0;P<A.length;P++)A[P]=arguments[P+1];var k={callback:T,args:A};return y[g]=k,c(g),g++},w.clearImmediate=S}function S(T){delete y[T]}function _(T){if(b)setTimeout(_,0,T);else{var A=y[T];if(A){b=!0;try{(function(P){var k=P.callback,M=P.args;switch(M.length){case 0:k();break;case 1:k(M[0]);break;case 2:k(M[0],M[1]);break;case 3:k(M[0],M[1],M[2]);break;default:k.apply(l,M)}})(A)}finally{S(T),b=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,i(0),i(7))},function(n,r){var i,o,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(w){if(i===setTimeout)return setTimeout(w,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(w,0);try{return i(w,0)}catch{try{return i.call(null,w,0)}catch{return i.call(this,w,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:a}catch{i=a}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var d,h=[],f=!1,m=-1;function g(){f&&d&&(f=!1,d.length?h=d.concat(h):m=-1,h.length&&y())}function y(){if(!f){var w=c(g);f=!0;for(var S=h.length;S;){for(d=h,h=[];++m<S;)d&&d[m].run();m=-1,S=h.length}d=null,f=!1,function(_){if(o===clearTimeout)return clearTimeout(_);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(_);try{o(_)}catch{try{return o.call(null,_)}catch{return o.call(this,_)}}}(w)}}function b(w,S){this.fun=w,this.array=S}function x(){}s.nextTick=function(w){var S=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)S[_-1]=arguments[_];h.push(new b(w,S)),h.length!==1||f||c(y)},b.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.prependListener=x,s.prependOnceListener=x,s.listeners=function(w){return[]},s.binding=function(w){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(w){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,i){function o(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var s=i(9);n.exports=function(){function a(){(function(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c,d;return l=a,d=[{key:"urlEncode",value:function(h){return s(h)}},{key:"jsonEncode",value:function(h){return JSON.stringify(h)}},{key:"formEncode",value:function(h){if(this.isFormData(h))return h;if(this.isFormElement(h))return new FormData(h);if(this.isObject(h)){var f=new FormData;return Object.keys(h).forEach(function(m){var g=h[m];f.append(m,g)}),f}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(h){return Object.prototype.toString.call(h)==="[object Object]"}},{key:"isFormData",value:function(h){return h instanceof FormData}},{key:"isFormElement",value:function(h){return h instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(f,m){var g=document.createElement("INPUT");g.type="file",h.multiple&&g.setAttribute("multiple","multiple"),h.accept&&g.setAttribute("accept",h.accept),g.style.display="none",document.body.appendChild(g),g.addEventListener("change",function(y){var b=y.target.files;f(b),document.body.removeChild(g)},!1),g.click()})}},{key:"parseHeaders",value:function(h){var f=h.trim().split(/[\r\n]+/),m={};return f.forEach(function(g){var y=g.split(": "),b=y.shift(),x=y.join(": ");b&&(m[b]=x)}),m}}],(c=null)&&o(l.prototype,c),d&&o(l,d),a}()},function(n,r){var i=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(s,a,l,c){return a=a||null,l=l||"&",c=c||null,s?function(d){for(var h=new Array,f=0;f<d.length;f++)d[f]&&h.push(d[f]);return h}(Object.keys(s).map(function(d){var h,f,m=d;if(c&&(m=c+"["+m+"]"),typeof s[d]=="object"&&s[d]!==null)h=o(s[d],null,l,m);else{a&&(f=m,m=!isNaN(parseFloat(f))&&isFinite(f)?a+Number(m):m);var g=s[d];g=(g=(g=(g=g===!0?"1":g)===!1?"0":g)===0?"0":g)||"",h=i(m)+"="+i(g)}return h})).join(l).replace(/[!'()*]/g,""):""};n.exports=o}])})})(yde);const xde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',bde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',wde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',_de='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',Ede='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',Sde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',Tde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',Cde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',Ade='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',kde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',PF='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',Mde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function Pa(e,t=null,n={}){var i,o;const r=document.createElement(e);Array.isArray(t)?(i=r==null?void 0:r.classList)==null||i.add(...t):t&&((o=r==null?void 0:r.classList)==null||o.add(t));for(const s in n)r[s]=n[s];return r}class Po{constructor({api:t,config:n,onSelectFile:r,readOnly:i}){this.api=t,this.config=n,this.onSelectFile=r,this.readOnly=i,this.nodes={wrapper:Pa("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:Pa("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:Pa("div",this.CSS.imagePreloader),caption:Pa("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}static get status(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}render(t){return!t.file||Object.keys(t.file).length===0?this.toggleStatus(Po.status.EMPTY):this.toggleStatus(Po.status.UPLOADING),this.nodes.wrapper}createFileButton(){const t=Pa("button",[this.CSS.button]);t.innerHTML=this.config.buttonContent||`${PF} ${this.api.i18n.t("Select an Image")}`,t.addEventListener("click",()=>{this.onSelectFile()});const n=Pa("div",[]);n.style.display="flex",n.style.flexDirection="column",n.style.justifyContent="center",n.style.alignItems="center";const r=Pa("p",[]);return r.innerHTML="Copy your file from the folder and paste it here Ctrl + C on the file and Ctrl + V here",r.style.fontSize="0.8rem",r.style.color="gray",r.style.marginTop="0.5rem",n.appendChild(r),n}showPreloader(t){this.nodes.imagePreloader.style.backgroundImage=`url(${t})`,this.toggleStatus(Po.status.UPLOADING)}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(Po.status.EMPTY)}fillImage(t){const n=/\.mp4$/.test(t)?"VIDEO":"IMG",r={src:t};let i="load";n==="VIDEO"&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,i="loadeddata"),this.nodes.imageEl=Pa(n,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(i,()=>{this.toggleStatus(Po.status.FILLED),this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(t){this.nodes.caption&&(this.nodes.caption.innerHTML=t)}toggleStatus(t){var n,r;for(const i in Po.status)Object.prototype.hasOwnProperty.call(Po.status,i)&&((r=(n=this.nodes.wrapper)==null?void 0:n.classList)==null||r.toggle(`${this.CSS.wrapper}--${Po.status[i]}`,t===Po.status[i]))}applyTune(t,n){var r,i;(i=(r=this.nodes.wrapper)==null?void 0:r.classList)==null||i.toggle(`${this.CSS.wrapper}--${t}`,n)}}var RF={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=3)}([function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){(function(o){var s=i(2),a=setTimeout;function l(){}function c(b){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof b!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(b,this)}function d(b,x){for(;b._state===3;)b=b._value;b._state!==0?(b._handled=!0,c._immediateFn(function(){var w=b._state===1?x.onFulfilled:x.onRejected;if(w!==null){var S;try{S=w(b._value)}catch(_){return void f(x.promise,_)}h(x.promise,S)}else(b._state===1?h:f)(x.promise,b._value)})):b._deferreds.push(x)}function h(b,x){try{if(x===b)throw new TypeError("A promise cannot be resolved with itself.");if(x&&(typeof x=="object"||typeof x=="function")){var w=x.then;if(x instanceof c)return b._state=3,b._value=x,void m(b);if(typeof w=="function")return void y((S=w,_=x,function(){S.apply(_,arguments)}),b)}b._state=1,b._value=x,m(b)}catch(T){f(b,T)}var S,_}function f(b,x){b._state=2,b._value=x,m(b)}function m(b){b._state===2&&b._deferreds.length===0&&c._immediateFn(function(){b._handled||c._unhandledRejectionFn(b._value)});for(var x=0,w=b._deferreds.length;x<w;x++)d(b,b._deferreds[x]);b._deferreds=null}function g(b,x,w){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof x=="function"?x:null,this.promise=w}function y(b,x){var w=!1;try{b(function(S){w||(w=!0,h(x,S))},function(S){w||(w=!0,f(x,S))})}catch(S){if(w)return;w=!0,f(x,S)}}c.prototype.catch=function(b){return this.then(null,b)},c.prototype.then=function(b,x){var w=new this.constructor(l);return d(this,new g(b,x,w)),w},c.prototype.finally=s.a,c.all=function(b){return new c(function(x,w){if(!b||b.length===void 0)throw new TypeError("Promise.all accepts an array");var S=Array.prototype.slice.call(b);if(S.length===0)return x([]);var _=S.length;function T(P,k){try{if(k&&(typeof k=="object"||typeof k=="function")){var M=k.then;if(typeof M=="function")return void M.call(k,function(I){T(P,I)},w)}S[P]=k,--_==0&&x(S)}catch(I){w(I)}}for(var A=0;A<S.length;A++)T(A,S[A])})},c.resolve=function(b){return b&&typeof b=="object"&&b.constructor===c?b:new c(function(x){x(b)})},c.reject=function(b){return new c(function(x,w){w(b)})},c.race=function(b){return new c(function(x,w){for(var S=0,_=b.length;S<_;S++)b[S].then(x,w)})},c._immediateFn=typeof o=="function"&&function(b){o(b)}||function(b){a(b,0)},c._unhandledRejectionFn=function(b){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",b)},r.a=c}).call(this,i(5).setImmediate)},function(n,r,i){r.a=function(o){var s=this.constructor;return this.then(function(a){return s.resolve(o()).then(function(){return a})},function(a){return s.resolve(o()).then(function(){return s.reject(a)})})}},function(n,r,i){function o(y){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}i(4);var s,a,l,c,d,h,f,m=i(8),g=(a=function(y){return new Promise(function(b,x){y=c(y),(y=d(y)).beforeSend&&y.beforeSend();var w=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");w.open(y.method,y.url),w.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(y.headers).forEach(function(_){var T=y.headers[_];w.setRequestHeader(_,T)});var S=y.ratio;w.upload.addEventListener("progress",function(_){var T=Math.round(_.loaded/_.total*100),A=Math.ceil(T*S/100);y.progress(Math.min(A,100))},!1),w.addEventListener("progress",function(_){var T=Math.round(_.loaded/_.total*100),A=Math.ceil(T*(100-S)/100)+S;y.progress(Math.min(A,100))},!1),w.onreadystatechange=function(){if(w.readyState===4){var _=w.response;try{_=JSON.parse(_)}catch{}var T=m.parseHeaders(w.getAllResponseHeaders()),A={body:_,code:w.status,headers:T};f(w.status)?b(A):x(A)}},w.send(y.data)})},l=function(y){return y.method="POST",a(y)},c=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(y.url&&typeof y.url!="string")throw new Error("Url must be a string");if(y.url=y.url||"",y.method&&typeof y.method!="string")throw new Error("`method` must be a string or null");if(y.method=y.method?y.method.toUpperCase():"GET",y.headers&&o(y.headers)!=="object")throw new Error("`headers` must be an object or null");if(y.headers=y.headers||{},y.type&&(typeof y.type!="string"||!Object.values(s).includes(y.type)))throw new Error("`type` must be taken from module's contentType library");if(y.progress&&typeof y.progress!="function")throw new Error("`progress` must be a function or null");if(y.progress=y.progress||function(b){},y.beforeSend=y.beforeSend||function(b){},y.ratio&&typeof y.ratio!="number")throw new Error("`ratio` must be a number");if(y.ratio<0||y.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(y.ratio=y.ratio||90,y.accept&&typeof y.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(y.accept=y.accept||"*/*",y.multiple&&typeof y.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(y.multiple=y.multiple||!1,y.fieldName&&typeof y.fieldName!="string")throw new Error("`fieldName` must be a string");return y.fieldName=y.fieldName||"files",y},d=function(y){switch(y.method){case"GET":var b=h(y.data,s.URLENCODED);delete y.data,y.url=/\?/.test(y.url)?y.url+"&"+b:y.url+"?"+b;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var x=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(y);(m.isFormData(y.data)||m.isFormElement(y.data))&&(x=s.FORM),y.data=h(y.data,x),x!==g.contentType.FORM&&(y.headers["content-type"]=x)}return y},h=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return m.urlEncode(y);case s.JSON:return m.jsonEncode(y);case s.FORM:return m.formEncode(y);default:return y}},f=function(y){return y>=200&&y<300},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:a,get:function(y){return y.method="GET",a(y)},post:l,transport:function(y){return y=c(y),m.selectFiles(y).then(function(b){for(var x=new FormData,w=0;w<b.length;w++)x.append(y.fieldName,b[w],b[w].name);m.isObject(y.data)&&Object.keys(y.data).forEach(function(_){var T=y.data[_];x.append(_,T)});var S=y.beforeSend;return y.beforeSend=function(){return S(b)},y.data=x,l(y)})},selectFiles:function(y){return delete(y=c(y)).beforeSend,m.selectFiles(y)}});n.exports=g},function(n,r,i){i.r(r);var o=i(1);window.Promise=window.Promise||o.a},function(n,r,i){(function(o){var s=o!==void 0&&o||typeof self<"u"&&self||window,a=Function.prototype.apply;function l(c,d){this._id=c,this._clearFn=d}r.setTimeout=function(){return new l(a.call(setTimeout,s,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,s,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},r.enroll=function(c,d){clearTimeout(c._idleTimeoutId),c._idleTimeout=d},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var d=c._idleTimeout;d>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},d))},i(6),r.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,i(0))},function(n,r,i){(function(o,s){(function(a,l){if(!a.setImmediate){var c,d,h,f,m,g=1,y={},b=!1,x=a.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(a);w=w&&w.setTimeout?w:a,{}.toString.call(a.process)==="[object process]"?c=function(T){s.nextTick(function(){_(T)})}:function(){if(a.postMessage&&!a.importScripts){var T=!0,A=a.onmessage;return a.onmessage=function(){T=!1},a.postMessage("","*"),a.onmessage=A,T}}()?(f="setImmediate$"+Math.random()+"$",m=function(T){T.source===a&&typeof T.data=="string"&&T.data.indexOf(f)===0&&_(+T.data.slice(f.length))},a.addEventListener?a.addEventListener("message",m,!1):a.attachEvent("onmessage",m),c=function(T){a.postMessage(f+T,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(T){_(T.data)},c=function(T){h.port2.postMessage(T)}):x&&"onreadystatechange"in x.createElement("script")?(d=x.documentElement,c=function(T){var A=x.createElement("script");A.onreadystatechange=function(){_(T),A.onreadystatechange=null,d.removeChild(A),A=null},d.appendChild(A)}):c=function(T){setTimeout(_,0,T)},w.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var A=new Array(arguments.length-1),P=0;P<A.length;P++)A[P]=arguments[P+1];var k={callback:T,args:A};return y[g]=k,c(g),g++},w.clearImmediate=S}function S(T){delete y[T]}function _(T){if(b)setTimeout(_,0,T);else{var A=y[T];if(A){b=!0;try{(function(P){var k=P.callback,M=P.args;switch(M.length){case 0:k();break;case 1:k(M[0]);break;case 2:k(M[0],M[1]);break;case 3:k(M[0],M[1],M[2]);break;default:k.apply(l,M)}})(A)}finally{S(T),b=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,i(0),i(7))},function(n,r){var i,o,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(w){if(i===setTimeout)return setTimeout(w,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(w,0);try{return i(w,0)}catch{try{return i.call(null,w,0)}catch{return i.call(this,w,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:a}catch{i=a}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var d,h=[],f=!1,m=-1;function g(){f&&d&&(f=!1,d.length?h=d.concat(h):m=-1,h.length&&y())}function y(){if(!f){var w=c(g);f=!0;for(var S=h.length;S;){for(d=h,h=[];++m<S;)d&&d[m].run();m=-1,S=h.length}d=null,f=!1,function(_){if(o===clearTimeout)return clearTimeout(_);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(_);try{o(_)}catch{try{return o.call(null,_)}catch{return o.call(this,_)}}}(w)}}function b(w,S){this.fun=w,this.array=S}function x(){}s.nextTick=function(w){var S=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)S[_-1]=arguments[_];h.push(new b(w,S)),h.length!==1||f||c(y)},b.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.prependListener=x,s.prependOnceListener=x,s.listeners=function(w){return[]},s.binding=function(w){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(w){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,i){function o(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var s=i(9);n.exports=function(){function a(){(function(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c,d;return l=a,d=[{key:"urlEncode",value:function(h){return s(h)}},{key:"jsonEncode",value:function(h){return JSON.stringify(h)}},{key:"formEncode",value:function(h){if(this.isFormData(h))return h;if(this.isFormElement(h))return new FormData(h);if(this.isObject(h)){var f=new FormData;return Object.keys(h).forEach(function(m){var g=h[m];f.append(m,g)}),f}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(h){return Object.prototype.toString.call(h)==="[object Object]"}},{key:"isFormData",value:function(h){return h instanceof FormData}},{key:"isFormElement",value:function(h){return h instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(f,m){var g=document.createElement("INPUT");g.type="file",h.multiple&&g.setAttribute("multiple","multiple"),h.accept&&g.setAttribute("accept",h.accept),g.style.display="none",document.body.appendChild(g),g.addEventListener("change",function(y){var b=y.target.files;f(b),document.body.removeChild(g)},!1),g.click()})}},{key:"parseHeaders",value:function(h){var f=h.trim().split(/[\r\n]+/),m={};return f.forEach(function(g){var y=g.split(": "),b=y.shift(),x=y.join(": ");b&&(m[b]=x)}),m}}],(c=null)&&o(l.prototype,c),d&&o(l,d),a}()},function(n,r){var i=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(s,a,l,c){return a=a||null,l=l||"&",c=c||null,s?function(d){for(var h=new Array,f=0;f<d.length;f++)d[f]&&h.push(d[f]);return h}(Object.keys(s).map(function(d){var h,f,m=d;if(c&&(m=c+"["+m+"]"),typeof s[d]=="object"&&s[d]!==null)h=o(s[d],null,l,m);else{a&&(f=m,m=!isNaN(parseFloat(f))&&isFinite(f)?a+Number(m):m);var g=s[d];g=(g=(g=(g=g===!0?"1":g)===!1?"0":g)===0?"0":g)||"",h=i(m)+"="+i(g)}return h})).join(l).replace(/[!'()*]/g,""):""};n.exports=o}])})})(RF);var Lde=RF.exports;const Ql=Fc(Lde);function Iw(e){return e&&typeof e.then=="function"}class Pde{constructor({config:t,onUpload:n,onError:r}){this.config=t,this.onUpload=n,this.onError=r}uploadSelectedFile({onPreview:t}){const n=function(i){const o=new FileReader;o.readAsDataURL(i),o.onload=s=>{t(s.target.result)}};let r;this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?r=Ql.selectFiles({accept:this.config.types}).then(i=>{n(i[0]);const o=this.config.uploader.uploadByFile(i[0]);return Iw(o)||console.warn("Custom uploader method uploadByFile should return a Promise"),o}):r=Ql.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:i=>{n(i[0])},fieldName:this.config.field}).then(i=>i.body),r.then(i=>{this.onUpload(i)}).catch(i=>{this.onError(i)})}uploadByUrl(t){let n;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(n=this.config.uploader.uploadByUrl(t),Iw(n)||console.warn("Custom uploader method uploadByUrl should return a Promise")):n=Ql.post({url:this.config.endpoints.byUrl,data:Object.assign({url:t},this.config.additionalRequestData),type:Ql.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(r=>r.body),n.then(r=>{this.onUpload(r)}).catch(r=>{this.onError(r)})}uploadByFile(t,{onPreview:n}){const r=new FileReader;r.readAsDataURL(t),r.onload=o=>{n(o.target.result)};let i;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")i=this.config.uploader.uploadByFile(t),Iw(i)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const o=new FormData;o.append(this.config.field,t),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([s,a])=>{o.append(s,a)}),i=Ql.post({url:this.config.endpoints.byFile,data:o,type:Ql.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(s=>s.body)}i.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}}/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */class ey{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:PF,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:Cde,title:"With border",toggle:!0},{name:"stretched",icon:Mde,title:"Stretch image",toggle:!0},{name:"withBackground",icon:Tde,title:"With background",toggle:!0}]}constructor({data:t,config:n,api:r,readOnly:i,block:o}){this.api=r,this.readOnly=i,this.block=o,this.config={endpoints:n.endpoints||"",additionalRequestData:n.additionalRequestData||{},additionalRequestHeaders:n.additionalRequestHeaders||{},field:n.field||"image",types:n.types||"image/*",captionPlaceholder:this.api.i18n.t(n.captionPlaceholder||"Caption"),buttonContent:n.buttonContent||"",uploader:n.uploader||void 0,actions:n.actions||[]},this.uploader=new Pde({config:this.config,onUpload:s=>this.onUpload(s),onError:s=>this.uploadingFailed(s)}),this.ui=new Po({api:r,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:s=>{this.ui.showPreloader(s)}})},readOnly:i}),this._data={},this.data=t}render(){return this.ui.render(this.data)}validate(t){return t.file&&t.file.url}save(){const t=this.ui.nodes.caption;return this._data.caption=t.innerHTML,this.data}renderSettings(){return ey.tunes.concat(this.config.actions).map(n=>({icon:n.icon,label:this.api.i18n.t(n.title),name:n.name,toggle:n.toggle,isActive:this.data[n.name],onActivate:()=>{if(typeof n.action=="function"){n.action(n.name);return}this.tuneToggled(n.name)}}))}rendered(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(t){switch(t.type){case"tag":{const n=t.detail.data;if(/^blob:/.test(n.src)){const i=await(await fetch(n.src)).blob();this.uploadFile(i);break}this.uploadUrl(n.src);break}case"pattern":{const n=t.detail.data;this.uploadUrl(n);break}case"file":{const n=t.detail.file;this.uploadFile(n);break}}}set data(t){this.image=t.file,this._data.caption=t.caption||"",this.ui.fillCaption(this._data.caption),ey.tunes.forEach(({name:n})=>{const r=typeof t[n]<"u"?t[n]===!0||t[n]==="true":!1;this.setTune(n,r)})}get data(){return this._data}set image(t){this._data.file=t||{},t&&t.url&&this.ui.fillImage(t.url)}onUpload(t){t.success&&t.file?this.image=t.file:this.uploadingFailed("incorrect response: "+JSON.stringify(t))}uploadingFailed(t){console.log("Image Tool: uploading failed because of",t),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(t){this.setTune(t,!this._data[t])}setTune(t,n){this._data[t]=n,this.ui.applyTune(t,n),t==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=n}).catch(r=>{console.error(r)})}uploadFile(t){this.uploader.uploadByFile(t,{onPreview:n=>{this.ui.showPreloader(n)}})}uploadUrl(t){this.ui.showPreloader(t),this.uploader.uploadByUrl(t)}}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-rawtool__textarea{min-height:200px;resize:vertical;border-radius:8px;border:0;background-color:#1e2128;font-family:Menlo,Monaco,Consolas,Courier New,monospace;font-size:12px;line-height:1.6;letter-spacing:-.2px;color:#a1a7b6;overscroll-behavior:contain}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const Rde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',Ode='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',Ide='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';class Uu{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:Ide,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get ALIGNMENTS(){return{left:"left",center:"center"}}static get DEFAULT_ALIGNMENT(){return Uu.ALIGNMENTS.left}static get conversionConfig(){return{import:"text",export:function(t){return t.caption?`${t.text}  ${t.caption}`:t.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:Ode},{name:"center",icon:Rde}]}constructor({data:t,config:n,api:r,readOnly:i}){const{ALIGNMENTS:o,DEFAULT_ALIGNMENT:s}=Uu;this.api=r,this.readOnly=i,this.quotePlaceholder=n.quotePlaceholder||Uu.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=n.captionPlaceholder||Uu.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:t.text||"",caption:t.caption||"",alignment:Object.values(o).includes(t.alignment)&&t.alignment||n.defaultAlignment||s}}render(){const t=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),n=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),r=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return n.dataset.placeholder=this.quotePlaceholder,r.dataset.placeholder=this.captionPlaceholder,t.appendChild(n),t.appendChild(r),t}save(t){const n=t.querySelector(`.${this.CSS.text}`),r=t.querySelector(`.${this.CSS.caption}`);return Object.assign(this.data,{text:n.innerHTML,caption:r.innerHTML})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const t=n=>n[0].toUpperCase()+n.substr(1);return this.settings.map(n=>({icon:n.icon,label:this.api.i18n.t(`Align ${t(n.name)}`),onActivate:()=>this._toggleTune(n.name),isActive:this.data.alignment===n.name,closeOnActivate:!0}))}_toggleTune(t){this.data.alignment=t}_make(t,n=null,r={}){const i=document.createElement(t);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const o in r)i[o]=r[o];return i}}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const Nde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';class Hu{static get CSS(){return"cdx-marker"}constructor({api:t}){this.api=t,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(t){if(!t)return;let n=this.api.selection.findParentTag(this.tag,Hu.CSS);n?this.unwrap(n):this.wrap(t)}wrap(t){let n=document.createElement(this.tag);n.classList.add(Hu.CSS),n.appendChild(t.extractContents()),t.insertNode(n),this.api.selection.expandToTag(n)}unwrap(t){this.api.selection.expandToTag(t);let n=window.getSelection(),r=n.getRangeAt(0),i=r.extractContents();t.parentNode.removeChild(t),r.insertNode(i),n.removeAllRanges(),n.addRange(r)}checkState(){const t=this.api.selection.findParentTag(this.tag,Hu.CSS);this.button.classList.toggle(this.iconClasses.active,!!t)}get toolboxIcon(){return Nde}static get sanitize(){return{mark:{class:Hu.CSS}}}}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.cdx-checklist{gap:6px;display:flex;flex-direction:column}.cdx-checklist__item{display:flex;box-sizing:content-box;align-items:flex-start}.cdx-checklist__item-text{outline:none;flex-grow:1;line-height:1.57em}.cdx-checklist__item-checkbox{width:22px;height:22px;display:flex;align-items:center;margin-right:8px;margin-top:calc(.785em - 11px);cursor:pointer}.cdx-checklist__item-checkbox svg{opacity:0;height:20px;width:20px;position:absolute;left:-1px;top:-1px;max-height:20px}@media (hover: hover){.cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg{opacity:1}}.cdx-checklist__item-checkbox-check{cursor:pointer;display:inline-block;flex-shrink:0;position:relative;width:20px;height:20px;box-sizing:border-box;margin-left:0;border-radius:5px;border:1px solid #C9C9C9;background:#fff}.cdx-checklist__item-checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:#369fff;visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}@media (hover: hover){.cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check{background:#0059AB;border-color:#0059ab}}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check{background:#369FFF;border-color:#369fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg{opacity:1}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path{stroke:#fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const Dde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',Bde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';function NR(){const e=document.activeElement,t=window.getSelection().getRangeAt(0),n=t.cloneRange();return n.selectNodeContents(e),n.setStart(t.endContainer,t.endOffset),n.extractContents()}function Fde(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}function Kh(e,t=null,n={}){const r=document.createElement(e);Array.isArray(t)?r.classList.add(...t):t&&r.classList.add(t);for(const i in n)r[i]=n[i];return r}function DR(e){return e.innerHTML.replace("<br>"," ").trim()}function BR(e,t=!1,n=void 0){const r=document.createRange(),i=window.getSelection();r.selectNodeContents(e),n!==void 0&&(r.setStart(e,n),r.setEnd(e,n)),r.collapse(t),i.removeAllRanges(),i.addRange(r)}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null});class jde{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:Bde,title:"Checklist"}}static get conversionConfig(){return{export:t=>t.items.map(({text:n})=>n).join(". "),import:t=>({items:[{text:t,checked:!1}]})}}constructor({data:t,config:n,api:r,readOnly:i}){this._elements={wrapper:null,items:[]},this.readOnly=i,this.api=r,this.data=t||{}}render(){return this._elements.wrapper=Kh("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach(t=>{const n=this.createChecklistItem(t);this._elements.wrapper.appendChild(n)}),this.readOnly?this._elements.wrapper:(this._elements.wrapper.addEventListener("keydown",t=>{const[n,r]=[13,8];switch(t.keyCode){case n:this.enterPressed(t);break;case r:this.backspace(t);break}},!1),this._elements.wrapper.addEventListener("click",t=>{this.toggleCheckbox(t)}),this._elements.wrapper)}save(){let t=this.items.map(n=>{const r=this.getItemInput(n);return{text:DR(r),checked:n.classList.contains(this.CSS.itemChecked)}});return t=t.filter(n=>n.text.trim().length!==0),{items:t}}validate(t){return!!t.items.length}toggleCheckbox(t){const n=t.target.closest(`.${this.CSS.item}`),r=n.querySelector(`.${this.CSS.checkboxContainer}`);r.contains(t.target)&&(n.classList.toggle(this.CSS.itemChecked),r.classList.add(this.CSS.noHover),r.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(r),{once:!0}))}createChecklistItem(t={}){const n=Kh("div",this.CSS.item),r=Kh("span",this.CSS.checkbox),i=Kh("div",this.CSS.checkboxContainer),o=Kh("div",this.CSS.textField,{innerHTML:t.text?t.text:"",contentEditable:!this.readOnly});return t.checked&&n.classList.add(this.CSS.itemChecked),r.innerHTML=Dde,i.appendChild(r),n.appendChild(i),n.appendChild(o),n}enterPressed(t){t.preventDefault();const n=this.items,r=document.activeElement.closest(`.${this.CSS.item}`);if(n.indexOf(r)===n.length-1&&DR(this.getItemInput(r)).length===0){const a=this.api.blocks.getCurrentBlockIndex();r.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(a+1);return}const i=NR(),o=Fde(i),s=this.createChecklistItem({text:o,checked:!1});this._elements.wrapper.insertBefore(s,r.nextSibling),BR(this.getItemInput(s),!0)}backspace(t){const n=t.target.closest(`.${this.CSS.item}`),r=this.items.indexOf(n),i=this.items[r-1];if(!i||window.getSelection().focusOffset!==0)return;t.preventDefault();const o=NR(),s=this.getItemInput(i),a=s.childNodes.length;s.appendChild(o),BR(s,void 0,a),n.remove()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}get items(){return Array.from(this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}removeSpecialHoverBehavior(t){t.classList.remove(this.CSS.noHover)}getItemInput(t){return t.querySelector(`.${this.CSS.textField}`)}}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const zde='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';/**
 * Delimiter Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */class Ude{static get isReadOnlySupported(){return!0}static get contentless(){return!0}constructor({data:t,config:n,api:r}){this.api=r,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._data={},this._element=this.drawView(),this.data=t}drawView(){let t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t}render(){return this._element}save(t){return{}}static get toolbox(){return{icon:zde,title:"Delimiter"}}}(function(e){var t=function(){try{return!!Symbol.iterator}catch{return!1}},n=t(),r=function(c){var d={next:function(){var h=c.shift();return{done:h===void 0,value:h}}};return n&&(d[Symbol.iterator]=function(){return d}),d},i=function(c){return encodeURIComponent(c).replace(/%20/g,"+")},o=function(c){return decodeURIComponent(String(c).replace(/\+/g," "))},s=function(){var c=function(h){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var f=typeof h;if(f!=="undefined")if(f==="string")h!==""&&this._fromString(h);else if(h instanceof c){var m=this;h.forEach(function(x,w){m.append(w,x)})}else if(h!==null&&f==="object")if(Object.prototype.toString.call(h)==="[object Array]")for(var g=0;g<h.length;g++){var y=h[g];if(Object.prototype.toString.call(y)==="[object Array]"||y.length!==2)this.append(y[0],y[1]);else throw new TypeError("Expected [string, any] as entry at index "+g+" of URLSearchParams's input")}else for(var b in h)h.hasOwnProperty(b)&&this.append(b,h[b]);else throw new TypeError("Unsupported input's type for URLSearchParams")},d=c.prototype;d.append=function(h,f){h in this._entries?this._entries[h].push(String(f)):this._entries[h]=[String(f)]},d.delete=function(h){delete this._entries[h]},d.get=function(h){return h in this._entries?this._entries[h][0]:null},d.getAll=function(h){return h in this._entries?this._entries[h].slice(0):[]},d.has=function(h){return h in this._entries},d.set=function(h,f){this._entries[h]=[String(f)]},d.forEach=function(h,f){var m;for(var g in this._entries)if(this._entries.hasOwnProperty(g)){m=this._entries[g];for(var y=0;y<m.length;y++)h.call(f,m[y],g,this)}},d.keys=function(){var h=[];return this.forEach(function(f,m){h.push(m)}),r(h)},d.values=function(){var h=[];return this.forEach(function(f){h.push(f)}),r(h)},d.entries=function(){var h=[];return this.forEach(function(f,m){h.push([m,f])}),r(h)},n&&(d[Symbol.iterator]=d.entries),d.toString=function(){var h=[];return this.forEach(function(f,m){h.push(i(m)+"="+i(f))}),h.join("&")},e.URLSearchParams=c},a=function(){try{var c=e.URLSearchParams;return new c("?a=1").toString()==="a=1"&&typeof c.prototype.set=="function"&&typeof c.prototype.entries=="function"}catch{return!1}};a()||s();var l=e.URLSearchParams.prototype;typeof l.sort!="function"&&(l.sort=function(){var c=this,d=[];this.forEach(function(f,m){d.push([m,f]),c._entries||c.delete(m)}),d.sort(function(f,m){return f[0]<m[0]?-1:f[0]>m[0]?1:0}),c._entries&&(c._entries={});for(var h=0;h<d.length;h++)this.append(d[h][0],d[h][1])}),typeof l._fromString!="function"&&Object.defineProperty(l,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(c){if(this._entries)this._entries={};else{var d=[];this.forEach(function(g,y){d.push(y)});for(var h=0;h<d.length;h++)this.delete(d[h])}c=c.replace(/^\?/,"");for(var f=c.split("&"),m,h=0;h<f.length;h++)m=f[h].split("="),this.append(o(m[0]),m.length>1?o(m[1]):"")}})})(typeof uc<"u"?uc:typeof window<"u"?window:typeof self<"u"?self:uc);(function(e){var t=function(){try{var i=new e.URL("b","http://a");return i.pathname="c d",i.href==="http://a/c%20d"&&i.searchParams}catch{return!1}},n=function(){var i=e.URL,o=function(l,c){typeof l!="string"&&(l=String(l)),c&&typeof c!="string"&&(c=String(c));var d=document,h;if(c&&(e.location===void 0||c!==e.location.href)){c=c.toLowerCase(),d=document.implementation.createHTMLDocument(""),h=d.createElement("base"),h.href=c,d.head.appendChild(h);try{if(h.href.indexOf(c)!==0)throw new Error(h.href)}catch(S){throw new Error("URL unable to set base "+c+" due to "+S)}}var f=d.createElement("a");f.href=l,h&&(d.body.appendChild(f),f.href=f.href);var m=d.createElement("input");if(m.type="url",m.value=l,f.protocol===":"||!/:/.test(f.href)||!m.checkValidity()&&!c)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:f});var g=new e.URLSearchParams(this.search),y=!0,b=!0,x=this;["append","delete","set"].forEach(function(S){var _=g[S];g[S]=function(){_.apply(g,arguments),y&&(b=!1,x.search=g.toString(),b=!0)}}),Object.defineProperty(this,"searchParams",{value:g,enumerable:!0});var w=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==w&&(w=this.search,b&&(y=!1,this.searchParams._fromString(this.search),y=!0))}})},s=o.prototype,a=function(l){Object.defineProperty(s,l,{get:function(){return this._anchorElement[l]},set:function(c){this._anchorElement[l]=c},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach(function(l){a(l)}),Object.defineProperty(s,"search",{get:function(){return this._anchorElement.search},set:function(l){this._anchorElement.search=l,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(s,{toString:{get:function(){var l=this;return function(){return l.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(l){this._anchorElement.href=l,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(l){this._anchorElement.pathname=l},enumerable:!0},origin:{get:function(){var l={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],c=this._anchorElement.port!=l&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(c?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(l){},enumerable:!0},username:{get:function(){return""},set:function(l){},enumerable:!0}}),o.createObjectURL=function(l){return i.createObjectURL.apply(i,arguments)},o.revokeObjectURL=function(l){return i.revokeObjectURL.apply(i,arguments)},e.URL=o};if(t()||n(),e.location!==void 0&&!("origin"in e.location)){var r=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:r,enumerable:!0})}catch{setInterval(function(){e.location.origin=r()},100)}}})(typeof uc<"u"?uc:typeof window<"u"?window:typeof self<"u"?self:uc);class Hde{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:kde,title:"Link"}}static get enableLineBreaks(){return!0}constructor({data:t,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this.config={endpoint:n.endpoint||"",headers:n.headers||{}},this.nodes={wrapper:null,container:null,progress:null,input:null,inputHolder:null,linkContent:null,linkImage:null,linkTitle:null,linkDescription:null,linkText:null},this._data={link:"",meta:{}},this.data=t}render(){return this.nodes.wrapper=this.make("div",this.CSS.baseClass),this.nodes.container=this.make("div",this.CSS.container),this.nodes.inputHolder=this.makeInputHolder(),this.nodes.linkContent=this.prepareLinkPreview(),Object.keys(this.data.meta).length?(this.nodes.container.appendChild(this.nodes.linkContent),this.showLinkPreview(this.data.meta)):this.nodes.container.appendChild(this.nodes.inputHolder),this.nodes.wrapper.appendChild(this.nodes.container),this.nodes.wrapper}save(){return this.data}validate(){return this.data.link.trim()!==""}set data(t){this._data=Object.assign({},{link:t.link||this._data.link,meta:t.meta||this._data.meta})}get data(){return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"link-tool",inputEl:"link-tool__input",inputHolder:"link-tool__input-holder",inputError:"link-tool__input-holder--error",linkContent:"link-tool__content",linkContentRendered:"link-tool__content--rendered",linkImage:"link-tool__image",linkTitle:"link-tool__title",linkDescription:"link-tool__description",linkText:"link-tool__anchor",progress:"link-tool__progress",progressLoading:"link-tool__progress--loading",progressLoaded:"link-tool__progress--loaded"}}makeInputHolder(){const t=this.make("div",this.CSS.inputHolder);return this.nodes.progress=this.make("label",this.CSS.progress),this.nodes.input=this.make("div",[this.CSS.input,this.CSS.inputEl],{contentEditable:!this.readOnly}),this.nodes.input.dataset.placeholder=this.api.i18n.t("Link"),this.readOnly||(this.nodes.input.addEventListener("paste",n=>{this.startFetching(n)}),this.nodes.input.addEventListener("keydown",n=>{const[r,i]=[13,65],o=n.ctrlKey||n.metaKey;switch(n.keyCode){case r:n.preventDefault(),n.stopPropagation(),this.startFetching(n);break;case i:o&&this.selectLinkUrl(n);break}})),t.appendChild(this.nodes.progress),t.appendChild(this.nodes.input),t}startFetching(t){let n=this.nodes.input.textContent;t.type==="paste"&&(n=(t.clipboardData||window.clipboardData).getData("text")),this.removeErrorStyle(),this.fetchLinkData(n)}removeErrorStyle(){var t,n;(n=(t=this.nodes.inputHolder)==null?void 0:t.classList)==null||n.remove(this.CSS.inputError),this.nodes.inputHolder.insertBefore(this.nodes.progress,this.nodes.input)}selectLinkUrl(t){t.preventDefault(),t.stopPropagation();const n=window.getSelection(),r=new Range,s=n.anchorNode.parentNode.closest(`.${this.CSS.inputHolder}`).querySelector(`.${this.CSS.inputEl}`);r.selectNodeContents(s),n.removeAllRanges(),n.addRange(r)}prepareLinkPreview(){const t=this.make("button",this.CSS.linkContent,{target:"_blank",rel:"nofollow noindex noreferrer"});return t.addEventListener("click",n=>{window.invokeNative("openUrl",this.data.link)}),this.nodes.linkImage=this.make("div",this.CSS.linkImage),this.nodes.linkTitle=this.make("div",this.CSS.linkTitle),this.nodes.linkDescription=this.make("p",this.CSS.linkDescription),this.nodes.linkText=this.make("span",this.CSS.linkText),t}showLinkPreview({image:t,title:n,description:r}){var i,o;this.nodes.container.appendChild(this.nodes.linkContent),t&&(this.nodes.linkImage.style.backgroundImage=`url('${t}')`,fetch(t).then(s=>{s.status===404?this.nodes.linkImage.style.display="none":this.nodes.linkImage.style.display="block"}),this.nodes.linkContent.appendChild(this.nodes.linkImage)),n&&(this.nodes.linkTitle.textContent=n,this.nodes.linkContent.appendChild(this.nodes.linkTitle)),r&&(this.nodes.linkDescription.textContent=r,this.nodes.linkContent.appendChild(this.nodes.linkDescription)),(o=(i=this.nodes.linkContent)==null?void 0:i.classList)==null||o.add(this.CSS.linkContentRendered),this.nodes.linkContent.setAttribute("href",this.data.link),this.nodes.linkContent.appendChild(this.nodes.linkText);try{this.nodes.linkText.textContent=new URL(this.data.link).hostname}catch{this.nodes.linkText.textContent=this.data.link}}showProgress(){var t,n;(n=(t=this.nodes.progress)==null?void 0:t.classList)==null||n.add(this.CSS.progressLoading)}hideProgress(){return new Promise(t=>{var n,r,i,o;(r=(n=this.nodes.progress)==null?void 0:n.classList)==null||r.remove(this.CSS.progressLoading),(o=(i=this.nodes.progress)==null?void 0:i.classList)==null||o.add(this.CSS.progressLoaded),setTimeout(t,500)})}applyErrorStyle(){var t,n;(n=(t=this.nodes.inputHolder)==null?void 0:t.classList)==null||n.add(this.CSS.inputError),this.nodes.progress.remove()}async fetchLinkData(t){this.showProgress(),this.data={link:t};try{const{body:n}=await Ql.get({url:this.config.endpoint,headers:this.config.headers,data:{url:t}});this.onFetch(n)}catch{this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data"))}}onFetch(t){if(!t||!t.success){this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one"));return}const n=t.meta,r=t.link||this.data.link;if(this.data={meta:n,link:r},!n){this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"));return}this.hideProgress().then(()=>{this.nodes.inputHolder.remove(),this.showLinkPreview(n)})}fetchingFailed(t){Me.error(t)}make(t,n=null,r={}){var o,s;const i=document.createElement(t);Array.isArray(n)?(o=i==null?void 0:i.classList)==null||o.add(...n):n&&((s=i==null?void 0:i.classList)==null||s.add(n));for(const a in r)i[a]=r[a];return i}}function Gde(e){return S2()?new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=i=>n(i)}):new Promise((t,n)=>{Se("getwebhook",{}).then(r=>{r||n("No webhook found");const i=new FormData;i.append("file",e),fetch(r,{method:"POST",body:i}).then(o=>{o.status==200?o.json().then(s=>{var a;t((a=s==null?void 0:s.attachments[0])==null?void 0:a.url)}):n("Error uploading image")})})})}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */class Vde{constructor({data:t,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=n,this._data=this.normalizeData(t),this._element=this.getTag()}normalizeData(t){const n={};return typeof t!="object"&&(t={}),n.text=t.text||"",n.level=parseInt(t.level)||this.defaultLevel.number,n}render(){return this._element}renderSettings(){return this.levels.map(t=>({icon:t.svg,label:this.api.i18n.t(`Heading ${t.number}`),onActivate:()=>this.setLevel(t.number),closeOnActivate:!0,isActive:this.currentLevel.number===t.number}))}setLevel(t){this.data={level:t,text:this.data.text}}merge(t){const n={text:this.data.text+t.text,level:this.data.level};this.data=n}validate(t){return t.text.trim()!==""}save(t){return{text:t.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(t){if(this._data=this.normalizeData(t),t.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}t.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){var n;const t=document.createElement(this.currentLevel.tag);return t.innerHTML=this._data.text||"",(n=t==null?void 0:t.classList)==null||n.add(this._CSS.wrapper),t.contentEditable=this.readOnly?"false":"true",t.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),t}get currentLevel(){let t=this.levels.find(n=>n.number===this._data.level);return t||(t=this.defaultLevel),t}get defaultLevel(){if(this._settings.defaultLevel){const t=this.levels.find(n=>n.number===this._settings.defaultLevel);if(t)return t;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const t=[{number:1,tag:"H1",svg:xde},{number:2,tag:"H2",svg:bde},{number:3,tag:"H3",svg:wde},{number:4,tag:"H4",svg:_de},{number:5,tag:"H5",svg:Ede},{number:6,tag:"H6",svg:Sde}];return this._settings.levels?t.filter(n=>this._settings.levels.includes(n.number)):t}onPaste(t){const n=t.detail.data;let r=this.defaultLevel.number;switch(n.tagName){case"H1":r=1;break;case"H2":r=2;break;case"H3":r=3;break;case"H4":r=4;break;case"H5":r=5;break;case"H6":r=6;break}this._settings.levels&&(r=this._settings.levels.reduce((i,o)=>Math.abs(o-r)<Math.abs(i-r)?o:i)),this.data={level:r,text:n.innerHTML}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:Ade,title:"Heading"}}}const dA={embed:ede,header:Vde,table:fde,marker:Hu,list:mde,warning:vde,linkTool:{class:Hde,config:{endpoint:"https://www.quasar-store.com/api/utils/geturlmeta"}},image:{class:ey,config:{uploader:{async uploadByFile(e){return{success:1,file:{url:await Gde(e)}}},async uploadByUrl(e){return{success:1,file:{url:e}}}}}},quote:Uu,checklist:jde,delimiter:Ude},Wde=uA();function $de(){const{t:e}=it(),{selectedPlayer:t,updateCurrentPlayer:n}=jr(),[r,i]=R.useState(!1),o=R.useRef(null),[s,a]=R.useState(!1),[l,c]=R.useState(!0),[d,h]=R.useState({time:new Date().getTime(),blocks:[]}),[f,m]=R.useState(""),[g,y]=R.useState(null);R.useEffect(()=>{const _=setTimeout(()=>{if(l){c(!1);return}},500);return()=>{clearTimeout(_)}},[]),R.useEffect(()=>{a(!0);let _={time:new Date().getTime(),blocks:[{id:"sample1",type:"header",data:{text:e("No Player Selected"),level:2}},{id:"sample2",type:"paragraph",data:{text:e("SELECT_AN_PLAYER")}}]};if(t&&(_={time:new Date().getTime(),blocks:[{id:"sample1",type:"header",data:{text:e("NOTES_FOR")+(t==null?void 0:t.firstname)+" "+(t==null?void 0:t.lastname)+" ("+(t==null?void 0:t.identifier)+")",level:2}},{id:"sample3",type:"paragraph",data:{text:e("NOTES_FOR_PLAYER")}}]}),t!=null&&t.notes){let A=t==null?void 0:t.notes;try{h(A===""?_:typeof A=="string"?JSON.parse(A):A)}catch(P){console.log(P),h(_)}}else h(_);const T=setTimeout(()=>{a(!1)},500);return()=>{clearTimeout(T)}},[t]);const b=R.useCallback(_=>{o.current=_},[]),x=R.useCallback(async(_,T)=>{if(!T)return Me.error(e("NO_SELECTED_PLAYER"));const A=await o.current.save(),P=38e4,k=JSON.stringify(A);if(k.length>P)return Me.error("Data size exceeds the maximum allowed (0.38MB), please remove some content and try again. Current size: "+k.length/1e6);n("notes",A,T),Me.promise(Se("mdt:profiles:updateNotes",{identifier:_,notes:A}),{pending:e("SAVING_DATA"),success:e("DATA_SAVED"),error:e("ERROR_SAVING_DATA")})},[]),w=_=>{m(_.target.value)},S=async _=>{_.preventDefault();var T=f;T&&(console.log("URL:",T),n("pp",T,t),Me.promise(Se("mdt:profiles:updatePhotoUrl",{identifier:t==null?void 0:t.identifier,pp:T}),{pending:e("SAVING_DATA"),success:e("DATA_SAVED"),error:e("ERROR_SAVING_DATA")}),m(""),y(null))};return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:`
                #manage-player-mdt {
                    display: grid;
                    grid-template:
                        "pp pp licenses"
                        "pp pp vehicles"
                        "pp pp tags"
                        "pp pp properties"
                        "notes notes notes"
                    ;
                    grid-template-columns: 1fr .6fr 3fr;
                    grid-template-rows: 1fr 1fr 1fr;
                }
            `}),v.jsxs("div",{className:"[grid-area:manage] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("MANAGE")}),v.jsxs("div",{id:"manage-player-mdt",children:[v.jsx("div",{className:"[grid-area:pp] h-40 w-40 relative rounded-lg",onClick:()=>i(!0),children:v.jsxs("div",{className:"w-full h-64 rounded-lg overflow-hidden",children:[v.jsx("img",{src:(t==null?void 0:t.pp)||e("POLICE_LOGO_URL"),alt:"Imagen de la persona",className:`h-40 w-40 object-cover bg-[url('${e("POLICE_LOGO_URL")}' object-cover)]`}),v.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 hover:opacity-75 transition duration-300 bg-gray-900 rounded-lg",children:v.jsx("span",{className:"text-white text-sm font-bold select-none",children:e("UPDATE_IMAGE")})})]})}),v.jsx(Vc,{className:"top-[46vh] left-[20vw]",open:r,handleCloseModal:()=>i(!1),title:"EDIT PROFILE",children:v.jsxs("form",{onSubmit:S,className:"max-w-lg mx-auto",children:[v.jsxs("div",{className:"mt-4 mb-5",children:[v.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",htmlFor:"file_url",children:e("UPLOAD_FILE")}),v.jsx("input",{type:"text",id:"file_url",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"https://example.com/file.jpg",value:f,onChange:w})]}),v.jsx("div",{className:"mt-4",children:v.jsx("span",{className:"block w-full rounded-md shadow-sm",children:v.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300",children:e("UPLOAD")})})})]})}),v.jsxs("div",{className:"[grid-area:licenses] ml-4 flex flex-col",children:[v.jsx("h3",{className:"text-centers",children:e("NAME")}),v.jsx("small",{children:(t==null?void 0:t.firstname)||"N/A"})]}),v.jsxs("div",{className:"[grid-area:vehicles] ml-4 flex flex-col",children:[v.jsx("h3",{className:"text-centers",children:e("LAST_NAME")}),v.jsx("small",{children:(t==null?void 0:t.lastname)||"N/A"})]}),v.jsxs("div",{className:"[grid-area:tags] ml-4 flex flex-col",children:[v.jsx("h3",{className:"text-centers",children:e("BIRTHDATE")}),v.jsx("small",{children:(t==null?void 0:t.dateofbirth)||"N/A"})]}),v.jsxs("div",{className:"[grid-area:notes]",children:[v.jsx("h3",{className:"m-1 justify-center text-center bg-gray-900 border-8 border-gray-900 rounded-lg",children:e("NOTES")}),v.jsxs("div",{className:" m-1 p-2 bg-gray-900 border-8 border-gray-900 rounded-lg h-[30rem] overflow-auto",children:[!s&&!l&&v.jsx(Wde,{holder:"editor",onInitialize:b,tools:dA,defaultValue:d,contentEditable:!!t}),v.jsx("div",{id:"editor"}),s||l&&v.jsx("div",{className:"flex items-center justify-center w-full ",children:v.jsxs("div",{role:"status",children:[v.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),v.jsx("span",{className:"sr-only",children:"Loading..."})]})})]}),v.jsxs("div",{className:" w-full mt-2 px-1 flex justify-end space-x-2 ",children:[v.jsx(K0,{to:"/mdt/incidents",customData:{search:`[identifier:${t==null?void 0:t.identifier}]`},className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:e("VIEW_INCIDENTS")}),v.jsxs("button",{onClick:()=>x(t==null?void 0:t.identifier,t),type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[e("UPDATE"),v.jsx("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]})]})]})]})]})}function Yde(){var l,c,d,h;const{t:e}=it(),{selectedPlayer:t,updateCurrentPlayer:n}=jr(),{newMdtData:r}=zn(),[i,o]=R.useState([]),s=(f,m,g)=>{if(!g)return Me.error("No Selected Player");const y=[...i];Me.promise(Se("mdt:profiles:addTag",{identifier:g==null?void 0:g.identifier,tag:m,oldTag:i[f]}).then(b=>{y[f]=m,o(y),n("tags",y,g)}),{pending:"Updating Tags",success:"Tags Updated",error:"Failed to update Tags"})},a=(f,m)=>{if(!m)return Me.error("No Selected Player");if(i.length>1){const g=[...i];Me.promise(Se("mdt:profiles:removeTag",{identifier:m==null?void 0:m.identifier,tag:i[f]}).then(y=>{g.splice(f,1),o(g),n("tags",g,m)}),{pending:"Removing Tag",success:"Tag Removed",error:"Failed to remove Tag"})}else{if(!i[i.length-1]){Me.error("No Selected Tag"),o([]),n("tags",[],m);return}Me.promise(Se("mdt:profiles:removeTag",{identifier:m==null?void 0:m.identifier,tag:i[i.length-1]}).then(g=>{o([]),n("tags",[],m)}),{pending:"Removing Tag",success:"Tag Removed",error:"Failed to remove Tag"})}};return R.useEffect(()=>{if(t)try{(t==null?void 0:t.tags)===""?o([]):o(JSON.parse(t==null?void 0:t.tags))}catch(f){console.log(f),console.log(t==null?void 0:t.tags),o(t==null?void 0:t.tags)}},[t]),v.jsxs("div",{className:"[grid-area:tags] bg-gray-800  h-72 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:"w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("TAGS")}),v.jsxs("div",{className:"flex flex-wrap justify-center bg-gray-900 rounded-lg mt-2 pb-2 w-full h-[13.5rem] p-4 overflow-auto",children:[!((c=(l=r==null?void 0:r.categories)==null?void 0:l.citizens)!=null&&c.CanManageTags)&&v.jsx("div",{className:"bg-gray-900 rounded-lg mt-2 pb-2 w-full flex flex-col space-y-2 max-h-[80%] smax-h-64 overflow-auto border-8 border-gray-900 pt-1",children:v.jsxs("div",{className:"flex flex-col justify-center items-center text-center pt-2",children:[v.jsx("span",{className:"text-white font-bold",children:e("NOT_ALLOWED")}),v.jsx("span",{className:"text-gray-400",children:e("NOT_ALLOWED_C")})]})}),((h=(d=r==null?void 0:r.categories)==null?void 0:d.citizens)==null?void 0:h.CanManageTags)&&v.jsxs(v.Fragment,{children:[i==null?void 0:i.map((f,m)=>v.jsxs("div",{className:"m-1 p-2 h-9 bg-gray-950 rounded-lg flex flex-row space-x-2 justify-center align-middle",children:[v.jsx("div",{contentEditable:"true",onBlur:g=>s(m,g.target.innerText,t),children:f}),v.jsx(ah,{fontSize:"20",className:" p-0 m-0 text-lg text-red-700 hover:cursor-pointer hover:text-red-500",onClick:()=>a(m,t)})]},m)),v.jsx("div",{className:"m-1 w-12 h-9 bg-gray-950 rounded-lg flex flex-row justify-center align-middle content-center",children:v.jsx(eF,{fontSize:"40",className:" p-1 mt-2 text-2xl text-green-500 justify-center align-middle hover:cursor-pointer hover:text-green-300",onClick:()=>{if(!t)return Me.error("No Selected Player");o([...i,"Tag"])}})})]})]})]})}function qde(){var i,o,s,a,l,c;const{selectedPlayer:e,updateCurrentPlayer:t}=jr(),{newMdtData:n}=zn(),{t:r}=it();return v.jsxs("div",{className:"[grid-area:vehicles] bg-gray-800 rounded-lg m-2 p-2 h-72",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:r("VEHICLES")}),v.jsxs("div",{className:"bg-gray-900 rounded-lg mt-2 pb-2 flex flex-col space-y-2 w-full h-[13.5rem] p-4 overflow-auto border-8 border-gray-900 pt-1",children:[!((o=(i=n==null?void 0:n.categories)==null?void 0:i.citizens)!=null&&o.CanViewVehicles)&&v.jsxs("div",{className:"flex flex-col justify-center items-center pt-2 text-center",children:[v.jsx("span",{className:"text-white font-bold",children:r("NOT_ALLOWED")}),v.jsx("span",{className:"text-gray-400",children:r("NOT_ALLOWED_C")})]}),((a=(s=n==null?void 0:n.categories)==null?void 0:s.citizens)==null?void 0:a.CanViewVehicles)&&v.jsxs(v.Fragment,{children:[(((l=e==null?void 0:e.vehicles)==null?void 0:l.length)<=0||!(e!=null&&e.vehicles))&&v.jsxs("div",{className:"flex flex-col justify-center items-center text-center pt-2",children:[v.jsx("span",{className:"text-white font-bold",children:r("NO_VEHS_FOUND")}),v.jsx("span",{className:"text-gray-400",children:r("NO_VEHS_FOUND_C")})]}),(c=e==null?void 0:e.vehicles)==null?void 0:c.map((d,h)=>v.jsx("div",{className:"bg-gray-800 rounded-lg mx-2 p-2",children:v.jsx("div",{className:"flex flex-row justify-between",children:v.jsxs("div",{className:"flex flex-col justify-center w-full",children:[v.jsx("span",{className:"text-white font-bold",children:d==null?void 0:d.model_name}),v.jsx("span",{className:"text-gray-400",children:d==null?void 0:d.plate})]})})},h))]})]})]})}function Zde(){return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:`
                #profiles-mdt {
                    display: grid;
                    grid-template:
                        "search manage licenses"
                        "search manage vehicles"
                        "houses manage tags"
                        "bills bills bills"
                    ;
                    grid-template-columns: 4fr 4fr 3fr;
                    grid-template-rows: 1fr 1fr 1fr;
                    opacity: 0;
                    animation: fadeIn 0.5s ease-in-out forwards;
                }
                @keyframes fadeIn {
                    0% {
                        opacity: 0; /* Al inicio de la animacin, la opacidad es 0 */
                    }
                    100% {
                        opacity: 1; /* Al final de la animacin, la opacidad es 1 */
                    }
                }
            `}),v.jsxs("div",{id:"profiles-mdt",children:[v.jsx(Ile,{}),v.jsx($de,{}),v.jsx(qle,{}),v.jsx(qde,{}),v.jsx(Yde,{}),v.jsx(jle,{}),v.jsx(Ole,{})]})]})}function hA({cbAdd:e=n=>{},cbSearch:t=n=>{}}){const{t:n}=it(),[r,i]=R.useState(""),[o,s]=R.useState([]);wm();function a(c){e(c),s([]),i("")}function l(c,d){c&&c.preventDefault(),Se("mdt:players:search",{search:d}).then(h=>{s(h)})}return v.jsxs(v.Fragment,{children:[v.jsxs("form",{className:"flex items-center",children:[v.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:n("SEARCH")}),v.jsxs("div",{className:"relative z-0 w-full",children:[v.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:v.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"})})}),v.jsx("input",{onChange:c=>i(c.target.value),value:r,type:"text",id:"simple-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:n("SEARCH"),required:!0})]}),v.jsxs("button",{onClick:c=>l(c,r),type:"submit",className:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[v.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),v.jsx("span",{className:"sr-only",children:n("SEARCH")})]})]}),o.length>0&&v.jsx(VC,{onOutsideClick:()=>{s([]),i("")},children:v.jsx("div",{className:"absolute z-50 w-[13vw] max-h-[20vh] mt-2 bg-gray-900 border-4 border-gray-900 rounded-lg shadow-black shadow-lg overflow-auto p-4",children:v.jsx("ul",{className:"text-white space-y-2",children:o.map((c,d)=>v.jsxs("li",{onClick:()=>a(c),className:"flex items-center px-4 pt-2 space-x-2 text-white hover:text-gray-300 hover:cursor-pointer bg-gray-700 rounded-lg",children:[v.jsx("span",{className:"flex-1 aborder-b aborder-gray-600 pb-2",children:c.name}),v.jsxs("button",{type:"button",className:"relative top-[-.4vh] text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[v.jsx("svg",{className:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})}),v.jsx("span",{className:"sr-only",children:"Icon description"})]})]},d))})})})]})}function Xde(){const{t:e}=it(),{updateCurrentIncident:t,currentIncident:n}=jr(),[r,i]=R.useState([]);R.useEffect(()=>{n!=null&&n.citizens_involved?typeof(n==null?void 0:n.citizens_involved)=="string"?i(JSON.parse(n==null?void 0:n.citizens_involved)??[]):i((n==null?void 0:n.citizens_involved)??[]):i([])},[n]);function o(a){i(l=>typeof l!="object"?[a]:l.find(c=>c.id===a.id)?(Me.error("User already added"),l):(t("citizens_involved",[...l,a]),[...l,a]))}function s(a){t("citizens_involved",r.filter(l=>l.id!==a)),i(l=>l.filter(c=>c.id!==a))}return v.jsxs("div",{className:"[grid-area:licenses] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("CITIZENS_INVOLVED")}),v.jsx(hA,{cbAdd:o}),v.jsx("div",{className:"flex flex-wrap justify-center h-[9rem] p-4 overflow-auto",children:r==null?void 0:r.map((a,l)=>v.jsxs("div",{className:"m-1 p-2 h-9 bg-gray-900 rounded-lg flex flex-row space-x-2 justify-center align-middle",children:[v.jsx("div",{children:a==null?void 0:a.name}),v.jsx(ah,{fontSize:"20",className:" p-0 m-0 text-lg text-red-700 hover:cursor-pointer hover:text-red-500",onClick:()=>s(a==null?void 0:a.id)})]},l))})]})}function Kde(){const{t:e}=it(),{updateCurrentIncident:t,currentIncident:n}=jr(),[r,i]=R.useState([]);R.useEffect(()=>{n!=null&&n.officers_involved?typeof(n==null?void 0:n.officers_involved)=="string"?i(JSON.parse(n==null?void 0:n.officers_involved)??[]):i((n==null?void 0:n.officers_involved)??[]):i([])},[n]);function o(a){i(l=>typeof l!="object"?[a]:l.find(c=>c.id===a.id)?(Me.error("User already added"),l):(t("officers_involved",[...l,a]),[...l,a]))}function s(a){t("officers_involved",r.filter(l=>l.id!==a)),i(l=>l.filter(c=>c.id!==a))}return v.jsxs("div",{className:"[grid-area:tags] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("COMPANIONS_INVOLVED")}),v.jsx(hA,{cbAdd:o}),v.jsx("div",{className:"flex flex-wrap justify-center h-[9rem] p-4 overflow-auto",children:r==null?void 0:r.map((a,l)=>v.jsxs("div",{className:"m-1 p-2 h-9 bg-gray-900 rounded-lg flex flex-row space-x-2 justify-center align-middle",children:[v.jsx("div",{children:a==null?void 0:a.name}),v.jsx(ah,{fontSize:"20",className:" p-0 m-0 text-lg text-red-700 hover:cursor-pointer hover:text-red-500",onClick:()=>s(a==null?void 0:a.id)})]},l))})]})}function Jde(){const{t:e}=it(),{updateCurrentIncident:t,currentIncident:n}=jr(),[r,i]=R.useState([]);R.useEffect(()=>{n!=null&&n.criminals_involved?typeof(n==null?void 0:n.criminals_involved)=="string"?i(JSON.parse(n==null?void 0:n.criminals_involved)??[]):i((n==null?void 0:n.criminals_involved)??[]):i([])},[n]);function o(a){i(l=>typeof l!="object"?[a]:l.find(c=>c.id===a.id)?(Me.error("User already added"),l):(t("criminals_involved",[...l,a]),[...l,a]))}function s(a){t("criminals_involved",r.filter(l=>l.id!==a)),i(l=>l.filter(c=>c.id!==a))}return v.jsxs("div",{className:"[grid-area:vehicles] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("CRIMINALS_INVOLVED")}),v.jsx(hA,{cbAdd:o}),v.jsx("div",{className:"flex flex-wrap justify-center h-[9rem] p-4 overflow-auto",children:r==null?void 0:r.map((a,l)=>v.jsxs("div",{className:"m-1 p-2 h-9 bg-gray-900 rounded-lg flex flex-row space-x-2 justify-center align-middle",children:[v.jsx("div",{children:a==null?void 0:a.name}),v.jsx(ah,{fontSize:"20",className:" p-0 m-0 text-lg text-red-700 hover:cursor-pointer hover:text-red-500",onClick:()=>s(a==null?void 0:a.id)})]},l))})]})}function Qde(){const{t:e}=it(),{customData:t}=Rb(),{incidents:n,setIncidents:r,setCurrentIncident:i}=jr();R.useState(null),wm("mdt:incidents:fetch",[{id:1,CreatorName:"Pepe Joroba 33",jobtype:"police",title:"Robo joyeria1",content:JSON.stringify({time:new Date().getTime(),blocks:[{id:"sample1",type:"header",data:{text:"Created Incident",level:1}}]}),citizens_involved:[{id:"CfxIdentifier1",name:"Pablo Escobar"},{id:"CfxIdentifier10",name:"Jhon cena"},{id:"CfxIdentifier19",name:"para que quiero mas"}],criminals_involved:[{id:"CfxIdentifier2",name:"Bobby Smith"},{id:"CfxIdentifier211",name:"Jhonny Doe"},{id:"CfxIdentifier92",name:"Perico de los Palotes"}],officers_involved:[{id:"CfxIdentifier3",name:"Pepe Joroba 33"},{id:"CfxIdentifier12",name:"Ryan Gosling"},{id:"CfxIdentifier299",name:"John Doe"},{id:"CfxIdentifier",name:"Ryan Spencer"}],createdAt:new Date().toISOString()},{id:2,CreatorName:"Pepe Joroba 33",jobtype:"police",title:"Robo joyeria2",content:"",citizens_involved:[{id:"CfxIdentifier4",name:"Pablo Escobar2"},{id:"CfxIdentifier13",name:"Jhon cena2"},{id:"CfxIdentifier534",name:"para que quiero mas2"}],criminals_involved:[{id:"CfxIdentifier5",name:"Bobby Smith2"},{id:"CfxIdentifier14",name:"Jhonny Doe2"},{id:"CfxIdentifier345",name:"Perico de los Palotes2"}],officers_involved:[{id:"CfxIdentifier6",name:"Pepe Joroba 332"},{id:"CfxIdentifier15",name:"Ryan Gosling2"},{id:"CfxIdentifier34543",name:"John Doe2"},{id:"CfxIdentifier",name:"Ryan Spencer"}],createdAt:new Date().toISOString()},{id:3,CreatorName:"Pepe Joroba 33",jobtype:"police",title:"Robo joyeria3",content:"",citizens_involved:[{id:"CfxIdentifier7",name:"Pablo Escobar3"},{id:"CfxIdentifier16",name:"Jhon cena3"},{id:"CfxIdentifier43ff3",name:"para que quiero mas3"}],criminals_involved:[{id:"CfxIdentifier8",name:"Bobby Smith3"},{id:"CfxIdentifier17",name:"Jhonny Doe3"},{id:"CfxIdentifierf344",name:"Perico de los Palotes3"}],officers_involved:[{id:"CfxIdentifier9",name:"Pepe Joroba 333"},{id:"CfxIdentifier18",name:"Ryan Gosling3"},{id:"CfxIdentifierge45",name:"John Doe3"},{id:"CfxIdentifiergre55",name:"Ryan Spencer"}],createdAt:new Date().toISOString()}]);const[o,s]=R.useState("");function a(c,d){var f,m;c&&c.preventDefault(),i({});let h=null;typeof(c==null?void 0:c.search)=="string"&&(f=c==null?void 0:c.search)!=null&&f.includes("[identifier:")&&(h=(m=c==null?void 0:c.search)==null?void 0:m.split("[identifier:")[1].split("]")[0]),d?Se("mdt:incidents:fetch",{query:o,identifier:h}).then(g=>{r(g)}):Me.promise(Se("mdt:incidents:fetch",{query:o,identifier:h}).then(g=>{r(g)}),{pending:e("LOADING_DATA"),success:e("DATA_LOADED"),error:e("ERROR_GETTING_DATA")})}R.useEffect(()=>{t!=null&&t.search&&a({preventDefault:()=>{},search:t.search},!0)},[]);function l(c){i(c)}return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"[grid-area:search] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("INCIDENTS")}),v.jsxs("form",{className:"flex items-center",children:[v.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:e("SEARCH")}),v.jsxs("div",{className:"relative z-0 w-full",children:[v.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:v.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"})})}),v.jsx("input",{onChange:c=>s(c.target.value),value:o,type:"text",id:"simple-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:e("SEARCH"),required:!0})]}),v.jsxs("button",{onClick:c=>a(c),type:"submit",className:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[v.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),v.jsx("span",{className:"sr-only",children:e("SEARCH")})]})]}),v.jsxs("ul",{role:"list",className:"bg-gray-900 rounded-lg mt-2 pb-2 w-full  space-y-2 h-[40rem] overflow-auto border-8 border-gray-900 pt-1",children:[n.length===0&&v.jsxs("div",{className:"flex flex-col justify-center items-center pt-2",children:[v.jsx("span",{className:"text-white font-bold",children:e("NO_RESULTS_FOUND")}),v.jsx("span",{className:"text-gray-400",children:e("TRY_SEARCH_SMT_ELSE")})]}),n==null?void 0:n.map((c,d)=>{let h=c.id;return c.id<1e3&&(h="0"+c.id),v.jsx("li",{onClick:()=>l(c),className:"py-3 sm:py-4 bg-gray-800 hover:bg-gray-700 hover:p-3 hover:cursor-pointer transition-all rounded-lg mx-2 p-2",children:v.jsx("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate dark:text-white",children:v.jsxs("div",{className:"flex flex-col justify-center w-full",children:[v.jsxs("span",{className:"text-white font-bold",children:["#",h," ",c==null?void 0:c.title]}),v.jsx("span",{className:"text-gray-400",children:c==null?void 0:c.job})]})}),v.jsx("div",{className:"text-sm text-gray-500 truncate dark:text-gray-400",children:v.jsx("div",{className:"flex flex-col justify-center w-full",children:v.jsxs("small",{className:"text-gray-400",children:[c==null?void 0:c.CreatorName," ~ ",c==null?void 0:c.createdAt]})})})]})})},d)})]})]})})}const ehe=uA();function the(){const{t:e}=it(),{updateCurrentIncident:t,currentIncident:n,IncidentContentDFTDT:r,StartCreatingIncident:i,setCurrentIncident:o}=jr(),s=R.useRef(null),[a,l]=R.useState(!1),[c,d]=R.useState(""),[h,f]=R.useState(!0),{navigateTo:m,setCustomData:g}=Rb(),[y,b]=R.useState({time:new Date().getTime(),blocks:[]});R.useEffect(()=>{const _=setTimeout(()=>{if(h){f(!1);return}},500);return()=>{clearTimeout(_)}},[]),R.useEffect(()=>{if(l(!(n!=null&&n.creating)),n!=null&&n.content){let T=n==null?void 0:n.content;try{b(T===""?r:typeof T=="string"?JSON.parse(T):T)}catch(A){console.log(A),b(r)}}else b(r);const _=setTimeout(()=>{l(!1)},500);return()=>{clearTimeout(_)}},[n]);const x=R.useCallback(_=>{s.current=_},[]),w=R.useCallback(async _=>{if(!_)return Me.error("No Selected Player");function T(P){g({search:P}),m("/mdt/incidents"),o({})}const A=new Promise(async(P,k)=>{const M=await s.current.save(),I=38e4,N=JSON.stringify(M);if(N.length>I){Me.error("Data size exceeds the maximum allowed (0.38MB), please remove some content and try again. Current size: "+N.length/1e6),k(!1);return}if(!(_!=null&&_.title)){Me.error("No Title"),k(!1);return}t("content",M,_),_!=null&&_.creating?Se("mdt:incidents:create",{title:_==null?void 0:_.title,content:M,citizens_involved:_==null?void 0:_.citizens_involved,criminals_involved:_==null?void 0:_.criminals_involved,officers_involved:_==null?void 0:_.officers_involved}).then(U=>{U?(t("id",U.id,_),t("creating",!1,_),P(!0),T(_==null?void 0:_.title)):k(!1)}):Se("mdt:incidents:update",{id:_==null?void 0:_.id,title:_==null?void 0:_.title,content:M,citizens_involved:_==null?void 0:_.citizens_involved,criminals_involved:_==null?void 0:_.criminals_involved,officers_involved:_==null?void 0:_.officers_involved}).then(U=>{U?(P(!0),T(_==null?void 0:_.title)):k(!1)})});Me.promise(A,{pending:{render({promiseProps:P}){return e("SAVING_DATA")}},success:{render({promiseProps:P}){return e("DATA_SAVED")}},error:{render({promiseProps:P}){return e("ERROR_SAVING_DATA")}}})},[]);function S(_){d(_.target.value),t("title",_.target.value)}return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"[grid-area:manage] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("MANAGE")}),v.jsxs("div",{id:"manage-player-mdt",children:[(n==null?void 0:n.creating)&&v.jsx(WC,{type:"info",message:{title:"Info",description:e("U_ARE_CREATING_A_NEW_INCIDENT")},button:{text:e("CREATE_NEW_INCIDENT"),onClick:()=>w(n)}}),!(n!=null&&n.creating)&&v.jsx("div",{className:"flex justify-center",children:v.jsxs("button",{onClick:()=>i(),type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[e("CREATE_NEW_INCIDENT"),v.jsx("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})}),v.jsx("div",{className:"flex flex-col",children:v.jsxs("div",{className:"mb-5",children:[v.jsx("label",{htmlFor:"Title",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:e("YOUR_TITLE")}),v.jsx("input",{onChange:S,value:n==null?void 0:n.title,type:"Title",id:"Title",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:""})]})}),v.jsxs("div",{className:"",children:[v.jsx("h3",{className:"m-1 justify-center text-center bg-gray-900 border-8 border-gray-900 rounded-lg",children:e("CONTENT")}),v.jsxs("div",{className:" m-1 p-2 bg-gray-900 border-8 border-gray-900 rounded-lg max-h-[22rem] overflow-auto",children:[!a&&!h&&v.jsx(ehe,{holder:"editor",onInitialize:x,tools:dA,defaultValue:y,contentEditable:!!n}),v.jsx("div",{id:"editor"}),a||h&&v.jsx("div",{className:"flex items-center justify-center w-full ",children:v.jsxs("div",{role:"status",children:[v.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),v.jsx("span",{className:"sr-only",children:"Loading..."})]})})]}),!(n!=null&&n.creating)&&v.jsx("div",{className:" w-full px-1 flex justify-end ",children:v.jsxs("button",{onClick:()=>w(n),type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[e("UPDATE"),v.jsx("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})})]})]})]})})}function nhe(){return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:`
                #incidents-mdt {
                    display: grid;
                    grid-template:
                        "search manage licenses"
                        "search manage vehicles"
                        "search manage tags"
                    ;
                    grid-template-columns: 4fr 4fr 3fr;
                    grid-template-rows: 1fr 1fr 1fr;
                    opacity: 0;
                    animation: fadeIn 0.5s ease-in-out forwards;
                }
                @keyframes fadeIn {
                    0% {
                        opacity: 0; /* Al inicio de la animacin, la opacidad es 0 */
                    }
                    100% {
                        opacity: 1; /* Al final de la animacin, la opacidad es 1 */
                    }
                }
            `}),v.jsxs("div",{className:"show",id:"incidents-mdt",children:[v.jsx(Qde,{}),v.jsx(the,{}),v.jsx(Xde,{}),v.jsx(Jde,{}),v.jsx(Kde,{})]})]})}R.createContext();const rhe=()=>{const{plateResults:e,setPlateResults:t}=jr(),{setLoading:n}=zn(),{t:r}=it(),[i,o]=R.useState(""),[s,a]=R.useState({});function l(){a({})}function c(h){n(!0),a({}),Me.promise(Se("getVehiclesByPlate",{plate:i}).then(f=>{t(f),o(""),n(!1)}),{pending:"Loading data...",success:r("SEARCH_SUCCESS"),error:r("SEARCH_ERROR")}),n(!1)}const d=h=>{o(h.target.value)};return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:`
            .pd-vehs {
                opacity: 0;
                animation: fadeIn 0.5s ease-in-out forwards;
            }
            @keyframes fadeIn {
                0% {
                    opacity: 0; /* Al inicio de la animacin, la opacidad es 0 */
                }
                100% {
                    opacity: 1; /* Al final de la animacin, la opacidad es 1 */
                }
            }
            `}),v.jsxs("div",{className:" pd-vehs flex items-center mx-4",children:[v.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),v.jsxs("div",{className:"relative z-0 w-full",children:[v.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:v.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"})})}),v.jsx("input",{onChange:d,value:i,type:"text",id:"simple-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:r("SEARCH"),required:!0})]}),v.jsxs("button",{onClick:()=>c(),className:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[v.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),v.jsx("span",{className:"sr-only",children:"Search"})]})]}),v.jsxs("div",{className:" pd-vehs p-4 max-h-[80vh] mtsd-[2.3vh] mb-48",children:[v.jsx("h2",{className:" text-center text-[1.2vh] font-bold mb-[1.5vh]",children:r("SEARCH_RESULTS")}),v.jsxs("div",{className:"overflow-auto h-[50vh] max-h-[50vh] bg-gray-800 rounded-[1vh] p-[1vh]",id:"results_table_container",children:[e.length===0&&v.jsxs("div",{className:"flex flex-col justify-center items-center pt-2",children:[v.jsx("span",{className:"text-white font-bold",children:r("NO_RESULTS_FOUND")}),v.jsx("span",{className:"text-gray-400",children:r("TRY_SEARCH_SMT_ELSE")})]}),v.jsx("table",{id:"results_table",className:"w-full mb-[1vh]",children:v.jsx(GB,{results:e,setSelectedPlate:a,onClickChange:l})})]}),v.jsx("br",{}),v.jsx(VB,{New:!0,identifier:s==null?void 0:s.owner,plate:s==null?void 0:s.plate})]})]})},ihe=({page:e})=>{const t=R.useRef(null),[n,r]=R.useState(!1),[i,o]=R.useState({});return R.useEffect(()=>{const s=()=>{const l=t.current.contentWindow.document;l.readyState==="complete"&&(r(!0),l.body.style.visibility="visible",l.documentElement.style.visibility="visible",t.current.contentWindow.postMessage({action:"setVisible"},e.ui),o({iframe:t.current}))},a=t.current;return a.addEventListener("load",s),()=>{a.removeEventListener("load",s)}},[e]),v.jsxs("div",{className:`application ${e.title}-app`,children:[!n&&v.jsx("div",{children:"Loading..."}),"  ",v.jsx("iframe",{ref:t,src:e.ui,style:{display:n?"block":"none"},className:" w-full h-screen"})]})};function ohe({cbAdd:e=r=>{},cbSearch:t=r=>{},placeholder:n="Search"}){const[r,i]=R.useState(""),[o,s]=R.useState([]);wm();function a(c){e(c),s([]),i("")}function l(c,d){c&&c.preventDefault(),Se("mdt:players:search",{search:d}).then(h=>{s(h)})}return v.jsxs(v.Fragment,{children:[v.jsxs("form",{className:"flex items-center",children:[v.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),v.jsxs("div",{className:"relative z-0 w-full",children:[v.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:v.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"})})}),v.jsx("input",{onChange:c=>i(c.target.value),value:r,type:"text",id:"simple-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:n,required:!0})]}),v.jsxs("button",{onClick:c=>l(c,r),type:"submit",className:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[v.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),v.jsx("span",{className:"sr-only",children:"Search"})]})]}),o.length>0&&v.jsx(VC,{onOutsideClick:()=>{s([]),i("")},children:v.jsx("div",{className:"absolute z-50 w-[13vw] max-h-[20vh] mt-2 bg-gray-900 border-4 border-gray-900 rounded-lg shadow-black shadow-lg overflow-auto p-4",children:v.jsx("ul",{className:"text-white space-y-2",children:o.map((c,d)=>v.jsxs("li",{onClick:()=>a(c),className:"flex items-center px-4 pt-2 space-x-2 text-white hover:text-gray-300 hover:cursor-pointer bg-gray-700 rounded-lg",children:[v.jsx("span",{className:"flex-1 aborder-b aborder-gray-600 pb-2",children:c.name}),v.jsxs("button",{type:"button",className:"relative top-[-.4vh] text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[v.jsx("svg",{className:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})}),v.jsx("span",{className:"sr-only",children:"Icon description"})]})]},d))})})})]})}function she(){const{t:e}=it(),{updateCurrentIncident:t,currentIncident:n}=jr(),[r,i]=R.useState([]);R.useEffect(()=>{n!=null&&n.officers_involved?typeof(n==null?void 0:n.officers_involved)=="string"?i(JSON.parse(n==null?void 0:n.officers_involved)??[]):i((n==null?void 0:n.officers_involved)??[]):i([])},[n]);function o(a){i(l=>typeof l!="object"?[a]:l.find(c=>c.id===a.id)?(Me.error("User already added"),l):(t("officers_involved",[...l,a]),[...l,a]))}function s(a){t("officers_involved",r.filter(l=>l.id!==a)),i(l=>l.filter(c=>c.id!==a))}return v.jsxs("div",{className:"[grid-area:companions] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("COMPANIONS_INVOLVED")}),v.jsx(ohe,{cbAdd:o,placeholder:e("SEARCH")}),v.jsx("div",{className:"flex flex-wrap justify-center",children:r==null?void 0:r.map((a,l)=>v.jsxs("div",{className:"m-1 p-2 h-9 bg-gray-900 rounded-lg flex flex-row space-x-2 justify-center align-middle",children:[v.jsx("div",{children:a==null?void 0:a.name}),v.jsx(ah,{fontSize:"20",className:" p-0 m-0 text-lg text-red-700 hover:cursor-pointer hover:text-red-500",onClick:()=>s(a==null?void 0:a.id)})]},l))})]})}function ahe(){const{customData:e}=Rb(),{t}=it(),{bolos:n,setBolos:r,setCurrentBolo:i}=jr();R.useState(null),wm("mdt:bolos:fetch",[{id:1,CreatorName:"Pepe Joroba 33",jobtype:"police",title:"Robo joyeria1",content:JSON.stringify({time:new Date().getTime(),blocks:[{id:"sample1",type:"header",data:{text:"Created Incident",level:1}}]}),officers_involved:[{id:"CfxIdentifier3",name:"Pepe Joroba 33"},{id:"CfxIdentifier12",name:"Ryan Gosling"},{id:"CfxIdentifier299",name:"John Doe"},{id:"CfxIdentifier",name:"Ryan Spencer"}],createdAt:new Date().toISOString()},{id:2,CreatorName:"Pepe Joroba 33",jobtype:"police",title:"Robo joyeria2",content:"",officers_involved:[{id:"CfxIdentifier6",name:"Pepe Joroba 332"},{id:"CfxIdentifier15",name:"Ryan Gosling2"},{id:"CfxIdentifier34543",name:"John Doe2"},{id:"CfxIdentifier",name:"Ryan Spencer"}],createdAt:new Date().toISOString()},{id:3,CreatorName:"Pepe Joroba 33",jobtype:"police",title:"Robo joyeria3",content:"",officers_involved:[{id:"CfxIdentifier9",name:"Pepe Joroba 333"},{id:"CfxIdentifier18",name:"Ryan Gosling3"},{id:"CfxIdentifierge45",name:"John Doe3"},{id:"CfxIdentifiergre55",name:"Ryan Spencer"}],createdAt:new Date().toISOString()}]);const[o,s]=R.useState("");function a(c,d){var f,m;c&&c.preventDefault();let h=null;typeof(c==null?void 0:c.search)=="string"&&(f=c==null?void 0:c.search)!=null&&f.includes("[identifier:")&&(h=(m=c==null?void 0:c.search)==null?void 0:m.split("[identifier:")[1].split("]")[0]),d?Se("mdt:bolos:fetch",{query:o,identifier:h}).then(g=>{r(g)}):Me.promise(Se("mdt:bolos:fetch",{query:o,identifier:h}).then(g=>{r(g)}),{pending:t("LOADING_DATA"),success:t("DATA_LOADED"),error:t("ERROR_GETTING_DATA")})}R.useEffect(()=>{e!=null&&e.search&&a({preventDefault:()=>{},search:e.search},!0)},[]);function l(c){i(c)}return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"[grid-area:search] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:t("BOLOS")}),v.jsxs("form",{className:"flex items-center",children:[v.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:t("SEARCH")}),v.jsxs("div",{className:"relative z-0 w-full",children:[v.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:v.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"})})}),v.jsx("input",{onChange:c=>s(c.target.value),value:o,type:"text",id:"simple-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("SEARCH"),required:!0})]}),v.jsxs("button",{onClick:c=>a(c),type:"submit",className:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[v.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),v.jsx("span",{className:"sr-only",children:t("SEARCH")})]})]}),v.jsxs("ul",{role:"list",className:"bg-gray-900 rounded-lg mt-2 pb-2 w-full  space-y-2 max-h-[80%] smax-h-64 overflow-auto border-8 border-gray-900 pt-1",children:[n.length===0&&v.jsxs("div",{className:"flex flex-col justify-center items-center pt-2",children:[v.jsx("span",{className:"text-white font-bold",children:t("NO_RESULTS_FOUND")}),v.jsx("span",{className:"text-gray-400",children:t("TRY_SEARCH_SMT_ELSE")})]}),n==null?void 0:n.map((c,d)=>v.jsx("li",{onClick:()=>l(c),className:"py-3 sm:py-4 bg-gray-800 hover:bg-gray-700 hover:p-3 hover:cursor-pointer transition-all rounded-lg mx-2 p-2",children:v.jsx("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate dark:text-white",children:v.jsxs("div",{className:"flex flex-col justify-center w-full",children:[v.jsx("span",{className:"text-white font-bold",children:c==null?void 0:c.title}),v.jsx("span",{className:"text-gray-400",children:c==null?void 0:c.job})]})}),v.jsx("p",{className:"text-sm text-gray-500 truncate dark:text-gray-400",children:v.jsx("div",{className:"flex flex-col justify-center w-full",children:v.jsxs("small",{className:"text-gray-400",children:[c==null?void 0:c.CreatorName," ~ ",c==null?void 0:c.createdAt]})})})]})})},d))]})]})})}const lhe=uA();function che(){const{t:e}=it(),{updateCurrentBolo:t,currentBolo:n,BoloContentDFTDT:r,StartCreatingBolo:i}=jr(),o=R.useRef(null),[s,a]=R.useState(!1),[l,c]=R.useState(!0),[d,h]=R.useState(""),[f,m]=R.useState({time:new Date().getTime(),blocks:[]});R.useEffect(()=>{const x=setTimeout(()=>{if(l){c(!1);return}},500);return()=>{clearTimeout(x)}},[]),R.useEffect(()=>{if(a(!(n!=null&&n.creating)),n!=null&&n.content){let w=n==null?void 0:n.content;try{m(w===""?r:typeof w=="string"?JSON.parse(w):w)}catch(S){console.log(S),m(r)}}else m(r);const x=setTimeout(()=>{a(!1)},500);return()=>{clearTimeout(x)}},[n]);const g=R.useCallback(x=>{o.current=x},[]),y=R.useCallback(async x=>{if(!x)return Me.error("No Selected Player");const w=new Promise(async(S,_)=>{const T=await o.current.save(),A=38e4,P=JSON.stringify(T);if(P.length>A)return Me.error("Data size exceeds the maximum allowed (0.38MB), please remove some content and try again. Current size: "+P.length/1e6);if(!(x!=null&&x.title)){Me.error("No Title"),_(!1);return}t("content",T,x),x!=null&&x.creating?Se("mdt:bolos:create",{title:x==null?void 0:x.title,content:T,citizens_involved:x==null?void 0:x.citizens_involved,criminals_involved:x==null?void 0:x.criminals_involved,officers_involved:x==null?void 0:x.officers_involved}).then(k=>{k?(t("id",k.id,x),t("creating",!1,x),S(!0)):_(!1)}):Se("mdt:bolos:update",{id:x==null?void 0:x.id,title:x==null?void 0:x.title,content:T,citizens_involved:x==null?void 0:x.citizens_involved,criminals_involved:x==null?void 0:x.criminals_involved,officers_involved:x==null?void 0:x.officers_involved}).then(k=>{k?S(!0):_(!1)})});Me.promise(w,{pending:{render({promiseProps:S}){return e("SAVING_DATA")}},success:{render({promiseProps:S}){return e("DATA_SAVED")}},error:{render({promiseProps:S}){return e("ERROR_SAVING_DATA")}}})},[]);function b(x){h(x.target.value),t("title",x.target.value)}return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"[grid-area:manage] bg-gray-800 rounded-lg m-2 p-2",children:[v.jsx("h2",{className:" w-full justify-center text-center my-1 p-2 bg-gray-900 rounded-lg",children:e("MANAGE")}),v.jsxs("div",{id:"manage-player-mdt",children:[(n==null?void 0:n.creating)&&v.jsx(WC,{type:"info",message:{title:"Info",description:e("U_ARE_CREATING_A_NEW_BOLO")},button:{text:e("CREATE_NEW_BOLO"),onClick:()=>y(n)}}),!(n!=null&&n.creating)&&v.jsx("div",{className:"flex justify-center",children:v.jsxs("button",{onClick:()=>i(),type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[e("CREATE_NEW_BOLO"),v.jsx("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})}),v.jsx("div",{className:"flex flex-col",children:v.jsxs("div",{className:"mb-5",children:[v.jsx("label",{htmlFor:"Title",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:e("YOUR_TITLE")}),v.jsx("input",{onChange:b,value:n==null?void 0:n.title,type:"Title",id:"Title",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:""})]})}),v.jsxs("div",{className:"",children:[v.jsx("h3",{className:"m-1 justify-center text-center bg-gray-900 border-8 border-gray-900 rounded-lg",children:e("CONTENT")}),v.jsxs("div",{className:" m-1 p-2 bg-gray-900 border-8 border-gray-900 rounded-lg max-h-[22rem] overflow-auto",children:[!s&&!l&&v.jsx(lhe,{holder:"editor",onInitialize:g,tools:dA,defaultValue:f,contentEditable:!!n}),v.jsx("div",{id:"editor"}),s||l&&v.jsx("div",{className:"flex items-center justify-center w-full ",children:v.jsxs("div",{role:"status",children:[v.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),v.jsx("span",{className:"sr-only",children:"Loading..."})]})})]}),!(n!=null&&n.creating)&&v.jsx("div",{className:" w-full px-1 flex justify-end ",children:v.jsxs("button",{onClick:()=>y(n),type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[e("UPDATE"),v.jsx("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})})]})]})]})})}function uhe(){return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:`
                #bolos-mdt {
                    display: grid;
                    grid-template:
                        "search manage companions"
                        "search manage companions"
                        "search manage companions"
                    ;
                    grid-template-columns: 4fr 4fr 3fr;
                    grid-template-rows: 1fr 1fr 1fr;
                    opacity: 0;
                    animation: fadeIn 0.5s ease-in-out forwards;
                }
                @keyframes fadeIn {
                    0% {
                        opacity: 0; /* Al inicio de la animacin, la opacidad es 0 */
                    }
                    100% {
                        opacity: 1; /* Al final de la animacin, la opacidad es 1 */
                    }
                }
            `}),v.jsxs("div",{className:"show",id:"bolos-mdt",children:[v.jsx(ahe,{}),v.jsx(che,{}),v.jsx(she,{})]})]})}function dhe(){const{newMdtData:e,customPages:t}=zn(),{t:n}=it(),[r,i]=R.useState([]),o=[{name:n("Profiles"),icon:_u,path:"/mdt/search",page:()=>v.jsx(Zde,{})},{name:n("Incidents"),icon:_u,path:"/mdt/incidents",page:()=>v.jsx(nhe,{})},{name:n("BOLOS"),icon:_u,path:"/mdt/renew",page:()=>v.jsx(uhe,{})},{name:n("FIND_PLATE"),icon:_u,path:"/mdt/vehicles",page:()=>v.jsx(rhe,{})}];return R.useEffect(()=>{const s=[...o,...t];i(s)},[t]),v.jsx(v.Fragment,{children:v.jsx(oC,{open:e==null?void 0:e.open,children:v.jsxs(Rle,{children:[v.jsx("style",{children:`
                    #mdt-renewed {
                        display: grid;
                        grid-template:
                            "aside main main"
                            "aside main main"
                            "aside main main"
                        ;
                        grid-template-columns: 1.3fr 3fr 3fr;
                        grid-template-rows: 1fr 1fr 1fr;
                    }
                    `}),v.jsx("div",{id:"mdt-renewed",className:" h-full w-full",children:v.jsxs(cle,{initialRoute:"/mdt",children:[v.jsxs("div",{className:"[grid-area:aside] overflow-y-auto",children:[v.jsx("div",{className:"sticky h-14 w-full top-0 bg-gray-800/80 backdrop-blur-sm flex justify-center align-middle pt-5",children:v.jsx("h2",{className:" font-bold text-sm",children:n("OPTIONS")})}),v.jsx("div",{children:v.jsx("ul",{className:" text-white",children:r.map((s,a)=>{if(s!=null&&s.ui)return v.jsxs(K0,{to:s.path,className:"flex items-center px-4 pt-2 space-x-2 text-white hover:text-gray-300 hover:cursor-pointer",children:[v.jsx("span",{className:"pb-3",children:v.jsx(_u,{})}),v.jsx("span",{className:"flex-1 border-b border-gray-600 pb-2",children:s.title})]},a);const l=s==null?void 0:s.icon;return v.jsxs(K0,{to:s.path,className:"flex items-center px-4 pt-2 space-x-2 text-white hover:text-gray-300 hover:cursor-pointer",children:[v.jsx("span",{className:"pb-3",children:v.jsx(l,{})}),v.jsx("span",{className:"flex-1 border-b border-gray-600 pb-2",children:s==null?void 0:s.name})]},a)})})})]}),v.jsxs("div",{className:"[grid-area:main] bg-gray-950 overflow-auto",children:[v.jsx("div",{className:"sticky z-50 h-14 w-full top-0 bg-gray-950/80 backdrop-blur-sm flex justify-center align-middle pt-5",children:v.jsx("h2",{className:"font-bold text-sm",children:v.jsx(ule,{})})}),v.jsx("div",{className:" px-5 mb-4",children:r.map((s,a)=>s!=null&&s.ui?v.jsx(yR,{index:a,title:s.title,path:s.path,component:()=>v.jsx(ihe,{page:s})},a):v.jsx(yR,{index:a,title:s.name,path:s.path,component:s.page},a))})]})]})})]})})})}var fA={},hhe=Eo;Object.defineProperty(fA,"__esModule",{value:!0});var OF=fA.default=void 0,fhe=hhe(So()),phe=v,mhe=(0,fhe.default)((0,phe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");OF=fA.default=mhe;function ghe(){const{idfNotAllowed:e,CloseNotAllowed:t}=zn();return e?v.jsxs(v.Fragment,{children:[v.jsx("style",{children:`
            
            #error-mockup {
                display: grid;
                grid-template:
                    "title title buttons"
                    "main main main"
                    "main main main"
                ;
                grid-template-columns: 1.5fr 3fr 3fr;
                grid-template-rows: 1fr 1fr 1fr;
            }
            
            `}),v.jsx("div",{className:" w-screen h-screen flex justify-center align-middle",children:v.jsxs("div",{id:"error-mockup",className:" h-[60%] w-[90%] bg-gray-800 rounded-xl mt-40 border border-red-800 shadow-xl",children:[v.jsx("div",{className:"[grid-area:title] pl-10 pt-5",children:v.jsx("h2",{className:" text-white font-bold text-3xl",children:"You dont Ace allowed"})}),v.jsx("div",{className:"[grid-area:buttons] flex flex-row justify-end h-10 mt-6 mr-6",children:v.jsxs("button",{onClick:t,type:"button",className:"text-red-700 border border-red-700 hover:bg-red-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:focus:ring-red-800 dark:hover:bg-red-500",children:[v.jsx(OF,{}),v.jsx("span",{className:"sr-only",children:"Icon description"})]})}),v.jsx("div",{className:"[grid-area:main] h-full w-full -mt-20",children:v.jsxs("div",{className:" p-10",children:[v.jsx("h2",{className:" text-white font-bold text-2xl",children:"Instructions"}),v.jsx("p",{className:" text-white font-bold text-lg",children:"1. Open the file server.cfg"}),v.jsx("p",{className:" text-white font-bold text-lg",children:"2. Add the following line to the file"}),v.jsx("br",{}),v.jsx("br",{}),v.jsx("code",{className:" p-4 bg-gray-700 rounded-lg text-sm  text-white",children:e??"YourCitizenFxLicence"}),v.jsx("br",{}),v.jsx("br",{}),v.jsx("p",{className:" text-white font-bold text-lg",children:"3. Start the server"}),v.jsx("p",{className:" text-white font-bold text-lg",children:"4. Enjoy"})]})})]})})]}):null}rz([{action:"setVisible",data:!0}]);const vhe=()=>(R.useEffect(()=>{window.onerror=function(e,t,n,r,i){const o=/Cannot read properties of (undefined|null) \(reading 'classList'\)/,s=/Cannot read properties of (undefined|null) \(reading 'contains'\)/;return o.test(e)||s.test(e)||console.log(`React Error:2.0.2: ${e} at ${t}:${n}:${r}`),!0}},[]),v.jsxs(v.Fragment,{children:[v.jsx(tE,{position:"top-right",autoClose:5e3,limit:10,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),v.jsx(aq,{}),v.jsx(fJ,{}),v.jsx(qae,{}),v.jsx(fle,{}),v.jsx(Cle,{}),v.jsx(Sle,{}),v.jsx(Ale,{}),v.jsx(dhe,{}),v.jsx(ghe,{})]})),yhe=R.createContext(),xhe=({children:e})=>{const[t,n]=R.useState({});function r(i,o){n(s=>({...s,[i]:o}))}return fn("callback",async i=>{if(t.hasOwnProperty(i.name)&&typeof t[i.name]=="function"){let o=await t[i.name](i.data);Se("callback",{id:i.id,data:o})}else console.warn(`Callback ${i.name} does not exist`)}),R.useEffect(()=>{window.RegisterNuiCallback=r,r("takeScreenshot",async({uploadTo:i,field:o})=>i?await MainRender.requestScreenshot(i,o):console.error("Configure your webhook in the config.lua file"))},[]),v.jsx(yhe.Provider,{value:{},children:e})};Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&function(){Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}}();function Dl(){}Object.assign(Dl.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});var n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;var n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners!==void 0){var n=this._listeners,r=n[e];if(r!==void 0){var i=r.indexOf(t);i!==-1&&r.splice(i,1)}}},dispatchEvent:function(e){if(this._listeners!==void 0){var t=this._listeners,n=t[e.type];if(n!==void 0){e.target=this;for(var r=n.slice(0),i=0,o=r.length;i<o;i++)r[i].call(this,e)}}}});var bhe=0,FR=1,whe=2,IF=1,_he=2,Km=0,Wr=1,Jm=2,NF=1,DF=0,BF=1,ch=2,Ff=0,od=1,YE=2,qE=3,ZE=4,FF=5,Gu=100,Ehe=101,She=102,Nw=103,Dw=104,The=200,Che=201,Ahe=202,khe=203,jF=204,zF=205,Mhe=206,Lhe=207,Phe=208,Rhe=209,Ohe=210,Ihe=0,Nhe=1,Dhe=2,XE=3,Bhe=4,Fhe=5,jhe=6,zhe=7,Db=0,Uhe=1,Hhe=2,Bw=0,UF=1,Ghe=2,Vhe=3,Whe=4,$he=5,pA=300,mA=301,KE=302,HF=303,JE=304,GF=305,gA=306,vA=307,Qa=1e3,lo=1001,Md=1002,or=1003,yA=1004,xA=1005,yr=1006,VF=1007,Bb=1008,Lp=1009,Yhe=1010,qhe=1011,ty=1012,Zhe=1013,WF=1014,Pp=1015,bA=1016,Xhe=1017,Khe=1018,Jhe=1019,ny=1020,Qhe=1021,Pc=1022,xs=1023,efe=1024,tfe=1025,sd=1026,Rp=1027,nfe=1028,jR=33776,zR=33777,UR=33778,HR=33779,GR=35840,VR=35841,WR=35842,$R=35843,rfe=36196,ife=37808,ofe=37809,sfe=37810,afe=37811,lfe=37812,cfe=37813,ufe=37814,dfe=37815,hfe=37816,ffe=37817,pfe=37818,mfe=37819,gfe=37820,vfe=37821,yfe=2200,xfe=2201,bfe=2202,ry=2300,jv=2301,Fw=2302,Ld=2400,Vu=2401,iy=2402,$F=0,wfe=1,_fe=2,oy=3e3,Efe=3001,YF=3007,Sfe=3002,Tfe=3004,Cfe=3005,Afe=3006,kfe=3200,Mfe=3201,Fb=0,Lfe=1,ft={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var r=Math.random()*4294967295|0,i=Math.random()*4294967295|0,o=Math.random()*4294967295|0,s=Math.random()*4294967295|0,a=e[r&255]+e[r>>8&255]+e[r>>16&255]+e[r>>24&255]+"-"+e[i&255]+e[i>>8&255]+"-"+e[i>>16&15|64]+e[i>>24&255]+"-"+e[o&63|128]+e[o>>8&255]+"-"+e[o>>16&255]+e[o>>24&255]+e[s&255]+e[s>>8&255]+e[s>>16&255]+e[s>>24&255];return a.toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*ft.DEG2RAD},radToDeg:function(e){return e*ft.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function me(e,t){this.x=e||0,this.y=t||0}Object.defineProperties(me.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(me.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new me,t=new me;return function(r,i){return e.set(r,r),t.set(i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}});function Qe(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Qe.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,s,a,l,c,d,h,f,m,g,y){var b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=r,b[1]=i,b[5]=o,b[9]=s,b[13]=a,b[2]=l,b[6]=c,b[10]=d,b[14]=h,b[3]=f,b[7]=m,b[11]=g,b[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new Qe().fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new W;return function(n){var r=this.elements,i=n.elements,o=1/e.setFromMatrixColumn(n,0).length(),s=1/e.setFromMatrixColumn(n,1).length(),a=1/e.setFromMatrixColumn(n,2).length();return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[3]=0,r[4]=i[4]*s,r[5]=i[5]*s,r[6]=i[6]*s,r[7]=0,r[8]=i[8]*a,r[9]=i[9]*a,r[10]=i[10]*a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(r),l=Math.sin(r),c=Math.cos(i),d=Math.sin(i);if(e.order==="XYZ"){var h=o*c,f=o*d,m=s*c,g=s*d;t[0]=a*c,t[4]=-a*d,t[8]=l,t[1]=f+m*l,t[5]=h-g*l,t[9]=-s*a,t[2]=g-h*l,t[6]=m+f*l,t[10]=o*a}else if(e.order==="YXZ"){var y=a*c,b=a*d,x=l*c,w=l*d;t[0]=y+w*s,t[4]=x*s-b,t[8]=o*l,t[1]=o*d,t[5]=o*c,t[9]=-s,t[2]=b*s-x,t[6]=w+y*s,t[10]=o*a}else if(e.order==="ZXY"){var y=a*c,b=a*d,x=l*c,w=l*d;t[0]=y-w*s,t[4]=-o*d,t[8]=x+b*s,t[1]=b+x*s,t[5]=o*c,t[9]=w-y*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if(e.order==="ZYX"){var h=o*c,f=o*d,m=s*c,g=s*d;t[0]=a*c,t[4]=m*l-f,t[8]=h*l+g,t[1]=a*d,t[5]=g*l+h,t[9]=f*l-m,t[2]=-l,t[6]=s*a,t[10]=o*a}else if(e.order==="YZX"){var S=o*a,_=o*l,T=s*a,A=s*l;t[0]=a*c,t[4]=A-S*d,t[8]=T*d+_,t[1]=d,t[5]=o*c,t[9]=-s*c,t[2]=-l*c,t[6]=_*d+T,t[10]=S-A*d}else if(e.order==="XZY"){var S=o*a,_=o*l,T=s*a,A=s*l;t[0]=a*c,t[4]=-d,t[8]=l*c,t[1]=S*d+A,t[5]=o*c,t[9]=_*d-T,t[2]=T*d-_,t[6]=s*c,t[10]=A*d+S}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(){var e=new W(0,0,0),t=new W(1,1,1);return function(r){return this.compose(e,r,t)}}(),lookAt:function(){var e=new W,t=new W,n=new W;return function(i,o,s){var a=this.elements;return n.subVectors(i,o),n.lengthSq()===0&&(n.z=1),n.normalize(),e.crossVectors(s,n),e.lengthSq()===0&&(Math.abs(s.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(s,n)),e.normalize(),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],d=n[5],h=n[9],f=n[13],m=n[2],g=n[6],y=n[10],b=n[14],x=n[3],w=n[7],S=n[11],_=n[15],T=r[0],A=r[4],P=r[8],k=r[12],M=r[1],I=r[5],N=r[9],U=r[13],Y=r[2],H=r[6],G=r[10],Z=r[14],ee=r[3],V=r[7],B=r[11],D=r[15];return i[0]=o*T+s*M+a*Y+l*ee,i[4]=o*A+s*I+a*H+l*V,i[8]=o*P+s*N+a*G+l*B,i[12]=o*k+s*U+a*Z+l*D,i[1]=c*T+d*M+h*Y+f*ee,i[5]=c*A+d*I+h*H+f*V,i[9]=c*P+d*N+h*G+f*B,i[13]=c*k+d*U+h*Z+f*D,i[2]=m*T+g*M+y*Y+b*ee,i[6]=m*A+g*I+y*H+b*V,i[10]=m*P+g*N+y*G+b*B,i[14]=m*k+g*U+y*Z+b*D,i[3]=x*T+w*M+S*Y+_*ee,i[7]=x*A+w*I+S*H+_*V,i[11]=x*P+w*N+S*G+_*B,i[15]=x*k+w*U+S*Z+_*D,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new W;return function(n){for(var r=0,i=n.count;r<i;r++)e.x=n.getX(r),e.y=n.getY(r),e.z=n.getZ(r),e.applyMatrix4(this),n.setXYZ(r,e.x,e.y,e.z);return n}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],s=e[5],a=e[9],l=e[13],c=e[2],d=e[6],h=e[10],f=e[14],m=e[3],g=e[7],y=e[11],b=e[15];return m*(+i*a*d-r*l*d-i*s*h+n*l*h+r*s*f-n*a*f)+g*(+t*a*f-t*l*h+i*o*h-r*o*f+r*l*c-i*a*c)+y*(+t*l*d-t*s*f-i*o*d+n*o*f+i*s*c-n*l*c)+b*(-r*s*c-t*a*d+t*s*h+r*o*d-n*o*h+n*a*c)},transpose:function(){var e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],c=r[5],d=r[6],h=r[7],f=r[8],m=r[9],g=r[10],y=r[11],b=r[12],x=r[13],w=r[14],S=r[15],_=m*w*h-x*g*h+x*d*y-c*w*y-m*d*S+c*g*S,T=b*g*h-f*w*h-b*d*y+l*w*y+f*d*S-l*g*S,A=f*x*h-b*m*h+b*c*y-l*x*y-f*c*S+l*m*S,P=b*m*d-f*x*d-b*c*g+l*x*g+f*c*w-l*m*w,k=i*_+o*T+s*A+a*P;if(k===0){var M="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(t===!0)throw new Error(M);return console.warn(M),this.identity()}var I=1/k;return n[0]=_*I,n[1]=(x*g*a-m*w*a-x*s*y+o*w*y+m*s*S-o*g*S)*I,n[2]=(c*w*a-x*d*a+x*s*h-o*w*h-c*s*S+o*d*S)*I,n[3]=(m*d*a-c*g*a-m*s*h+o*g*h+c*s*y-o*d*y)*I,n[4]=T*I,n[5]=(f*w*a-b*g*a+b*s*y-i*w*y-f*s*S+i*g*S)*I,n[6]=(b*d*a-l*w*a-b*s*h+i*w*h+l*s*S-i*d*S)*I,n[7]=(l*g*a-f*d*a+f*s*h-i*g*h-l*s*y+i*d*y)*I,n[8]=A*I,n[9]=(b*m*a-f*x*a-b*o*y+i*x*y+f*o*S-i*m*S)*I,n[10]=(l*x*a-b*c*a+b*o*h-i*x*h-l*o*S+i*c*S)*I,n[11]=(f*c*a-l*m*a-f*o*h+i*m*h+l*o*y-i*c*y)*I,n[12]=P*I,n[13]=(f*x*s-b*m*s+b*o*g-i*x*g-f*o*w+i*m*w)*I,n[14]=(b*c*s-l*x*s-b*o*d+i*x*d+l*o*w-i*c*w)*I,n[15]=(l*m*s-f*c*s+f*o*d-i*m*d-l*o*g+i*c*g)*I,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,s=e.y,a=e.z,l=i*o,c=i*s;return this.set(l*o+n,l*s-r*a,l*a+r*s,0,l*s+r*a,c*s+n,c*a-r*o,0,l*a-r*s,c*a+r*o,i*a*a+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,s=t._z,a=t._w,l=i+i,c=o+o,d=s+s,h=i*l,f=i*c,m=i*d,g=o*c,y=o*d,b=s*d,x=a*l,w=a*c,S=a*d,_=n.x,T=n.y,A=n.z;return r[0]=(1-(g+b))*_,r[1]=(f+S)*_,r[2]=(m-w)*_,r[3]=0,r[4]=(f-S)*T,r[5]=(1-(h+b))*T,r[6]=(y+x)*T,r[7]=0,r[8]=(m+w)*A,r[9]=(y-x)*A,r[10]=(1-(h+g))*A,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(){var e=new W,t=new Qe;return function(r,i,o){var s=this.elements,a=e.set(s[0],s[1],s[2]).length(),l=e.set(s[4],s[5],s[6]).length(),c=e.set(s[8],s[9],s[10]).length(),d=this.determinant();d<0&&(a=-a),r.x=s[12],r.y=s[13],r.z=s[14],t.copy(this);var h=1/a,f=1/l,m=1/c;return t.elements[0]*=h,t.elements[1]*=h,t.elements[2]*=h,t.elements[4]*=f,t.elements[5]*=f,t.elements[6]*=f,t.elements[8]*=m,t.elements[9]*=m,t.elements[10]*=m,i.setFromRotationMatrix(t),o.x=a,o.y=l,o.z=c,this}}(),makePerspective:function(e,t,n,r,i,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var s=this.elements,a=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),d=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return s[0]=a,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=l,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var s=this.elements,a=1/(t-e),l=1/(n-r),c=1/(o-i),d=(t+e)*a,h=(n+r)*l,f=(o+i)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});function ir(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=r!==void 0?r:1}Object.assign(ir,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,s){var a=n[r+0],l=n[r+1],c=n[r+2],d=n[r+3],h=i[o+0],f=i[o+1],m=i[o+2],g=i[o+3];if(d!==g||a!==h||l!==f||c!==m){var y=1-s,b=a*h+l*f+c*m+d*g,x=b>=0?1:-1,w=1-b*b;if(w>Number.EPSILON){var S=Math.sqrt(w),_=Math.atan2(S,b*x);y=Math.sin(y*_)/S,s=Math.sin(s*_)/S}var T=s*x;if(a=a*y+h*T,l=l*y+f*T,c=c*y+m*T,d=d*y+g*T,y===1-s){var A=1/Math.sqrt(a*a+l*l+c*c+d*d);a*=A,l*=A,c*=A,d*=A}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=d}});Object.defineProperties(ir.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}});Object.assign(ir.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(r/2),d=s(i/2),h=a(n/2),f=a(r/2),m=a(i/2);return o==="XYZ"?(this._x=h*c*d+l*f*m,this._y=l*f*d-h*c*m,this._z=l*c*m+h*f*d,this._w=l*c*d-h*f*m):o==="YXZ"?(this._x=h*c*d+l*f*m,this._y=l*f*d-h*c*m,this._z=l*c*m-h*f*d,this._w=l*c*d+h*f*m):o==="ZXY"?(this._x=h*c*d-l*f*m,this._y=l*f*d+h*c*m,this._z=l*c*m+h*f*d,this._w=l*c*d-h*f*m):o==="ZYX"?(this._x=h*c*d-l*f*m,this._y=l*f*d+h*c*m,this._z=l*c*m-h*f*d,this._w=l*c*d+h*f*m):o==="YZX"?(this._x=h*c*d+l*f*m,this._y=l*f*d+h*c*m,this._z=l*c*m-h*f*d,this._w=l*c*d-h*f*m):o==="XZY"&&(this._x=h*c*d-l*f*m,this._y=l*f*d-h*c*m,this._z=l*c*m+h*f*d,this._w=l*c*d+h*f*m),t!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],d=t[10],h=n+s+d,f;return h>0?(f=.5/Math.sqrt(h+1),this._w=.25/f,this._x=(c-a)*f,this._y=(i-l)*f,this._z=(o-r)*f):n>s&&n>d?(f=2*Math.sqrt(1+n-s-d),this._w=(c-a)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(i+l)/f):s>d?(f=2*Math.sqrt(1+s-n-d),this._w=(i-l)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(a+c)/f):(f=2*Math.sqrt(1+d-n-s),this._w=(o-r)/f,this._x=(i+l)/f,this._y=(a+c)/f,this._z=.25*f),this.onChangeCallback(),this},setFromUnitVectors:function(){var e=new W,t,n=1e-6;return function(i,o){return e===void 0&&(e=new W),t=i.dot(o)+1,t<n?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,o),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),angleTo:function(e){return 2*Math.acos(Math.abs(ft.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(n===0)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,s=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+o*s+r*l-i*a,this._y=r*c+o*a+i*s-n*l,this._z=i*c+o*l+n*a-r*s,this._w=o*c-n*s-r*a-i*l,this.onChangeCallback(),this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,s=o*e._w+n*e._x+r*e._y+i*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var a=1-s*s;if(a<=Number.EPSILON){var l=1-t;return this._w=l*o+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize()}var c=Math.sqrt(a),d=Math.atan2(c,s),h=Math.sin((1-t)*d)/c,f=Math.sin(t*d)/c;return this._w=o*h+this._w*f,this._x=n*h+this._x*f,this._y=r*h+this._y*f,this._z=i*h+this._z*f,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return t===void 0&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}});function W(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign(W.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new ir;return function(n){return n&&n.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(n))}}(),applyAxisAngle:function(){var e=new ir;return function(n,r){return this.applyQuaternion(e.setFromAxisAngle(n,r))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,s=e.z,a=e.w,l=a*t+o*r-s*n,c=a*n+s*t-i*r,d=a*r+i*n-o*t,h=-i*t-o*n-s*r;return this.x=l*a+h*-i+c*-s-d*-o,this.y=c*a+h*-o+d*-i-l*-s,this.z=d*a+h*-s+l*-o-c*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new Qe;return function(n){return this.applyMatrix4(e.getInverse(n.projectionMatrix)).applyMatrix4(n.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new W,t=new W;return function(r,i){return e.set(r,r,r),t.set(i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,s=t.y,a=t.z;return this.x=r*a-i*s,this.y=i*o-n*a,this.z=n*s-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new W;return function(n){return e.copy(this).projectOnVector(n),this.sub(e)}}(),reflect:function(){var e=new W;return function(n){return this.sub(e.copy(n).multiplyScalar(2*this.dot(n)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(ft.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});function Rr(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Rr.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,s,a,l){var c=this.elements;return c[0]=e,c[1]=r,c[2]=s,c[3]=t,c[4]=i,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new W;return function(n){for(var r=0,i=n.count;r<i;r++)e.x=n.getX(r),e.y=n.getY(r),e.z=n.getZ(r),e.applyMatrix3(this),n.setXYZ(r,e.x,e.y,e.z);return n}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],d=n[7],h=n[2],f=n[5],m=n[8],g=r[0],y=r[3],b=r[6],x=r[1],w=r[4],S=r[7],_=r[2],T=r[5],A=r[8];return i[0]=o*g+s*x+a*_,i[3]=o*y+s*w+a*T,i[6]=o*b+s*S+a*A,i[1]=l*g+c*x+d*_,i[4]=l*y+c*w+d*T,i[7]=l*b+c*S+d*A,i[2]=h*g+f*x+m*_,i[5]=h*y+f*w+m*T,i[8]=h*b+f*S+m*A,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*o*c-t*s*l-n*i*c+n*s*a+r*i*l-r*o*a},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],s=n[2],a=n[3],l=n[4],c=n[5],d=n[6],h=n[7],f=n[8],m=f*l-c*h,g=c*d-f*a,y=h*a-l*d,b=i*m+o*g+s*y;if(b===0){var x="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(t===!0)throw new Error(x);return console.warn(x),this.identity()}var w=1/b;return r[0]=m*w,r[1]=(s*h-f*o)*w,r[2]=(c*o-s*l)*w,r[3]=g*w,r[4]=(f*i-s*d)*w,r[5]=(s*a-c*i)*w,r[6]=y*w,r[7]=(o*d-h*i)*w,r[8]=(l*i-o*a)*w,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,s){var a=Math.cos(i),l=Math.sin(i);this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-r*l,r*a,-r*(-l*o+a*s)+s+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],s=r[6],a=r[1],l=r[4],c=r[7];return r[0]=t*i+n*a,r[3]=t*o+n*l,r[6]=t*s+n*c,r[1]=-n*i+t*a,r[4]=-n*o+t*l,r[7]=-n*s+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var gu,Rc={getDataURL:function(e){var t;if(typeof HTMLCanvasElement>"u")return e.src;if(e instanceof HTMLCanvasElement)t=e;else{gu===void 0&&(gu=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),gu.width=e.width,gu.height=e.height;var n=gu.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=gu}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Pfe=0;function ln(e,t,n,r,i,o,s,a,l,c){Object.defineProperty(this,"id",{value:Pfe++}),this.uuid=ft.generateUUID(),this.name="",this.image=e!==void 0?e:ln.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:ln.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:lo,this.wrapT=r!==void 0?r:lo,this.magFilter=i!==void 0?i:yr,this.minFilter=o!==void 0?o:Bb,this.anisotropy=l!==void 0?l:1,this.format=s!==void 0?s:xs,this.type=a!==void 0?a:Lp,this.offset=new me(0,0),this.repeat=new me(1,1),this.center=new me(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c!==void 0?c:oy,this.version=0,this.onUpdate=null}ln.DEFAULT_IMAGE=void 0;ln.DEFAULT_MAPPING=pA;ln.prototype=Object.assign(Object.create(Dl.prototype),{constructor:ln,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var r=this.image;if(r.uuid===void 0&&(r.uuid=ft.generateUUID()),!t&&e.images[r.uuid]===void 0){var i;if(Array.isArray(r)){i=[];for(var o=0,s=r.length;o<s;o++)i.push(Rc.getDataURL(r[o]))}else i=Rc.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==pA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Qa:e.x=e.x-Math.floor(e.x);break;case lo:e.x=e.x<0?0:1;break;case Md:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Qa:e.y=e.y-Math.floor(e.y);break;case lo:e.y=e.y<0?0:1;break;case Md:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(ln.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function an(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=r!==void 0?r:1}Object.assign(an.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,s=.1,a=e.elements,l=a[0],c=a[4],d=a[8],h=a[1],f=a[5],m=a[9],g=a[2],y=a[6],b=a[10];if(Math.abs(c-h)<o&&Math.abs(d-g)<o&&Math.abs(m-y)<o){if(Math.abs(c+h)<s&&Math.abs(d+g)<s&&Math.abs(m+y)<s&&Math.abs(l+f+b-3)<s)return this.set(1,0,0,0),this;t=Math.PI;var x=(l+1)/2,w=(f+1)/2,S=(b+1)/2,_=(c+h)/4,T=(d+g)/4,A=(m+y)/4;return x>w&&x>S?x<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(x),r=_/n,i=T/n):w>S?w<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(w),n=_/r,i=A/r):S<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(S),n=T/i,r=A/i),this.set(n,r,i,t),this}var P=Math.sqrt((y-m)*(y-m)+(d-g)*(d-g)+(h-c)*(h-c));return Math.abs(P)<.001&&(P=1),this.x=(y-m)/P,this.y=(d-g)/P,this.z=(h-c)/P,this.w=Math.acos((l+f+b-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(r,i){return e===void 0&&(e=new an,t=new an),e.set(r,r,r,r),t.set(i,i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}});function Zo(e,t,n){this.width=e,this.height=t,this.scissor=new an(0,0,e,t),this.scissorTest=!1,this.viewport=new an(0,0,e,t),n=n||{},this.texture=new ln(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:yr,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!0,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}Zo.prototype=Object.assign(Object.create(Dl.prototype),{constructor:Zo,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function YR(e,t,n){Zo.call(this,e,t,n),this.samples=4}YR.prototype=Object.assign(Object.create(Zo.prototype),{constructor:YR,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Zo.prototype.copy.call(this,e),this.samples=e.samples,this}});function Op(e,t,n){Zo.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}Op.prototype=Object.create(Zo.prototype);Op.prototype.constructor=Op;Op.prototype.isWebGLRenderTargetCube=!0;function Pd(e,t,n,r,i,o,s,a,l,c,d,h){ln.call(this,null,o,s,a,l,c,r,i,d,h),this.image={data:e,width:t,height:n},this.magFilter=l!==void 0?l:or,this.minFilter=c!==void 0?c:or,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}Pd.prototype=Object.create(ln.prototype);Pd.prototype.constructor=Pd;Pd.prototype.isDataTexture=!0;function Sl(e,t){this.min=e!==void 0?e:new W(1/0,1/0,1/0),this.max=t!==void 0?t:new W(-1/0,-1/0,-1/0)}Object.assign(Sl.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,s=-1/0,a=0,l=e.length;a<l;a+=3){var c=e[a],d=e[a+1],h=e[a+2];c<t&&(t=c),d<n&&(n=d),h<r&&(r=h),c>i&&(i=c),d>o&&(o=d),h>s&&(s=h)}return this.min.set(t,n,r),this.max.set(i,o,s),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,s=-1/0,a=0,l=e.count;a<l;a++){var c=e.getX(a),d=e.getY(a),h=e.getZ(a);c<t&&(t=c),d<n&&(n=d),h<r&&(r=h),c>i&&(i=c),d>o&&(o=d),h>s&&(s=h)}return this.min.set(t,n,r),this.max.set(i,o,s),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new W;return function(n,r){var i=e.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(i),this.max.copy(n).add(i),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new W),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new W),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,n,r=new W;function i(o){var s=o.geometry;if(s!==void 0){if(s.isGeometry){var a=s.vertices;for(t=0,n=a.length;t<n;t++)r.copy(a[t]),r.applyMatrix4(o.matrixWorld),e.expandByPoint(r)}else if(s.isBufferGeometry){var l=s.attributes.position;if(l!==void 0)for(t=0,n=l.count;t<n;t++)r.fromBufferAttribute(l,t).applyMatrix4(o.matrixWorld),e.expandByPoint(r)}}}return function(s){return e=this,s.updateMatrixWorld(!0),s.traverse(i),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new W),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new W;return function(n){return this.clampPoint(n.center,e),e.distanceToSquared(n.center)<=n.radius*n.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new W,t=new W,n=new W,r=new W,i=new W,o=new W,s=new W,a=new W,l=new W,c=new W;function d(h){var f,m;for(f=0,m=h.length-3;f<=m;f+=3){s.fromArray(h,f);var g=l.x*Math.abs(s.x)+l.y*Math.abs(s.y)+l.z*Math.abs(s.z),y=e.dot(s),b=t.dot(s),x=n.dot(s);if(Math.max(-Math.max(y,b,x),Math.min(y,b,x))>g)return!1}return!0}return function(f){if(this.isEmpty())return!1;this.getCenter(a),l.subVectors(this.max,a),e.subVectors(f.a,a),t.subVectors(f.b,a),n.subVectors(f.c,a),r.subVectors(t,e),i.subVectors(n,t),o.subVectors(e,n);var m=[0,-r.z,r.y,0,-i.z,i.y,0,-o.z,o.y,r.z,0,-r.x,i.z,0,-i.x,o.z,0,-o.x,-r.y,r.x,0,-i.y,i.x,0,-o.y,o.x,0];return!d(m)||(m=[1,0,0,0,1,0,0,0,1],!d(m))?!1:(c.crossVectors(r,i),m=[c.x,c.y,c.z],d(m))}}(),clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new W),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new W;return function(n){var r=e.copy(n).clamp(this.min,this.max);return r.sub(n).length()}}(),getBoundingSphere:function(){var e=new W;return function(n){return n===void 0&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),n=new bs),this.getCenter(n.center),n.radius=this.getSize(e).length()*.5,n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new W,new W,new W,new W,new W,new W,new W,new W];return function(n){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function bs(e,t){this.center=e!==void 0?e:new W,this.radius=t!==void 0?t:0}Object.assign(bs.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new Sl;return function(n,r){var i=this.center;r!==void 0?i.copy(r):e.setFromPoints(n).getCenter(i);for(var o=0,s=0,a=n.length;s<a;s++)o=Math.max(o,i.distanceToSquared(n[s]));return this.radius=Math.sqrt(o),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new W),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Sl),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});function qs(e,t){this.normal=e!==void 0?e:new W(1,0,0),this.constant=t!==void 0?t:0}Object.assign(qs.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new W,t=new W;return function(r,i,o){var s=e.subVectors(o,i).cross(t.subVectors(r,i)).normalize();return this.setFromNormalAndCoplanarPoint(s,r),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new W),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new W;return function(n,r){r===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),r=new W);var i=n.delta(e),o=this.normal.dot(i);if(o===0)return this.distanceToPoint(n.start)===0?r.copy(n.start):void 0;var s=-(n.start.dot(this.normal)+this.constant)/o;if(!(s<0||s>1))return r.copy(i).multiplyScalar(s).add(n.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new W),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new W,t=new Rr;return function(r,i){var o=i||t.getNormalMatrix(r),s=this.coplanarPoint(e).applyMatrix4(r),a=this.normal.applyMatrix3(o).normalize();return this.constant=-s.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});function wA(e,t,n,r,i,o){this.planes=[e!==void 0?e:new qs,t!==void 0?t:new qs,n!==void 0?n:new qs,r!==void 0?r:new qs,i!==void 0?i:new qs,o!==void 0?o:new qs]}Object.assign(wA.prototype,{set:function(e,t,n,r,i,o){var s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],d=n[7],h=n[8],f=n[9],m=n[10],g=n[11],y=n[12],b=n[13],x=n[14],w=n[15];return t[0].setComponents(s-r,d-a,g-h,w-y).normalize(),t[1].setComponents(s+r,d+a,g+h,w+y).normalize(),t[2].setComponents(s+i,d+l,g+f,w+b).normalize(),t[3].setComponents(s-i,d-l,g-f,w-b).normalize(),t[4].setComponents(s-o,d-c,g-m,w-x).normalize(),t[5].setComponents(s+o,d+c,g+m,w+x).normalize(),this},intersectsObject:function(){var e=new bs;return function(n){var r=n.geometry;return r.boundingSphere===null&&r.computeBoundingSphere(),e.copy(r.boundingSphere).applyMatrix4(n.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new bs;return function(n){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(n.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){var o=t[i].distanceToPoint(n);if(o<r)return!1}return!0},intersectsBox:function(){var e=new W;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];if(e.x=o.normal.x>0?n.max.x:n.min.x,e.y=o.normal.y>0?n.max.y:n.min.y,e.z=o.normal.z>0?n.max.z:n.min.z,o.distanceToPoint(e)<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});const Rfe=`
#ifdef USE_ALPHAMAP

	diffuseColor.a *= texture2D( alphaMap, vUv ).g;

#endif
`,Ofe=`
#ifdef USE_ALPHAMAP

	uniform sampler2D alphaMap;

#endif
`,Ife=`
#ifdef ALPHATEST

	if ( diffuseColor.a < ALPHATEST ) discard;

#endif
`,Nfe=`
#ifdef USE_AOMAP

	// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;

	reflectedLight.indirectDiffuse *= ambientOcclusion;

	#if defined( USE_ENVMAP ) && defined( PHYSICAL )

		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );

		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );

	#endif

#endif
`,Dfe=`
#ifdef USE_AOMAP

	uniform sampler2D aoMap;
	uniform float aoMapIntensity;

#endif
`,Bfe=`
vec3 transformed = vec3( position );
`,Ffe=`
vec3 objectNormal = vec3( normal );
`,jfe=`
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {

#if defined ( PHYSICALLY_CORRECT_LIGHTS )

	// based upon Frostbite 3 Moving to Physically-based Rendering
	// page 32, equation 26: E[window1]
	// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
	// this is intended to be used on spot and point lights who are represented as luminous intensity
	// but who must be converted to luminous irradiance for surface lighting calculation
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );

	if( cutoffDistance > 0.0 ) {

		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );

	}

	return distanceFalloff;

#else

	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {

		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );

	}

	return 1.0;

#endif

}

vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {

	return RECIPROCAL_PI * diffuseColor;

} // validated

vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {

	// Original approximation by Christophe Schlick '94
	// float fresnel = pow( 1.0 - dotLH, 5.0 );

	// Optimized variant (presented by Epic at SIGGRAPH '13)
	// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );

	return ( 1.0 - specularColor ) * fresnel + specularColor;

} // validated

// Microfacet Models for Refraction through Rough Surfaces - equation (34)
// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html
// alpha is "roughness squared" in Disneys reparameterization
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {

	// geometry term (normalized) = G(l)G(v) / 4(nl)(nv)
	// also see #12151

	float a2 = pow2( alpha );

	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );

	return 1.0 / ( gl * gv );

} // validated

// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2
// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {

	float a2 = pow2( alpha );

	// dotNL and dotNV are explicitly swapped. This is not a mistake.
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );

	return 0.5 / max( gv + gl, EPSILON );

}

// Microfacet Models for Refraction through Rough Surfaces - equation (33)
// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html
// alpha is "roughness squared" in Disneys reparameterization
float D_GGX( const in float alpha, const in float dotNH ) {

	float a2 = pow2( alpha );

	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1

	return RECIPROCAL_PI * a2 / pow2( denom );

}

// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {

	float alpha = pow2( roughness ); // UE4's roughness

	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );

	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );

	vec3 F = F_Schlick( specularColor, dotLH );

	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );

	float D = D_GGX( alpha, dotNH );

	return F * ( G * D );

} // validated

// Rect Area Light

// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines
// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt
// code: https://github.com/selfshadow/ltc_code/

vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {

	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;

	float dotNV = saturate( dot( N, V ) );

	// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );

	uv = uv * LUT_SCALE + LUT_BIAS;

	return uv;

}

float LTC_ClippedSphereFormFactor( const in vec3 f ) {

	// Real-Time Area Lighting: a Journey from Research to Production (p.102)
	// An approximation of the form factor of a horizon-clipped rectangle.

	float l = length( f );

	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );

}

vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {

	float x = dot( v1, v2 );

	float y = abs( x );

	// rational polynomial approximation to theta / sin( theta ) / 2PI
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;

	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;

	return cross( v1, v2 ) * theta_sintheta;

}

vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {

	// bail if point is on back side of plane of light
	// assumes ccw winding order of light vertices
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );

	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );

	// construct orthonormal basis around N
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system

	// compute transform
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );

	// transform rect
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );

	// project rect onto sphere
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );

	// calculate vector form factor
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );

	// adjust for horizon clipping
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );

/*
	// alternate method of adjusting for horizon clipping (see referece)
	// refactoring required
	float len = length( vectorFormFactor );
	float z = vectorFormFactor.z / len;

	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;

	// tabulated horizon-clipped sphere, apparently...
	vec2 uv = vec2( z * 0.5 + 0.5, len );
	uv = uv * LUT_SCALE + LUT_BIAS;

	float scale = texture2D( ltc_2, uv ).w;

	float result = len * scale;
*/

	return vec3( result );

}

// End Rect Area Light

// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile
vec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {

	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );

	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );

	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );

	vec4 r = roughness * c0 + c1;

	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;

	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;

	return specularColor * AB.x + AB.y;

} // validated


float G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {

	// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)
	return 0.25;

}

float D_BlinnPhong( const in float shininess, const in float dotNH ) {

	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );

}

vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {

	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );

	//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );
	//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );

	vec3 F = F_Schlick( specularColor, dotLH );

	float G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );

	float D = D_BlinnPhong( shininess, dotNH );

	return F * ( G * D );

} // validated

// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}

float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
`,zfe=`
#ifdef USE_BUMPMAP

	uniform sampler2D bumpMap;
	uniform float bumpScale;

	// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen
	// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf

	// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)

	vec2 dHdxy_fwd() {

		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );

		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;

		return vec2( dBx, dBy );

	}

	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {

		// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988

		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;		// normalized

		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );

		float fDet = dot( vSigmaX, R1 );

		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );

		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );

	}

#endif
`,Ufe=`
#if NUM_CLIPPING_PLANES > 0

	vec4 plane;

	#pragma unroll_loop
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {

		plane = clippingPlanes[ i ];
		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;

	}

	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES

		bool clipped = true;

		#pragma unroll_loop
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {

			plane = clippingPlanes[ i ];
			clipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;

		}

		if ( clipped ) discard;

	#endif

#endif
`,Hfe=`
#if NUM_CLIPPING_PLANES > 0

	#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
		varying vec3 vViewPosition;
	#endif

	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];

#endif
`,Gfe=`
#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
	varying vec3 vViewPosition;
#endif
`,Vfe=`
#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
	vViewPosition = - mvPosition.xyz;
#endif
`,Wfe=`
#ifdef USE_COLOR

	diffuseColor.rgb *= vColor;

#endif
`,$fe=`
#ifdef USE_COLOR

	varying vec3 vColor;

#endif
`,Yfe=`
#ifdef USE_COLOR

	varying vec3 vColor;

#endif
`,qfe=`
#ifdef USE_COLOR

	vColor.xyz = color.xyz;

#endif
`,Zfe=`
#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6

#define saturate(a) clamp( a, 0.0, 1.0 )
#define whiteCompliment(a) ( 1.0 - saturate( a ) )

float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.
// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}

struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};

struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};

struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
};

vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

}

// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {

	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );

}

vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {

	float distance = dot( planeNormal, point - pointOnPlane );

	return - distance * planeNormal + point;

}

float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {

	return sign( dot( point - pointOnPlane, planeNormal ) );

}

vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {

	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;

}

mat3 transposeMat3( const in mat3 m ) {

	mat3 tmp;

	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );

	return tmp;

}

// https://en.wikipedia.org/wiki/Relative_luminance
float linearToRelativeLuminance( const in vec3 color ) {

	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );

	return dot( weights, color.rgb );

}
`,Xfe=`
#ifdef ENVMAP_TYPE_CUBE_UV

#define cubeUV_textureSize (1024.0)

int getFaceFromDirection(vec3 direction) {
	vec3 absDirection = abs(direction);
	int face = -1;
	if( absDirection.x > absDirection.z ) {
		if(absDirection.x > absDirection.y )
			face = direction.x > 0.0 ? 0 : 3;
		else
			face = direction.y > 0.0 ? 1 : 4;
	}
	else {
		if(absDirection.z > absDirection.y )
			face = direction.z > 0.0 ? 2 : 5;
		else
			face = direction.y > 0.0 ? 1 : 4;
	}
	return face;
}
#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)
#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))

vec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {
	float scale = exp2(cubeUV_maxLods1 - roughnessLevel);
	float dxRoughness = dFdx(roughness);
	float dyRoughness = dFdy(roughness);
	vec3 dx = dFdx( vec * scale * dxRoughness );
	vec3 dy = dFdy( vec * scale * dyRoughness );
	float d = max( dot( dx, dx ), dot( dy, dy ) );
	// Clamp the value to the max mip level counts. hard coded to 6 mips
	d = clamp(d, 1.0, cubeUV_rangeClamp);
	float mipLevel = 0.5 * log2(d);
	return vec2(floor(mipLevel), fract(mipLevel));
}

#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)
#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)

vec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {
	mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;
	float a = 16.0 * cubeUV_rcpTextureSize;

	vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );
	vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;
	// float powScale = exp2(roughnessLevel + mipLevel);
	float powScale = exp2_packed.x * exp2_packed.y;
	// float scale =  1.0 / exp2(roughnessLevel + 2.0 + mipLevel);
	float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;
	// float mipOffset = 0.75*(1.0 - 1.0/exp2(mipLevel))/exp2(roughnessLevel);
	float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;

	bool bRes = mipLevel == 0.0;
	scale =  bRes && (scale < a) ? a : scale;

	vec3 r;
	vec2 offset;
	int face = getFaceFromDirection(direction);

	float rcpPowScale = 1.0 / powScale;

	if( face == 0) {
		r = vec3(direction.x, -direction.z, direction.y);
		offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 1) {
		r = vec3(direction.y, direction.x, direction.z);
		offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 2) {
		r = vec3(direction.z, direction.x, direction.y);
		offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 3) {
		r = vec3(direction.x, direction.z, direction.y);
		offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	else if( face == 4) {
		r = vec3(direction.y, direction.x, -direction.z);
		offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	else {
		r = vec3(direction.z, -direction.x, direction.y);
		offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	r = normalize(r);
	float texelOffset = 0.5 * cubeUV_rcpTextureSize;
	vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;
	vec2 base = offset + vec2( texelOffset );
	return base + s * ( scale - 2.0 * texelOffset );
}

#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)

vec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {
	float roughnessVal = roughness* cubeUV_maxLods3;
	float r1 = floor(roughnessVal);
	float r2 = r1 + 1.0;
	float t = fract(roughnessVal);
	vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);
	float s = mipInfo.y;
	float level0 = mipInfo.x;
	float level1 = level0 + 1.0;
	level1 = level1 > 5.0 ? 5.0 : level1;

	// round to nearest mipmap if we are not interpolating.
	level0 += min( floor( s + 0.5 ), 5.0 );

	// Tri linear interpolation.
	vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);
	vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));

	vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);
	vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));

	vec4 result = mix(color10, color20, t);

	return vec4(result.rgb, 1.0);
}

#endif
`,Kfe=`
vec3 transformedNormal = normalMatrix * objectNormal;

#ifdef FLIP_SIDED

	transformedNormal = - transformedNormal;

#endif
`,Jfe=`
#ifdef USE_DISPLACEMENTMAP

	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;

#endif
`,Qfe=`
#ifdef USE_DISPLACEMENTMAP

	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );

#endif
`,epe=`
#ifdef USE_EMISSIVEMAP

	vec4 emissiveColor = texture2D( emissiveMap, vUv );

	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;

	totalEmissiveRadiance *= emissiveColor.rgb;

#endif
`,tpe=`
#ifdef USE_EMISSIVEMAP

	uniform sampler2D emissiveMap;

#endif
`,npe=`
  gl_FragColor = linearToOutputTexel( gl_FragColor );
`,rpe=`
// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/

vec4 LinearToLinear( in vec4 value ) {
	return value;
}

vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}

vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}

vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}

vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}

vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}

vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );
}

// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}

vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}

// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}

vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = min( floor( D ) / 255.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}

// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html

// M matrix, for encoding
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}

// Inverse M matrix, for decoding
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}
`,ipe=`
#ifdef USE_ENVMAP

	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )

		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );

		// Transforming Normal Vectors with the Inverse Transformation
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );

		#ifdef ENVMAP_MODE_REFLECTION

			vec3 reflectVec = reflect( cameraToVertex, worldNormal );

		#else

			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );

		#endif

	#else

		vec3 reflectVec = vReflect;

	#endif

	#ifdef ENVMAP_TYPE_CUBE

		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );

	#elif defined( ENVMAP_TYPE_EQUIREC )

		vec2 sampleUV;

		reflectVec = normalize( reflectVec );

		sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;

		sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;

		vec4 envColor = texture2D( envMap, sampleUV );

	#elif defined( ENVMAP_TYPE_SPHERE )

		reflectVec = normalize( reflectVec );

		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );

		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );

	#else

		vec4 envColor = vec4( 0.0 );

	#endif

	envColor = envMapTexelToLinear( envColor );

	#ifdef ENVMAP_BLENDING_MULTIPLY

		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );

	#elif defined( ENVMAP_BLENDING_MIX )

		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );

	#elif defined( ENVMAP_BLENDING_ADD )

		outgoingLight += envColor.xyz * specularStrength * reflectivity;

	#endif

#endif
`,ope=`
#if defined( USE_ENVMAP ) || defined( PHYSICAL )
	uniform float reflectivity;
	uniform float envMapIntensity;
#endif

#ifdef USE_ENVMAP

	#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )
		varying vec3 vWorldPosition;
	#endif

	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	uniform float flipEnvMap;
	uniform int maxMipLevel;

	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif

#endif
`,spe=`
#ifdef USE_ENVMAP

	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		varying vec3 vWorldPosition;

	#else

		varying vec3 vReflect;
		uniform float refractionRatio;

	#endif

#endif
`,ape=`
#ifdef USE_ENVMAP

	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )

		vWorldPosition = worldPosition.xyz;

	#else

		vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );

		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );

		#ifdef ENVMAP_MODE_REFLECTION

			vReflect = reflect( cameraToVertex, worldNormal );

		#else

			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );

		#endif

	#endif

#endif
`,lpe=`
#ifdef USE_FOG

	fogDepth = -mvPosition.z;

#endif
`,cpe=`
#ifdef USE_FOG

	varying float fogDepth;

#endif
`,upe=`
#ifdef USE_FOG

	#ifdef FOG_EXP2

		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );

	#else

		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );

	#endif

	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );

#endif
`,dpe=`
#ifdef USE_FOG

	uniform vec3 fogColor;
	varying float fogDepth;

	#ifdef FOG_EXP2

		uniform float fogDensity;

	#else

		uniform float fogNear;
		uniform float fogFar;

	#endif

#endif
`,hpe=`
#ifdef TOON

	uniform sampler2D gradientMap;

	vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {

		// dotNL will be from -1.0 to 1.0
		float dotNL = dot( normal, lightDirection );
		vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );

		#ifdef USE_GRADIENTMAP

			return texture2D( gradientMap, coord ).rgb;

		#else

			return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );

		#endif


	}

#endif
`,fpe=`
#ifdef USE_LIGHTMAP

	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage

#endif
`,ppe=`
#ifdef USE_LIGHTMAP

	uniform sampler2D lightMap;
	uniform float lightMapIntensity;

#endif
`,mpe=`
vec3 diffuse = vec3( 1.0 );

GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = normalize( -mvPosition.xyz );

GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;

vLightFront = vec3( 0.0 );

#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
#endif

IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;

#if NUM_POINT_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );

		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;

		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;

		#ifdef DOUBLE_SIDED

			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;

		#endif

	}

#endif

#if NUM_SPOT_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );

		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;

		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;

		#ifdef DOUBLE_SIDED

			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;

		#endif
	}

#endif

/*
#if NUM_RECT_AREA_LIGHTS > 0

	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {

		// TODO (abelnation): implement

	}

#endif
*/

#if NUM_DIR_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );

		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;

		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;

		#ifdef DOUBLE_SIDED

			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;

		#endif

	}

#endif

#if NUM_HEMI_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {

		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );

		#ifdef DOUBLE_SIDED

			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );

		#endif

	}

#endif
`,gpe=`
uniform vec3 ambientLightColor;

vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {

	vec3 irradiance = ambientLightColor;

	#ifndef PHYSICALLY_CORRECT_LIGHTS

		irradiance *= PI;

	#endif

	return irradiance;

}

#if NUM_DIR_LIGHTS > 0

	struct DirectionalLight {
		vec3 direction;
		vec3 color;

		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};

	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];

	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {

		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;

	}

#endif


#if NUM_POINT_LIGHTS > 0

	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;

		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
		float shadowCameraNear;
		float shadowCameraFar;
	};

	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];

	// directLight is an out parameter as having it as a return value caused compiler errors on some devices
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {

		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );

		float lightDistance = length( lVector );

		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );

	}

#endif


#if NUM_SPOT_LIGHTS > 0

	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;

		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};

	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];

	// directLight is an out parameter as having it as a return value caused compiler errors on some devices
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {

		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );

		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );

		if ( angleCos > spotLight.coneCos ) {

			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );

			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;

		} else {

			directLight.color = vec3( 0.0 );
			directLight.visible = false;

		}
	}

#endif


#if NUM_RECT_AREA_LIGHTS > 0

	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};

	// Pre-computed values of LinearTransformedCosine approximation of BRDF
	// BRDF approximation Texture is 64x64
	uniform sampler2D ltc_1; // RGBA Float
	uniform sampler2D ltc_2; // RGBA Float

	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];

#endif


#if NUM_HEMI_LIGHTS > 0

	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};

	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];

	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {

		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;

		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );

		#ifndef PHYSICALLY_CORRECT_LIGHTS

			irradiance *= PI;

		#endif

		return irradiance;

	}

#endif
`,vpe=`
#if defined( USE_ENVMAP ) && defined( PHYSICAL )

	vec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {

		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );

		#ifdef ENVMAP_TYPE_CUBE

			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );

			// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level
			// of a specular cubemap, or just the default level of a specially created irradiance cubemap.

			#ifdef TEXTURE_LOD_EXT

				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );

			#else

				// force the bias high to get the last LOD level as it is the most blurred.
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );

			#endif

			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;

		#elif defined( ENVMAP_TYPE_CUBE_UV )

			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			vec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );

		#else

			vec4 envMapColor = vec4( 0.0 );

		#endif

		return PI * envMapColor.rgb * envMapIntensity;

	}

	// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html
	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {

		//float envMapWidth = pow( 2.0, maxMIPLevelScalar );
		//float desiredMIPLevel = log2( envMapWidth * sqrt( 3.0 ) ) - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );

		float maxMIPLevelScalar = float( maxMIPLevel );
		float desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );

		// clamp to allowable LOD ranges.
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );

	}

	vec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {

		#ifdef ENVMAP_MODE_REFLECTION

			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );

		#else

			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );

		#endif

		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );

		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );

		#ifdef ENVMAP_TYPE_CUBE

			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );

			#ifdef TEXTURE_LOD_EXT

				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );

			#else

				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );

			#endif

			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;

		#elif defined( ENVMAP_TYPE_CUBE_UV )

			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			vec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));

		#elif defined( ENVMAP_TYPE_EQUIREC )

			vec2 sampleUV;
			sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
			sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;

			#ifdef TEXTURE_LOD_EXT

				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );

			#else

				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );

			#endif

			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;

		#elif defined( ENVMAP_TYPE_SPHERE )

			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );

			#ifdef TEXTURE_LOD_EXT

				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );

			#else

				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );

			#endif

			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;

		#endif

		return envMapColor.rgb * envMapIntensity;

	}

#endif
`,ype=`
BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;
`,xpe=`
varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif


struct BlinnPhongMaterial {

	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;

};

void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {

	#ifdef TOON

		vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;

	#else

		float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
		vec3 irradiance = dotNL * directLight.color;

	#endif

	#ifndef PHYSICALLY_CORRECT_LIGHTS

		irradiance *= PI; // punctual light

	#endif

	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );

	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;

}

void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {

	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );

}

#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong

#define Material_LightProbeLOD( material )	(0)
`,bpe=`
PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );
#ifdef STANDARD
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
	material.clearCoat = saturate( clearCoat ); // Burley clearcoat model
	material.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );
#endif
`,wpe=`
struct PhysicalMaterial {

	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;

	#ifndef STANDARD
		float clearCoat;
		float clearCoatRoughness;
	#endif

};

#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04

// Clear coat directional hemishperical reflectance (this approximation should be improved)
float clearCoatDHRApprox( const in float roughness, const in float dotNL ) {

	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );

}

#if NUM_RECT_AREA_LIGHTS > 0

	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {

		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;

		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight; // counterclockwise; light shines in local neg z direction
		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;

		vec2 uv = LTC_Uv( normal, viewDir, roughness );

		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );

		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);

		// LTC Fresnel Approximation by Stephen Hill
		// http://blog.selfshadow.com/publications/s2016-advances/s2016_ltc_fresnel.pdf
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );

		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );

		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );

	}

#endif

void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {

	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );

	vec3 irradiance = dotNL * directLight.color;

	#ifndef PHYSICALLY_CORRECT_LIGHTS

		irradiance *= PI; // punctual light

	#endif

	#ifndef STANDARD
		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );
	#else
		float clearCoatDHR = 0.0;
	#endif

	reflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );

	reflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );

	#ifndef STANDARD

		reflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );

	#endif

}

void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {

	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );

}

void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {

	#ifndef STANDARD
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		float dotNL = dotNV;
		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );
	#else
		float clearCoatDHR = 0.0;
	#endif

	reflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );

	#ifndef STANDARD

		reflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );

	#endif

}

#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical

#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )
#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )

// ref: https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {

	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );

}
`,_pe=`
/**
 * This is a template that can be used to light a material, it uses pluggable
 * RenderEquations (RE)for specific lighting scenarios.
 *
 * Instructions for use:
 * - Ensure that both RE_Direct, RE_IndirectDiffuse and RE_IndirectSpecular are defined
 * - If you have defined an RE_IndirectSpecular, you need to also provide a Material_LightProbeLOD. <---- ???
 * - Create a material parameter that is to be passed as the third parameter to your lighting functions.
 *
 * TODO:
 * - Add area light support.
 * - Add sphere light support.
 * - Add diffuse light probe (irradiance cubemap) support.
 */

GeometricContext geometry;

geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = normalize( vViewPosition );

IncidentLight directLight;

#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )

	PointLight pointLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		pointLight = pointLights[ i ];

		getPointDirectLightIrradiance( pointLight, geometry, directLight );

		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
		#endif

		RE_Direct( directLight, geometry, material, reflectedLight );

	}

#endif

#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )

	SpotLight spotLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		spotLight = spotLights[ i ];

		getSpotDirectLightIrradiance( spotLight, geometry, directLight );

		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif

		RE_Direct( directLight, geometry, material, reflectedLight );

	}

#endif

#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )

	DirectionalLight directionalLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		directionalLight = directionalLights[ i ];

		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );

		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif

		RE_Direct( directLight, geometry, material, reflectedLight );

	}

#endif

#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )

	RectAreaLight rectAreaLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {

		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );

	}

#endif

#if defined( RE_IndirectDiffuse )

	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );

	#if ( NUM_HEMI_LIGHTS > 0 )

		#pragma unroll_loop
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {

			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );

		}

	#endif

#endif

#if defined( RE_IndirectSpecular )

	vec3 radiance = vec3( 0.0 );
	vec3 clearCoatRadiance = vec3( 0.0 );

#endif
`,Epe=`
#if defined( RE_IndirectDiffuse )

	#ifdef USE_LIGHTMAP

		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;

		#ifndef PHYSICALLY_CORRECT_LIGHTS

			lightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage

		#endif

		irradiance += lightMapIrradiance;

	#endif

	#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )

		irradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );

	#endif

#endif

#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )

	radiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_BlinnShininessExponent( material ), maxMipLevel );

	#ifndef STANDARD
		clearCoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );
	#endif

#endif
`,Spe=`
#if defined( RE_IndirectDiffuse )

	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );

#endif

#if defined( RE_IndirectSpecular )

	RE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );

#endif
`,Tpe=`
#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )

	gl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;

#endif
`,Cpe=`
#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )

	uniform float logDepthBufFC;
	varying float vFragDepth;

#endif
`,Ape=`
#ifdef USE_LOGDEPTHBUF

	#ifdef USE_LOGDEPTHBUF_EXT

		varying float vFragDepth;

	#else

		uniform float logDepthBufFC;

	#endif

#endif
`,kpe=`
#ifdef USE_LOGDEPTHBUF

	#ifdef USE_LOGDEPTHBUF_EXT

		vFragDepth = 1.0 + gl_Position.w;

	#else

		gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;

		gl_Position.z *= gl_Position.w;

	#endif

#endif
`,Mpe=`
#ifdef USE_MAP

	vec4 texelColor = texture2D( map, vUv );

	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;

#endif
`,Lpe=`
#ifdef USE_MAP

	uniform sampler2D map;

#endif
`,Ppe=`
#ifdef USE_MAP

	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );

#endif
`,Rpe=`
#ifdef USE_MAP

	uniform mat3 uvTransform;
	uniform sampler2D map;

#endif
`,Ope=`
float metalnessFactor = metalness;

#ifdef USE_METALNESSMAP

	vec4 texelMetalness = texture2D( metalnessMap, vUv );

	// reads channel B, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
	metalnessFactor *= texelMetalness.b;

#endif
`,Ipe=`
#ifdef USE_METALNESSMAP

	uniform sampler2D metalnessMap;

#endif
`,Npe=`
#ifdef USE_MORPHNORMALS

	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];
	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];
	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];
	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];

#endif
`,Dpe=`
#ifdef USE_MORPHTARGETS

	#ifndef USE_MORPHNORMALS

	uniform float morphTargetInfluences[ 8 ];

	#else

	uniform float morphTargetInfluences[ 4 ];

	#endif

#endif
`,Bpe=`
#ifdef USE_MORPHTARGETS

	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];
	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];
	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];
	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];

	#ifndef USE_MORPHNORMALS

	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];
	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];
	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];
	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];

	#endif

#endif
`,Fpe=`
#ifdef FLAT_SHADED

	// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...

	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );

#else

	vec3 normal = normalize( vNormal );

	#ifdef DOUBLE_SIDED

		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );

	#endif

#endif
`,jpe=`
#ifdef USE_NORMALMAP

	#ifdef OBJECTSPACE_NORMALMAP

		normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals

		#ifdef FLIP_SIDED

			normal = - normal;

		#endif

		#ifdef DOUBLE_SIDED

			normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );

		#endif

		normal = normalize( normalMatrix * normal );

	#else // tangent-space normal map

		normal = perturbNormal2Arb( -vViewPosition, normal );

	#endif

#elif defined( USE_BUMPMAP )

	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );

#endif
`,zpe=`
#ifdef USE_NORMALMAP

	uniform sampler2D normalMap;
	uniform vec2 normalScale;

	#ifdef OBJECTSPACE_NORMALMAP

		uniform mat3 normalMatrix;

	#else

		// Per-Pixel Tangent Space Normal Mapping
		// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html

		vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {

			// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988

			vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
			vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
			vec2 st0 = dFdx( vUv.st );
			vec2 st1 = dFdy( vUv.st );

			float scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude

			vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
			vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
			vec3 N = normalize( surf_norm );
			mat3 tsn = mat3( S, T, N );

			vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;

			mapN.xy *= normalScale;
			mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );

			return normalize( tsn * mapN );

		}

	#endif

#endif
`,Upe=`
vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}

vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}

const float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)
const float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)

const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );

const float ShiftRight8 = 1. / 256.;

vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8; // tidy overflow
	return r * PackUpscale;
}

float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}

// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions

float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}

float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}
`,Hpe=`
#ifdef PREMULTIPLIED_ALPHA

	// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.
	gl_FragColor.rgb *= gl_FragColor.a;

#endif
`,Gpe=`
vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );

gl_Position = projectionMatrix * mvPosition;
`,Vpe=`
#if defined( DITHERING )

  gl_FragColor.rgb = dithering( gl_FragColor.rgb );

#endif
`,Wpe=`
#if defined( DITHERING )

	// based on https://www.shadertoy.com/view/MslGR8
	vec3 dithering( vec3 color ) {
		//Calculate grid position
		float grid_position = rand( gl_FragCoord.xy );

		//Shift the individual colors differently, thus making it even harder to see the dithering pattern
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );

		//modify shift acording to grid position.
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );

		//shift the color by dither_shift
		return color + dither_shift_RGB;
	}

#endif
`,$pe=`
float roughnessFactor = roughness;

#ifdef USE_ROUGHNESSMAP

	vec4 texelRoughness = texture2D( roughnessMap, vUv );

	// reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
	roughnessFactor *= texelRoughness.g;

#endif
`,Ype=`
#ifdef USE_ROUGHNESSMAP

	uniform sampler2D roughnessMap;

#endif
`,qpe=`
#ifdef USE_SHADOWMAP

	#if NUM_DIR_LIGHTS > 0

		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];

	#endif

	#if NUM_SPOT_LIGHTS > 0

		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];

	#endif

	#if NUM_POINT_LIGHTS > 0

		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];

	#endif

	/*
	#if NUM_RECT_AREA_LIGHTS > 0

		// TODO (abelnation): create uniforms for area light shadows

	#endif
	*/

	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {

		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );

	}

	float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {

		const vec2 offset = vec2( 0.0, 1.0 );

		vec2 texelSize = vec2( 1.0 ) / size;
		vec2 centroidUV = floor( uv * size + 0.5 ) / size;

		float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );
		float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );
		float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );
		float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );

		vec2 f = fract( uv * size + 0.5 );

		float a = mix( lb, lt, f.y );
		float b = mix( rb, rt, f.y );
		float c = mix( a, b, f.x );

		return c;

	}

	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {

		float shadow = 1.0;

		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;

		// if ( something && something ) breaks ATI OpenGL shader compiler
		// if ( all( something, something ) ) using this instead

		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );

		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );

		bool frustumTest = all( frustumTestVec );

		if ( frustumTest ) {

		#if defined( SHADOWMAP_TYPE_PCF )

			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;

			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;

			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );

		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )

			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;

			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;

			shadow = (
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );

		#else // no percentage-closer filtering:

			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );

		#endif

		}

		return shadow;

	}

	// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D
	// vector suitable for 2D texture mapping. This code uses the following layout for the
	// 2D texture:
	//
	// xzXZ
	//  y Y
	//
	// Y - Positive y direction
	// y - Negative y direction
	// X - Positive x direction
	// x - Negative x direction
	// Z - Positive z direction
	// z - Negative z direction
	//
	// Source and test bed:
	// https://gist.github.com/tschw/da10c43c467ce8afd0c4

	vec2 cubeToUV( vec3 v, float texelSizeY ) {

		// Number of texels to avoid at the edge of each square

		vec3 absV = abs( v );

		// Intersect unit cube

		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;

		// Apply scale to avoid seams

		// two texels less per square (one texel will do for NEAREST)
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );

		// Unwrap

		// space: -1 ... 1 range for each square
		//
		// #X##		dim    := ( 4 , 2 )
		//  # #		center := ( 1 , 1 )

		vec2 planar = v.xy;

		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;

		if ( absV.z >= almostOne ) {

			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;

		} else if ( absV.x >= almostOne ) {

			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;

		} else if ( absV.y >= almostOne ) {

			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;

		}

		// Transform to UV space

		// scale := 0.5 / dim
		// translate := ( center + 0.5 ) / dim
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );

	}

	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {

		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );

		// for point lights, the uniform @vShadowCoord is re-purposed to hold
		// the vector from the light to the world-space position of the fragment.
		vec3 lightToPosition = shadowCoord.xyz;

		// dp = normalized distance from light to fragment position
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?
		dp += shadowBias;

		// bd3D = base direction 3D
		vec3 bd3D = normalize( lightToPosition );

		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )

			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;

			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );

		#else // no percentage-closer filtering

			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );

		#endif

	}

#endif
`,Zpe=`
#ifdef USE_SHADOWMAP

	#if NUM_DIR_LIGHTS > 0

		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];

	#endif

	#if NUM_SPOT_LIGHTS > 0

		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];

	#endif

	#if NUM_POINT_LIGHTS > 0

		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];

	#endif

	/*
	#if NUM_RECT_AREA_LIGHTS > 0

		// TODO (abelnation): uniforms for area light shadows

	#endif
	*/

#endif
`,Xpe=`
#ifdef USE_SHADOWMAP

	#if NUM_DIR_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;

	}

	#endif

	#if NUM_SPOT_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;

	}

	#endif

	#if NUM_POINT_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;

	}

	#endif

	/*
	#if NUM_RECT_AREA_LIGHTS > 0

		// TODO (abelnation): update vAreaShadowCoord with area light info

	#endif
	*/

#endif
`,Kpe=`
float getShadowMask() {

	float shadow = 1.0;

	#ifdef USE_SHADOWMAP

	#if NUM_DIR_LIGHTS > 0

	DirectionalLight directionalLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		directionalLight = directionalLights[ i ];
		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;

	}

	#endif

	#if NUM_SPOT_LIGHTS > 0

	SpotLight spotLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		spotLight = spotLights[ i ];
		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;

	}

	#endif

	#if NUM_POINT_LIGHTS > 0

	PointLight pointLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		pointLight = pointLights[ i ];
		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;

	}

	#endif

	/*
	#if NUM_RECT_AREA_LIGHTS > 0

		// TODO (abelnation): update shadow for Area light

	#endif
	*/

	#endif

	return shadow;

}
`,Jpe=`
#ifdef USE_SKINNING

	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );

#endif
`,Qpe=`
#ifdef USE_SKINNING

	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;

	#ifdef BONE_TEXTURE

		uniform sampler2D boneTexture;
		uniform int boneTextureSize;

		mat4 getBoneMatrix( const in float i ) {

			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );

			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );

			y = dy * ( y + 0.5 );

			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );

			mat4 bone = mat4( v1, v2, v3, v4 );

			return bone;

		}

	#else

		uniform mat4 boneMatrices[ MAX_BONES ];

		mat4 getBoneMatrix( const in float i ) {

			mat4 bone = boneMatrices[ int(i) ];
			return bone;

		}

	#endif

#endif
`,eme=`
#ifdef USE_SKINNING

	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );

	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;

	transformed = ( bindMatrixInverse * skinned ).xyz;

#endif
`,tme=`
#ifdef USE_SKINNING

	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;

	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;

#endif
`,nme=`
float specularStrength;

#ifdef USE_SPECULARMAP

	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;

#else

	specularStrength = 1.0;

#endif
`,rme=`
#ifdef USE_SPECULARMAP

	uniform sampler2D specularMap;

#endif
`,ime=`
#if defined( TONE_MAPPING )

  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );

#endif
`,ome=`
#ifndef saturate
	#define saturate(a) clamp( a, 0.0, 1.0 )
#endif

uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;

// exposure only
vec3 LinearToneMapping( vec3 color ) {

	return toneMappingExposure * color;

}

// source: https://www.cs.utah.edu/~reinhard/cdrom/
vec3 ReinhardToneMapping( vec3 color ) {

	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );

}

// source: http://filmicgames.com/archives/75
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {

	// John Hable's filmic operator from Uncharted 2 video game
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );

}

// source: http://filmicgames.com/archives/75
vec3 OptimizedCineonToneMapping( vec3 color ) {

	// optimized filmic operator by Jim Hejl and Richard Burgess-Dawson
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );

}

// source: https://knarkowicz.wordpress.com/2016/01/06/aces-filmic-tone-mapping-curve/
vec3 ACESFilmicToneMapping( vec3 color ) {

	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );

}
`,sme=`
#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )

	varying vec2 vUv;

#endif
`,ame=`
#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )

	varying vec2 vUv;
	uniform mat3 uvTransform;

#endif
`,lme=`
#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )

	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;

#endif
`,cme=`
#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )

	varying vec2 vUv2;

#endif
`,ume=`
#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )

	attribute vec2 uv2;
	varying vec2 vUv2;

#endif
`,dme=`
#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )

	vUv2 = uv2;

#endif
`,hme=`
#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )

	vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );

#endif
`,fme=`
uniform sampler2D t2D;

varying vec2 vUv;

void main() {

	vec4 texColor = texture2D( t2D, vUv );

	gl_FragColor = mapTexelToLinear( texColor );

	#include <tonemapping_fragment>
	#include <encodings_fragment>

}
`,pme=`
varying vec2 vUv;
uniform mat3 uvTransform;

void main() {

	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;

	gl_Position = vec4( position.xy, 1.0, 1.0 );

}
`,mme=`
uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;

varying vec3 vWorldDirection;

void main() {

	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );

	gl_FragColor = mapTexelToLinear( texColor );
	gl_FragColor.a *= opacity;

	#include <tonemapping_fragment>
	#include <encodings_fragment>

}
`,gme=`
varying vec3 vWorldDirection;

#include <common>

void main() {

	vWorldDirection = transformDirection( position, modelMatrix );

	#include <begin_vertex>
	#include <project_vertex>

	gl_Position.z = gl_Position.w; // set z to camera.far

}
`,vme=`
#if DEPTH_PACKING == 3200

	uniform float opacity;

#endif

#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( 1.0 );

	#if DEPTH_PACKING == 3200

		diffuseColor.a = opacity;

	#endif

	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>

	#include <logdepthbuf_fragment>

	#if DEPTH_PACKING == 3200

		gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );

	#elif DEPTH_PACKING == 3201

		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );

	#endif

}
`,yme=`
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>

	#include <skinbase_vertex>

	#ifdef USE_DISPLACEMENTMAP

		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>

	#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>

}
`,xme=`
#define DISTANCE

uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;

#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>

void main () {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( 1.0 );

	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>

	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist ); // clamp to [ 0, 1 ]

	gl_FragColor = packDepthToRGBA( dist );

}
`,bme=`
#define DISTANCE

varying vec3 vWorldPosition;

#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>

	#include <skinbase_vertex>

	#ifdef USE_DISPLACEMENTMAP

		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>

	#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>

	vWorldPosition = worldPosition.xyz;

}
`,wme=`
uniform sampler2D tEquirect;

varying vec3 vWorldDirection;

#include <common>

void main() {

	vec3 direction = normalize( vWorldDirection );

	vec2 sampleUV;

	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;

	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;

	vec4 texColor = texture2D( tEquirect, sampleUV );

	gl_FragColor = mapTexelToLinear( texColor );

	#include <tonemapping_fragment>
	#include <encodings_fragment>

}
`,_me=`
varying vec3 vWorldDirection;

#include <common>

void main() {

	vWorldDirection = transformDirection( position, modelMatrix );

	#include <begin_vertex>
	#include <project_vertex>

}
`,Eme=`
uniform vec3 diffuse;
uniform float opacity;

uniform float dashSize;
uniform float totalSize;

varying float vLineDistance;

#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	if ( mod( vLineDistance, totalSize ) > dashSize ) {

		discard;

	}

	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );

	#include <logdepthbuf_fragment>
	#include <color_fragment>

	outgoingLight = diffuseColor.rgb; // simple shader

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>

}
`,Sme=`
uniform float scale;
attribute float lineDistance;

varying float vLineDistance;

#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <color_vertex>

	vLineDistance = scale * lineDistance;

	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
	gl_Position = projectionMatrix * mvPosition;

	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>

}
`,Tme=`
uniform vec3 diffuse;
uniform float opacity;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( diffuse, opacity );

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>

	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );

	// accumulation (baked indirect lighting only)
	#ifdef USE_LIGHTMAP

		reflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;

	#else

		reflectedLight.indirectDiffuse += vec3( 1.0 );

	#endif

	// modulation
	#include <aomap_fragment>

	reflectedLight.indirectDiffuse *= diffuseColor.rgb;

	vec3 outgoingLight = reflectedLight.indirectDiffuse;

	#include <envmap_fragment>

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>

}
`,Cme=`
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>

	#ifdef USE_ENVMAP

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

	#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>

	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>

}
`,Ame=`
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;

varying vec3 vLightFront;

#ifdef DOUBLE_SIDED

	varying vec3 vLightBack;

#endif

#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>

	// accumulation
	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );

	#include <lightmap_fragment>

	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );

	#ifdef DOUBLE_SIDED

		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;

	#else

		reflectedLight.directDiffuse = vLightFront;

	#endif

	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();

	// modulation
	#include <aomap_fragment>

	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;

	#include <envmap_fragment>

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>

}
`,kme=`
#define LAMBERT

varying vec3 vLightFront;

#ifdef DOUBLE_SIDED

	varying vec3 vLightBack;

#endif

#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>

	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>

}
`,Mme=`
#define MATCAP

uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;

varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>

#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( diffuse, opacity );

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>

	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks

	#ifdef USE_MATCAP

		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );

	#else

		vec4 matcapColor = vec4( 1.0 );

	#endif

	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>

}
`,Lme=`
#define MATCAP

varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>

#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

	#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED

		vNormal = normalize( transformedNormal );

	#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>

	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>

	vViewPosition = - mvPosition.xyz;

}
`,Pme=`
#define PHONG

uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;

#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>

	// accumulation
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>

	// modulation
	#include <aomap_fragment>

	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;

	#include <envmap_fragment>

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>

}
`,Rme=`
#define PHONG

varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED

	vNormal = normalize( transformedNormal );

#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>

	vViewPosition = - mvPosition.xyz;

	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>

}
`,Ome=`
#define PHYSICAL

uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;

#ifndef STANDARD
	uniform float clearCoat;
	uniform float clearCoatRoughness;
#endif

varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>

	// accumulation
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>

	// modulation
	#include <aomap_fragment>

	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>

}
`,Ime=`
#define PHYSICAL

varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED

	vNormal = normalize( transformedNormal );

#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>

	vViewPosition = - mvPosition.xyz;

	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>

}
`,Nme=`
#define NORMAL

uniform float opacity;

#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )

	varying vec3 vViewPosition;

#endif

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>

void main() {

	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>

	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );

}
`,Dme=`
#define NORMAL

#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )

	varying vec3 vViewPosition;

#endif

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>

void main() {

	#include <uv_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED

	vNormal = normalize( transformedNormal );

#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>

#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )

	vViewPosition = - mvPosition.xyz;

#endif

}
`,Bme=`
uniform vec3 diffuse;
uniform float opacity;

#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );

	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>

	outgoingLight = diffuseColor.rgb;

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>

}
`,Fme=`
uniform float size;
uniform float scale;

#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>

	gl_PointSize = size;

	#ifdef USE_SIZEATTENUATION

		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );

		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );

	#endif

	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>

}
`,jme=`
uniform vec3 color;
uniform float opacity;

#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>

void main() {

	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );

	#include <fog_fragment>

}
`,zme=`
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>

void main() {

	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>

}
`,Ume=`
uniform vec3 diffuse;
uniform float opacity;

#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphatest_fragment>

	outgoingLight = diffuseColor.rgb;

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>

}
`,Hme=`
uniform float rotation;
uniform vec2 center;

#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>

	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );

	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

	#ifndef USE_SIZEATTENUATION

		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );

		if ( isPerspective ) scale *= - mvPosition.z;

	#endif

	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;

	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;

	mvPosition.xy += rotatedPosition;

	gl_Position = projectionMatrix * mvPosition;

	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>

}
`;var Mt={alphamap_fragment:Rfe,alphamap_pars_fragment:Ofe,alphatest_fragment:Ife,aomap_fragment:Nfe,aomap_pars_fragment:Dfe,begin_vertex:Bfe,beginnormal_vertex:Ffe,bsdfs:jfe,bumpmap_pars_fragment:zfe,clipping_planes_fragment:Ufe,clipping_planes_pars_fragment:Hfe,clipping_planes_pars_vertex:Gfe,clipping_planes_vertex:Vfe,color_fragment:Wfe,color_pars_fragment:$fe,color_pars_vertex:Yfe,color_vertex:qfe,common:Zfe,cube_uv_reflection_fragment:Xfe,defaultnormal_vertex:Kfe,displacementmap_pars_vertex:Jfe,displacementmap_vertex:Qfe,emissivemap_fragment:epe,emissivemap_pars_fragment:tpe,encodings_fragment:npe,encodings_pars_fragment:rpe,envmap_fragment:ipe,envmap_pars_fragment:ope,envmap_pars_vertex:spe,envmap_physical_pars_fragment:vpe,envmap_vertex:ape,fog_vertex:lpe,fog_pars_vertex:cpe,fog_fragment:upe,fog_pars_fragment:dpe,gradientmap_pars_fragment:hpe,lightmap_fragment:fpe,lightmap_pars_fragment:ppe,lights_lambert_vertex:mpe,lights_pars_begin:gpe,lights_phong_fragment:ype,lights_phong_pars_fragment:xpe,lights_physical_fragment:bpe,lights_physical_pars_fragment:wpe,lights_fragment_begin:_pe,lights_fragment_maps:Epe,lights_fragment_end:Spe,logdepthbuf_fragment:Tpe,logdepthbuf_pars_fragment:Cpe,logdepthbuf_pars_vertex:Ape,logdepthbuf_vertex:kpe,map_fragment:Mpe,map_pars_fragment:Lpe,map_particle_fragment:Ppe,map_particle_pars_fragment:Rpe,metalnessmap_fragment:Ope,metalnessmap_pars_fragment:Ipe,morphnormal_vertex:Npe,morphtarget_pars_vertex:Dpe,morphtarget_vertex:Bpe,normal_fragment_begin:Fpe,normal_fragment_maps:jpe,normalmap_pars_fragment:zpe,packing:Upe,premultiplied_alpha_fragment:Hpe,project_vertex:Gpe,dithering_fragment:Vpe,dithering_pars_fragment:Wpe,roughnessmap_fragment:$pe,roughnessmap_pars_fragment:Ype,shadowmap_pars_fragment:qpe,shadowmap_pars_vertex:Zpe,shadowmap_vertex:Xpe,shadowmask_pars_fragment:Kpe,skinbase_vertex:Jpe,skinning_pars_vertex:Qpe,skinning_vertex:eme,skinnormal_vertex:tme,specularmap_fragment:nme,specularmap_pars_fragment:rme,tonemapping_fragment:ime,tonemapping_pars_fragment:ome,uv_pars_fragment:sme,uv_pars_vertex:ame,uv_vertex:lme,uv2_pars_fragment:cme,uv2_pars_vertex:ume,uv2_vertex:dme,worldpos_vertex:hme,background_frag:fme,background_vert:pme,cube_frag:mme,cube_vert:gme,depth_frag:vme,depth_vert:yme,distanceRGBA_frag:xme,distanceRGBA_vert:bme,equirect_frag:wme,equirect_vert:_me,linedashed_frag:Eme,linedashed_vert:Sme,meshbasic_frag:Tme,meshbasic_vert:Cme,meshlambert_frag:Ame,meshlambert_vert:kme,meshmatcap_frag:Mme,meshmatcap_vert:Lme,meshphong_frag:Pme,meshphong_vert:Rme,meshphysical_frag:Ome,meshphysical_vert:Ime,normal_frag:Nme,normal_vert:Dme,points_frag:Bme,points_vert:Fme,shadow_frag:jme,shadow_vert:zme,sprite_frag:Ume,sprite_vert:Hme};function Ip(e){var t={};for(var n in e){t[n]={};for(var r in e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Ei(e){for(var t={},n=0;n<e.length;n++){var r=Ip(e[n]);for(var i in r)t[i]=r[i]}return t}var Gme={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function We(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}Object.assign(We.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*6*(2/3-r):t}return function(n,r,i){if(n=ft.euclideanModulo(n,1),r=ft.clamp(r,0,1),i=ft.clamp(i,0,1),r===0)this.r=this.g=this.b=i;else{var o=i<=.5?i*(1+r):i+r-i*r,s=2*i-o;this.r=e(s,o,n+1/3),this.g=e(s,o,n),this.b=e(s,o,n-1/3)}return this}}(),setStyle:function(e){function t(h){h!==void 0&&parseFloat(h)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var s=parseFloat(r[1])/360,a=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(s,a,l)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=n[1],d=c.length;if(d===3)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(d===6)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(e&&e.length>0){var c=Gme[e];c!==void 0?this.setHex(c):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return t===void 0&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){t===void 0&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}return function(n){return this.r=e(n.r),this.g=e(n.g),this.b=e(n.b),this}}(),copyLinearToSRGB:function(){function e(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}return function(n){return this.r=e(n.r),this.g=e(n.g),this.b=e(n.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t=this.r,n=this.g,r=this.b,i=Math.max(t,n,r),o=Math.min(t,n,r),s,a,l=(o+i)/2;if(o===i)s=0,a=0;else{var c=i-o;switch(a=l<=.5?c/(i+o):c/(2-i-o),i){case t:s=(n-r)/c+(n<r?6:0);break;case n:s=(r-t)/c+2;break;case r:s=(t-n)/c+4;break}s/=6}return e.h=s,e.s=a,e.l=l,e},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(){var e={};return function(t,n,r){return this.getHSL(e),e.h+=t,e.s+=n,e.l+=r,this.setHSL(e.h,e.s,e.l),this}}(),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(){var e={h:0,s:0,l:0},t={h:0,s:0,l:0};return function(r,i){this.getHSL(e),r.getHSL(t);var o=ft.lerp(e.h,t.h,i),s=ft.lerp(e.s,t.s,i),a=ft.lerp(e.l,t.l,i);return this.setHSL(o,s,a),this}}(),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return t===void 0&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var ze={common:{diffuse:{value:new We(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Rr},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new me(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new We(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new We(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Rr}},sprite:{diffuse:{value:new We(15658734)},opacity:{value:1},center:{value:new me(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Rr}}},Zs={basic:{uniforms:Ei([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:Ei([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.fog,ze.lights,{emissive:{value:new We(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:Ei([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.gradientmap,ze.fog,ze.lights,{emissive:{value:new We(0)},specular:{value:new We(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:Ei([ze.common,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.roughnessmap,ze.metalnessmap,ze.fog,ze.lights,{emissive:{value:new We(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},matcap:{uniforms:Ei([ze.common,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:Ei([ze.points,ze.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:Ei([ze.common,ze.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:Ei([ze.common,ze.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:Ei([ze.common,ze.bumpmap,ze.normalmap,ze.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.normal_vert,fragmentShader:Mt.normal_frag},sprite:{uniforms:Ei([ze.sprite,ze.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Rr},t2D:{value:null}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:Ei([ze.common,ze.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:Ei([ze.lights,ze.fog,{color:{value:new We(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};Zs.physical={uniforms:Ei([Zs.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};function _A(){var e=null,t=!1,n=null;function r(i,o){t!==!1&&(n(i,o),e.requestAnimationFrame(r))}return{start:function(){t!==!0&&n!==null&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(i){n=i},setContext:function(i){e=i}}}function Vme(e){var t=new WeakMap;function n(a,l){var c=a.array,d=a.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,h=e.createBuffer();e.bindBuffer(l,h),e.bufferData(l,c,d),a.onUploadCallback();var f=e.FLOAT;return c instanceof Float32Array?f=e.FLOAT:c instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):c instanceof Uint16Array?f=e.UNSIGNED_SHORT:c instanceof Int16Array?f=e.SHORT:c instanceof Uint32Array?f=e.UNSIGNED_INT:c instanceof Int32Array?f=e.INT:c instanceof Int8Array?f=e.BYTE:c instanceof Uint8Array&&(f=e.UNSIGNED_BYTE),{buffer:h,type:f,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version}}function r(a,l,c){var d=l.array,h=l.updateRange;e.bindBuffer(c,a),l.dynamic===!1?e.bufferData(c,d,e.STATIC_DRAW):h.count===-1?e.bufferSubData(c,0,d):h.count===0?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(c,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1)}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),t.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);var l=t.get(a);l&&(e.deleteBuffer(l.buffer),t.delete(a))}function s(a,l){a.isInterleavedBufferAttribute&&(a=a.data);var c=t.get(a);c===void 0?t.set(a,n(a,l)):c.version<a.version&&(r(c.buffer,a,l),c.version=a.version)}return{get:i,remove:o,update:s}}function sy(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new W,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new We,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=o!==void 0?o:0}Object.assign(sy.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});function uh(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||uh.DefaultOrder}uh.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];uh.DefaultOrder="XYZ";Object.defineProperties(uh.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}});Object.assign(uh.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=ft.clamp,i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],d=i[9],h=i[2],f=i[6],m=i[10];return t=t||this._order,t==="XYZ"?(this._y=Math.asin(r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,c),this._z=0)):t==="YXZ"?(this._x=Math.asin(-r(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,o),this._z=0)):t==="ZXY"?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o))):t==="ZYX"?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c))):t==="YZX"?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,m))):t==="XZY"?(this._z=Math.asin(-r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-d,m),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,n!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new Qe;return function(n,r,i){return e.makeRotationFromQuaternion(n),this.setFromRotationMatrix(e,r,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new ir;return function(n){return e.setFromEuler(this),this.setFromQuaternion(e,n)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new W(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}});function qF(){this.mask=1}Object.assign(qF.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return(this.mask&e.mask)!==0}});var Wme=0;function Le(){Object.defineProperty(this,"id",{value:Wme++}),this.uuid=ft.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Le.DefaultUp.clone();var e=new W,t=new uh,n=new ir,r=new W(1,1,1);function i(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t.onChange(i),n.onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Qe},normalMatrix:{value:new Rr}}),this.matrix=new Qe,this.matrixWorld=new Qe,this.matrixAutoUpdate=Le.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new qF,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Le.DefaultUp=new W(0,1,0);Le.DefaultMatrixAutoUpdate=!0;Le.prototype=Object.assign(Object.create(Dl.prototype),{constructor:Le,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new ir;return function(n,r){return e.setFromAxisAngle(n,r),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new ir;return function(n,r){return e.setFromAxisAngle(n,r),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new W(1,0,0);return function(n){return this.rotateOnAxis(e,n)}}(),rotateY:function(){var e=new W(0,1,0);return function(n){return this.rotateOnAxis(e,n)}}(),rotateZ:function(){var e=new W(0,0,1);return function(n){return this.rotateOnAxis(e,n)}}(),translateOnAxis:function(){var e=new W;return function(n,r){return e.copy(n).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(r)),this}}(),translateX:function(){var e=new W(1,0,0);return function(n){return this.translateOnAxis(e,n)}}(),translateY:function(){var e=new W(0,1,0);return function(n){return this.translateOnAxis(e,n)}}(),translateZ:function(){var e=new W(0,0,1);return function(n){return this.translateOnAxis(e,n)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new Qe;return function(n){return n.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new ir,t=new Qe,n=new W,r=new W;return function(o,s,a){o.isVector3?n.copy(o):n.set(o,s,a);var l=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),l&&(t.extractRotation(l.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return n!==-1&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(e,t);if(o!==void 0)return o}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new W),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new W,t=new W;return function(r){return r===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),r=new ir),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldScale:function(){var e=new W,t=new ir;return function(r){return r===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),r=new W),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new W),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1);function i(b,x){return b[x.uuid]===void 0&&(b[x.uuid]=x.toJSON(e)),x.uuid}if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){var s=o.shapes;if(Array.isArray(s))for(var a=0,l=s.length;a<l;a++){var c=s[a];i(e.shapes,c)}else i(e.shapes,s)}}if(this.material!==void 0)if(Array.isArray(this.material)){for(var d=[],a=0,l=this.material.length;a<l;a++)d.push(i(e.materials,this.material[a]));r.material=d}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(t){var h=y(e.geometries),f=y(e.materials),m=y(e.textures),g=y(e.images),s=y(e.shapes);h.length>0&&(n.geometries=h),f.length>0&&(n.materials=f),m.length>0&&(n.textures=m),g.length>0&&(n.images=g),s.length>0&&(n.shapes=s)}return n.object=r,n;function y(b){var x=[];for(var w in b){var S=b[w];delete S.metadata,x.push(S)}return x}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var $me=0;function et(){Object.defineProperty(this,"id",{value:$me+=2}),this.uuid=ft.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}et.prototype=Object.assign(Object.create(Dl.prototype),{constructor:et,isGeometry:!0,applyMatrix:function(e){for(var t=new Rr().getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){var i=this.vertices[n];i.applyMatrix4(e)}for(var n=0,r=this.faces.length;n<r;n++){var o=this.faces[n];o.normal.applyMatrix3(t).normalize();for(var s=0,a=o.vertexNormals.length;s<a;s++)o.vertexNormals[s].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new Qe;return function(n){return e.makeRotationX(n),this.applyMatrix(e),this}}(),rotateY:function(){var e=new Qe;return function(n){return e.makeRotationY(n),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new Qe;return function(n){return e.makeRotationZ(n),this.applyMatrix(e),this}}(),translate:function(){var e=new Qe;return function(n,r,i){return e.makeTranslation(n,r,i),this.applyMatrix(e),this}}(),scale:function(){var e=new Qe;return function(n,r,i){return e.makeScale(n,r,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new Le;return function(n){e.lookAt(n),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){var t=this,n=e.index!==null?e.index.array:void 0,r=e.attributes,i=r.position.array,o=r.normal!==void 0?r.normal.array:void 0,s=r.color!==void 0?r.color.array:void 0,a=r.uv!==void 0?r.uv.array:void 0,l=r.uv2!==void 0?r.uv2.array:void 0;l!==void 0&&(this.faceVertexUvs[1]=[]);for(var c=0,d=0;c<i.length;c+=3,d+=2)t.vertices.push(new W().fromArray(i,c)),s!==void 0&&t.colors.push(new We().fromArray(s,c));function h(x,w,S,_){var T=s===void 0?[]:[t.colors[x].clone(),t.colors[w].clone(),t.colors[S].clone()],A=o===void 0?[]:[new W().fromArray(o,x*3),new W().fromArray(o,w*3),new W().fromArray(o,S*3)],P=new sy(x,w,S,A,T,_);t.faces.push(P),a!==void 0&&t.faceVertexUvs[0].push([new me().fromArray(a,x*2),new me().fromArray(a,w*2),new me().fromArray(a,S*2)]),l!==void 0&&t.faceVertexUvs[1].push([new me().fromArray(l,x*2),new me().fromArray(l,w*2),new me().fromArray(l,S*2)])}var f=e.groups;if(f.length>0)for(var c=0;c<f.length;c++)for(var m=f[c],g=m.start,y=m.count,d=g,b=g+y;d<b;d+=3)n!==void 0?h(n[d],n[d+1],n[d+2],m.materialIndex):h(d,d+1,d+2,m.materialIndex);else if(n!==void 0)for(var c=0;c<n.length;c+=3)h(n[c],n[c+1],n[c+2]);else for(var c=0;c<i.length/3;c+=3)h(c,c+1,c+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){var e=new W;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,r=new Qe;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new W,t=new W,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],s=this.vertices[i.b],a=this.vertices[i.c];e.subVectors(a,s),t.subVectors(o,s),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);var t,n,r,i,o,s;for(s=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)s[t]=new W;if(e){var a,l,c,d=new W,h=new W;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c],d.subVectors(c,l),h.subVectors(a,l),d.cross(h),s[o.a].add(d),s[o.b].add(d),s[o.c].add(d)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s[o.a].add(o.normal),s[o.b].add(o.normal),s[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)s[t].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var f=o.vertexNormals;f.length===3?(f[0].copy(s[o.a]),f[1].copy(s[o.b]),f[2].copy(s[o.c])):(f[0]=s[o.a].clone(),f[1]=s[o.b].clone(),f[2]=s[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){n=this.faces[e];var r=n.vertexNormals;r.length===3?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new et;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var s=this.morphNormals[e].faceNormals,a=this.morphNormals[e].vertexNormals,c,d;for(n=0,r=this.faces.length;n<r;n++)c=new W,d={a:new W,b:new W,c:new W},s.push(c),a.push(d)}var l=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var c,d;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=l.faceNormals[n],d=l.vertexNormals[n],c.copy(i.normal),d.a.copy(i.vertexNormals[0]),d.b.copy(i.vertexNormals[1]),d.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Sl),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new bs),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}var r,i=this.vertices.length,o=this.vertices,s=e.vertices,a=this.faces,l=e.faces,c=this.faceVertexUvs[0],d=e.faceVertexUvs[0],h=this.colors,f=e.colors;n===void 0&&(n=0),t!==void 0&&(r=new Rr().getNormalMatrix(t));for(var m=0,g=s.length;m<g;m++){var y=s[m],b=y.clone();t!==void 0&&b.applyMatrix4(t),o.push(b)}for(var m=0,g=f.length;m<g;m++)h.push(f[m].clone());for(m=0,g=l.length;m<g;m++){var x=l[m],w,S,_,T=x.vertexNormals,A=x.vertexColors;w=new sy(x.a+i,x.b+i,x.c+i),w.normal.copy(x.normal),r!==void 0&&w.normal.applyMatrix3(r).normalize();for(var P=0,k=T.length;P<k;P++)S=T[P].clone(),r!==void 0&&S.applyMatrix3(r).normalize(),w.vertexNormals.push(S);w.color.copy(x.color);for(var P=0,k=A.length;P<k;P++)_=A[P],w.vertexColors.push(_.clone());w.materialIndex=x.materialIndex+n,a.push(w)}for(m=0,g=d.length;m<g;m++){var M=d[m],I=[];if(M!==void 0){for(var P=0,k=M.length;P<k;P++)I.push(M[P].clone());c.push(I)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e={},t=[],n=[],r,i,o=4,s=Math.pow(10,o),a,l,c,d,h,f;for(a=0,l=this.vertices.length;a<l;a++)r=this.vertices[a],i=Math.round(r.x*s)+"_"+Math.round(r.y*s)+"_"+Math.round(r.z*s),e[i]===void 0?(e[i]=a,t.push(this.vertices[a]),n[a]=t.length-1):n[a]=n[e[i]];var m=[];for(a=0,l=this.faces.length;a<l;a++){c=this.faces[a],c.a=n[c.a],c.b=n[c.b],c.c=n[c.c],d=[c.a,c.b,c.c];for(var g=0;g<3;g++)if(d[g]===d[(g+1)%3]){m.push(a);break}}for(a=m.length-1;a>=0;a--){var y=m[a];for(this.faces.splice(y,1),h=0,f=this.faceVertexUvs.length;h<f;h++)this.faceVertexUvs[h].splice(y,1)}var b=this.vertices.length-t.length;return this.vertices=t,b},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new W(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;function r(c,d){return c.materialIndex-d.materialIndex}e.sort(r);var i=this.faceVertexUvs[0],o=this.faceVertexUvs[1],s,a;i&&i.length===t&&(s=[]),o&&o.length===t&&(a=[]);for(var n=0;n<t;n++){var l=e[n]._id;s&&s.push(i[l]),a&&a.push(o[l])}s&&(this.faceVertexUvs[0]=s),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){var t=this.parameters;for(var n in t)t[n]!==void 0&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}for(var s=[],a=[],l={},c=[],d={},h=[],f={},i=0;i<this.faces.length;i++){var m=this.faces[i],g=!0,y=!1,b=this.faceVertexUvs[0][i]!==void 0,x=m.normal.length()>0,w=m.vertexNormals.length>0,S=m.color.r!==1||m.color.g!==1||m.color.b!==1,_=m.vertexColors.length>0,T=0;if(T=M(T,0,0),T=M(T,1,g),T=M(T,2,y),T=M(T,3,b),T=M(T,4,x),T=M(T,5,w),T=M(T,6,S),T=M(T,7,_),s.push(T),s.push(m.a,m.b,m.c),s.push(m.materialIndex),b){var A=this.faceVertexUvs[0][i];s.push(U(A[0]),U(A[1]),U(A[2]))}if(x&&s.push(I(m.normal)),w){var P=m.vertexNormals;s.push(I(P[0]),I(P[1]),I(P[2]))}if(S&&s.push(N(m.color)),_){var k=m.vertexColors;s.push(N(k[0]),N(k[1]),N(k[2]))}}function M(Y,H,G){return G?Y|1<<H:Y&~(1<<H)}function I(Y){var H=Y.x.toString()+Y.y.toString()+Y.z.toString();return l[H]!==void 0||(l[H]=a.length/3,a.push(Y.x,Y.y,Y.z)),l[H]}function N(Y){var H=Y.r.toString()+Y.g.toString()+Y.b.toString();return d[H]!==void 0||(d[H]=c.length,c.push(Y.getHex())),d[H]}function U(Y){var H=Y.x.toString()+Y.y.toString();return f[H]!==void 0||(f[H]=h.length/2,h.push(Y.x,Y.y)),f[H]}return e.data={},e.data.vertices=r,e.data.normals=a,c.length>0&&(e.data.colors=c),h.length>0&&(e.data.uvs=[h]),e.data.faces=s,e},clone:function(){return new et().copy(this)},copy:function(e){var t,n,r,i,o,s;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var a=e.vertices;for(t=0,n=a.length;t<n;t++)this.vertices.push(a[t].clone());var l=e.colors;for(t=0,n=l.length;t<n;t++)this.colors.push(l[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var d=e.faceVertexUvs[t];for(this.faceVertexUvs[t]===void 0&&(this.faceVertexUvs[t]=[]),r=0,i=d.length;r<i;r++){var h=d[r],f=[];for(o=0,s=h.length;o<s;o++){var m=h[o];f.push(m.clone())}this.faceVertexUvs[t].push(f)}}var g=e.morphTargets;for(t=0,n=g.length;t<n;t++){var y={};if(y.name=g[t].name,g[t].vertices!==void 0)for(y.vertices=[],r=0,i=g[t].vertices.length;r<i;r++)y.vertices.push(g[t].vertices[r].clone());if(g[t].normals!==void 0)for(y.normals=[],r=0,i=g[t].normals.length;r<i;r++)y.normals.push(g[t].normals[r].clone());this.morphTargets.push(y)}var b=e.morphNormals;for(t=0,n=b.length;t<n;t++){var x={};if(b[t].vertexNormals!==void 0)for(x.vertexNormals=[],r=0,i=b[t].vertexNormals.length;r<i;r++){var w=b[t].vertexNormals[r],S={};S.a=w.a.clone(),S.b=w.b.clone(),S.c=w.c.clone(),x.vertexNormals.push(S)}if(b[t].faceNormals!==void 0)for(x.faceNormals=[],r=0,i=b[t].faceNormals.length;r<i;r++)x.faceNormals.push(b[t].faceNormals[r].clone());this.morphNormals.push(x)}var _=e.skinWeights;for(t=0,n=_.length;t<n;t++)this.skinWeights.push(_[t].clone());var T=e.skinIndices;for(t=0,n=T.length;t<n;t++)this.skinIndices.push(T[t].clone());var A=e.lineDistances;for(t=0,n=A.length;t<n;t++)this.lineDistances.push(A[t]);var P=e.boundingBox;P!==null&&(this.boundingBox=P.clone());var k=e.boundingSphere;return k!==null&&(this.boundingSphere=k.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function wt(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(wt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(wt.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=e!==void 0?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new We),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new me),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new W),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new an),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}});function QE(e,t,n){wt.call(this,new Int8Array(e),t,n)}QE.prototype=Object.create(wt.prototype);QE.prototype.constructor=QE;function eS(e,t,n){wt.call(this,new Uint8Array(e),t,n)}eS.prototype=Object.create(wt.prototype);eS.prototype.constructor=eS;function tS(e,t,n){wt.call(this,new Uint8ClampedArray(e),t,n)}tS.prototype=Object.create(wt.prototype);tS.prototype.constructor=tS;function nS(e,t,n){wt.call(this,new Int16Array(e),t,n)}nS.prototype=Object.create(wt.prototype);nS.prototype.constructor=nS;function Np(e,t,n){wt.call(this,new Uint16Array(e),t,n)}Np.prototype=Object.create(wt.prototype);Np.prototype.constructor=Np;function rS(e,t,n){wt.call(this,new Int32Array(e),t,n)}rS.prototype=Object.create(wt.prototype);rS.prototype.constructor=rS;function Dp(e,t,n){wt.call(this,new Uint32Array(e),t,n)}Dp.prototype=Object.create(wt.prototype);Dp.prototype.constructor=Dp;function Ce(e,t,n){wt.call(this,new Float32Array(e),t,n)}Ce.prototype=Object.create(wt.prototype);Ce.prototype.constructor=Ce;function iS(e,t,n){wt.call(this,new Float64Array(e),t,n)}iS.prototype=Object.create(wt.prototype);iS.prototype.constructor=iS;function ZF(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(ZF.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var s=i[o];s.materialIndex!==r&&(r=s.materialIndex,t!==void 0&&(t.count=o*3-t.start,n.push(t)),t={start:o*3,materialIndex:r})}t!==void 0&&(t.count=o*3-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t=e.faces,n=e.vertices,r=e.faceVertexUvs,i=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=e.morphTargets,a=s.length,l;if(a>0){l=[];for(var c=0;c<a;c++)l[c]={name:s[c].name,data:[]};this.morphTargets.position=l}var d=e.morphNormals,h=d.length,f;if(h>0){f=[];for(var c=0;c<h;c++)f[c]={name:d[c].name,data:[]};this.morphTargets.normal=f}var m=e.skinIndices,g=e.skinWeights,y=m.length===n.length,b=g.length===n.length;n.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var c=0;c<t.length;c++){var x=t[c];this.vertices.push(n[x.a],n[x.b],n[x.c]);var w=x.vertexNormals;if(w.length===3)this.normals.push(w[0],w[1],w[2]);else{var S=x.normal;this.normals.push(S,S,S)}var _=x.vertexColors;if(_.length===3)this.colors.push(_[0],_[1],_[2]);else{var T=x.color;this.colors.push(T,T,T)}if(i===!0){var A=r[0][c];A!==void 0?this.uvs.push(A[0],A[1],A[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new me,new me,new me))}if(o===!0){var A=r[1][c];A!==void 0?this.uvs2.push(A[0],A[1],A[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new me,new me,new me))}for(var P=0;P<a;P++){var k=s[P].vertices;l[P].data.push(k[x.a],k[x.b],k[x.c])}for(var P=0;P<h;P++){var M=d[P].vertexNormals[c];f[P].data.push(M.a,M.b,M.c)}y&&this.skinIndices.push(m[x.a],m[x.b],m[x.c]),b&&this.skinWeights.push(g[x.a],g[x.b],g[x.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});function XF(e){if(e.length===0)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}var Yme=1;function Be(){Object.defineProperty(this,"id",{value:Yme+=2}),this.uuid=ft.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Be.prototype=Object.assign(Object.create(Dl.prototype),{constructor:Be,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(XF(e)>65535?Dp:Np)(e,1):this.index=e},addAttribute:function(e,t){return!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new wt(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this)},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;t!==void 0&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(n!==void 0){var r=new Rr().getNormalMatrix(e);r.applyToBufferAttribute(n),n.needsUpdate=!0}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(){var e=new Qe;return function(n){return e.makeRotationX(n),this.applyMatrix(e),this}}(),rotateY:function(){var e=new Qe;return function(n){return e.makeRotationY(n),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new Qe;return function(n){return e.makeRotationZ(n),this.applyMatrix(e),this}}(),translate:function(){var e=new Qe;return function(n,r,i){return e.makeTranslation(n,r,i),this.applyMatrix(e),this}}(),scale:function(){var e=new Qe;return function(n,r,i){return e.makeScale(n,r,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new Le;return function(n){e.lookAt(n),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new W;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Ce(t.vertices.length*3,3),r=new Ce(t.colors.length*3,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Ce(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new Ce(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var r;return t.verticesNeedUpdate===!0&&(r=this.attributes.position,r!==void 0&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1),t.normalsNeedUpdate===!0&&(r=this.attributes.normal,r!==void 0&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1),t.colorsNeedUpdate===!0&&(r=this.attributes.color,r!==void 0&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(r=this.attributes.uv,r!==void 0&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,r!==void 0&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new ZF().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(e.vertices.length*3);if(this.addAttribute("position",new wt(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(e.normals.length*3);this.addAttribute("normal",new wt(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(e.colors.length*3);this.addAttribute("color",new wt(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(e.uvs.length*2);this.addAttribute("uv",new wt(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(e.uvs2.length*2);this.addAttribute("uv2",new wt(o,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(var s in e.morphTargets){for(var a=[],l=e.morphTargets[s],c=0,d=l.length;c<d;c++){var h=l[c],f=new Ce(h.data.length*3,3);f.name=h.name,a.push(f.copyVector3sArray(h.data))}this.morphAttributes[s]=a}if(e.skinIndices.length>0){var m=new Ce(e.skinIndices.length*4,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var g=new Ce(e.skinWeights.length*4,4);this.addAttribute("skinWeight",g.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Sl);var e=this.attributes.position;e!==void 0?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new Sl,t=new W;return function(){this.boundingSphere===null&&(this.boundingSphere=new bs);var r=this.attributes.position;if(r){var i=this.boundingSphere.center;e.setFromBufferAttribute(r),e.getCenter(i);for(var o=0,s=0,a=r.count;s<a;s++)t.x=r.getX(s),t.y=r.getY(s),t.z=r.getZ(s),o=Math.max(o,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(t.normal===void 0)this.addAttribute("normal",new wt(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var s=t.normal.array,a,l,c,d=new W,h=new W,f=new W,m=new W,g=new W;if(e)for(var y=e.array,i=0,o=e.count;i<o;i+=3)a=y[i+0]*3,l=y[i+1]*3,c=y[i+2]*3,d.fromArray(n,a),h.fromArray(n,l),f.fromArray(n,c),m.subVectors(f,h),g.subVectors(d,h),m.cross(g),s[a]+=m.x,s[a+1]+=m.y,s[a+2]+=m.z,s[l]+=m.x,s[l+1]+=m.y,s[l+2]+=m.z,s[c]+=m.x,s[c+1]+=m.y,s[c+2]+=m.z;else for(var i=0,o=n.length;i<o;i+=9)d.fromArray(n,i),h.fromArray(n,i+3),f.fromArray(n,i+6),m.subVectors(f,h),g.subVectors(d,h),m.cross(g),s[i]=m.x,s[i+1]=m.y,s[i+2]=m.z,s[i+3]=m.x,s[i+4]=m.y,s[i+5]=m.z,s[i+6]=m.x,s[i+7]=m.y,s[i+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(e.attributes[r]!==void 0)for(var i=n[r],o=i.array,s=e.attributes[r],a=s.array,l=s.itemSize,c=0,d=l*t;c<a.length;c++,d++)o[d]=a[c];return this},normalizeNormals:function(){var e=new W;return function(){for(var n=this.attributes.normal,r=0,i=n.count;r<i;r++)e.x=n.getX(r),e.y=n.getY(r),e.z=n.getZ(r),e.normalize(),n.setXYZ(r,e.x,e.y,e.z)}}(),toNonIndexed:function(){function e(y,b){for(var x=y.array,w=y.itemSize,S=new x.constructor(b.length*w),_=0,T=0,A=0,P=b.length;A<P;A++){_=b[A]*w;for(var k=0;k<w;k++)S[T++]=x[_++]}return new wt(S,w)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Be,n=this.index.array,r=this.attributes;for(var i in r){var o=r[i],s=e(o,n);t.addAttribute(i,s)}var a=this.morphAttributes;for(i in a){for(var l=[],c=a[i],d=0,h=c.length;d<h;d++){var o=c[d],s=e(o,n);l.push(s)}t.morphAttributes[i]=l}for(var f=this.groups,d=0,m=f.length;d<m;d++){var g=f[d];t.addGroup(g.start,g.count,g.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){var t=this.parameters;for(var n in t)t[n]!==void 0&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(r!==null){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var s=o[n],i=Array.prototype.slice.call(s.array);e.data.attributes[n]={itemSize:s.itemSize,type:s.array.constructor.name,array:i,normalized:s.normalized}}var a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));var l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return new Be().copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;i!==null&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var s=o[t];this.addAttribute(t,s.clone())}var a=e.morphAttributes;for(t in a){var l=[],c=a[t];for(n=0,r=c.length;n<r;n++)l.push(c[n].clone());this.morphAttributes[t]=l}var d=e.groups;for(n=0,r=d.length;n<r;n++){var h=d[n];this.addGroup(h.start,h.count,h.materialIndex)}var f=e.boundingBox;f!==null&&(this.boundingBox=f.clone());var m=e.boundingSphere;return m!==null&&(this.boundingSphere=m.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function ay(e,t,n,r,i,o){et.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Rd(e,t,n,r,i,o)),this.mergeVertices()}ay.prototype=Object.create(et.prototype);ay.prototype.constructor=ay;function Rd(e,t,n,r,i,o){Be.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var a=[],l=[],c=[],d=[],h=0,f=0;m("z","y","x",-1,-1,n,t,e,o,i,0),m("z","y","x",1,-1,n,t,-e,o,i,1),m("x","z","y",1,1,e,n,t,r,o,2),m("x","z","y",1,-1,e,n,-t,r,o,3),m("x","y","z",1,-1,e,t,n,r,i,4),m("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(a),this.addAttribute("position",new Ce(l,3)),this.addAttribute("normal",new Ce(c,3)),this.addAttribute("uv",new Ce(d,2));function m(g,y,b,x,w,S,_,T,A,P,k){var M=S/A,I=_/P,N=S/2,U=_/2,Y=T/2,H=A+1,G=P+1,Z=0,ee=0,V,B,D=new W;for(B=0;B<G;B++){var J=B*I-U;for(V=0;V<H;V++){var j=V*M-N;D[g]=j*x,D[y]=J*w,D[b]=Y,l.push(D.x,D.y,D.z),D[g]=0,D[y]=0,D[b]=T>0?1:-1,c.push(D.x,D.y,D.z),d.push(V/A),d.push(1-B/P),Z+=1}}for(B=0;B<P;B++)for(V=0;V<A;V++){var oe=h+V+H*B,q=h+V+H*(B+1),te=h+(V+1)+H*(B+1),ne=h+(V+1)+H*B;a.push(oe,q,ne),a.push(q,te,ne),ee+=6}s.addGroup(f,ee,k),f+=ee,h+=Z}}Rd.prototype=Object.create(Be.prototype);Rd.prototype.constructor=Rd;function ly(e,t,n,r){et.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Tl(e,t,n,r)),this.mergeVertices()}ly.prototype=Object.create(et.prototype);ly.prototype.constructor=ly;function Tl(e,t,n,r){Be.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},e=e||1,t=t||1;var i=e/2,o=t/2,s=Math.floor(n)||1,a=Math.floor(r)||1,l=s+1,c=a+1,d=e/s,h=t/a,f,m,g=[],y=[],b=[],x=[];for(m=0;m<c;m++){var w=m*h-o;for(f=0;f<l;f++){var S=f*d-i;y.push(S,-w,0),b.push(0,0,1),x.push(f/s),x.push(1-m/a)}}for(m=0;m<a;m++)for(f=0;f<s;f++){var _=f+l*m,T=f+l*(m+1),A=f+1+l*(m+1),P=f+1+l*m;g.push(_,T,P),g.push(T,A,P)}this.setIndex(g),this.addAttribute("position",new Ce(y,3)),this.addAttribute("normal",new Ce(b,3)),this.addAttribute("uv",new Ce(x,2))}Tl.prototype=Object.create(Be.prototype);Tl.prototype.constructor=Tl;var qme=0;function lt(){Object.defineProperty(this,"id",{value:qme++}),this.uuid=ft.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=od,this.side=Km,this.flatShading=!1,this.vertexColors=DF,this.opacity=1,this.transparent=!1,this.blendSrc=jF,this.blendDst=zF,this.blendEquation=Gu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=XE,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}lt.prototype=Object.assign(Object.create(Dl.prototype),{constructor:lt,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(e!==void 0)for(var t in e){var n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===NF;continue}var r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}},toJSON:function(e){var t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearCoat!==void 0&&(n.clearCoat=this.clearCoat),this.clearCoatRoughness!==void 0&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==od&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==Km&&(n.side=this.side),this.vertexColors!==DF&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function r(s){var a=[];for(var l in s){var c=s[l];delete c.metadata,a.push(c)}return a}if(t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(t!==null){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Bi(e){lt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}Bi.prototype=Object.create(lt.prototype);Bi.prototype.constructor=Bi;Bi.prototype.isShaderMaterial=!0;Bi.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ip(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this};Bi.prototype.toJSON=function(e){var t=lt.prototype.toJSON.call(this,e);t.uniforms={};for(var n in this.uniforms){var r=this.uniforms[n],i=r.value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var o={};for(var s in this.extensions)this.extensions[s]===!0&&(o[s]=!0);return Object.keys(o).length>0&&(t.extensions=o),t};function dh(e,t){this.origin=e!==void 0?e:new W,this.direction=t!==void 0?t:new W}Object.assign(dh.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new W),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new W;return function(n){return this.origin.copy(this.at(n,e)),this}}(),closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new W),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new W;return function(n){var r=e.subVectors(n,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(n):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceToSquared(n))}}(),distanceSqToSegment:function(){var e=new W,t=new W,n=new W;return function(i,o,s,a){e.copy(i).add(o).multiplyScalar(.5),t.copy(o).sub(i).normalize(),n.copy(this.origin).sub(e);var l=i.distanceTo(o)*.5,c=-this.direction.dot(t),d=n.dot(this.direction),h=-n.dot(t),f=n.lengthSq(),m=Math.abs(1-c*c),g,y,b,x;if(m>0)if(g=c*h-d,y=c*d-h,x=l*m,g>=0)if(y>=-x)if(y<=x){var w=1/m;g*=w,y*=w,b=g*(g+c*y+2*d)+y*(c*g+y+2*h)+f}else y=l,g=Math.max(0,-(c*y+d)),b=-g*g+y*(y+2*h)+f;else y=-l,g=Math.max(0,-(c*y+d)),b=-g*g+y*(y+2*h)+f;else y<=-x?(g=Math.max(0,-(-c*l+d)),y=g>0?-l:Math.min(Math.max(-l,-h),l),b=-g*g+y*(y+2*h)+f):y<=x?(g=0,y=Math.min(Math.max(-l,-h),l),b=y*(y+2*h)+f):(g=Math.max(0,-(c*l+d)),y=g>0?l:Math.min(Math.max(-l,-h),l),b=-g*g+y*(y+2*h)+f);else y=c>0?-l:l,g=Math.max(0,-(c*y+d)),b=-g*g+y*(y+2*h)+f;return s&&s.copy(this.direction).multiplyScalar(g).add(this.origin),a&&a.copy(t).multiplyScalar(y).add(e),b}}(),intersectSphere:function(){var e=new W;return function(n,r){e.subVectors(n.center,this.origin);var i=e.dot(this.direction),o=e.dot(e)-i*i,s=n.radius*n.radius;if(o>s)return null;var a=Math.sqrt(s-o),l=i-a,c=i+a;return l<0&&c<0?null:l<0?this.at(c,r):this.at(l,r)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return n===null?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(t===0)return!0;var n=e.normal.dot(this.direction);return n*t<0},intersectBox:function(e,t){var n,r,i,o,s,a,l=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r||((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),d>=0?(s=(e.min.z-h.z)*d,a=(e.max.z-h.z)*d):(s=(e.max.z-h.z)*d,a=(e.min.z-h.z)*d),n>a||s>r)||((s>n||n!==n)&&(n=s),(a<r||r!==r)&&(r=a),r<0)?null:this.at(n>=0?n:r,t)},intersectsBox:function(){var e=new W;return function(n){return this.intersectBox(n,e)!==null}}(),intersectTriangle:function(){var e=new W,t=new W,n=new W,r=new W;return function(o,s,a,l,c){t.subVectors(s,o),n.subVectors(a,o),r.crossVectors(t,n);var d=this.direction.dot(r),h;if(d>0){if(l)return null;h=1}else if(d<0)h=-1,d=-d;else return null;e.subVectors(this.origin,o);var f=h*this.direction.dot(n.crossVectors(e,n));if(f<0)return null;var m=h*this.direction.dot(t.cross(e));if(m<0||f+m>d)return null;var g=-h*e.dot(r);return g<0?null:this.at(g/d,c)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});function $r(e,t,n){this.a=e!==void 0?e:new W,this.b=t!==void 0?t:new W,this.c=n!==void 0?n:new W}Object.assign($r,{getNormal:function(){var e=new W;return function(n,r,i,o){o===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),o=new W),o.subVectors(i,r),e.subVectors(n,r),o.cross(e);var s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}}(),getBarycoord:function(){var e=new W,t=new W,n=new W;return function(i,o,s,a,l){e.subVectors(a,o),t.subVectors(s,o),n.subVectors(i,o);var c=e.dot(e),d=e.dot(t),h=e.dot(n),f=t.dot(t),m=t.dot(n),g=c*f-d*d;if(l===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),l=new W),g===0)return l.set(-2,-1,-1);var y=1/g,b=(f*h-d*m)*y,x=(c*m-d*h)*y;return l.set(1-b-x,x,b)}}(),containsPoint:function(){var e=new W;return function(n,r,i,o){return $r.getBarycoord(n,r,i,o,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:function(){var e=new W;return function(n,r,i,o,s,a,l,c){return this.getBarycoord(n,r,i,o,e),c.set(0,0),c.addScaledVector(s,e.x),c.addScaledVector(a,e.y),c.addScaledVector(l,e.z),c}}()});Object.assign($r.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new W,t=new W;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),e.cross(t).length()*.5}}(),getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new W),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return $r.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new W),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return $r.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return $r.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return $r.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(){var e=new W,t=new W,n=new W,r=new W,i=new W,o=new W;return function(a,l){l===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),l=new W);var c=this.a,d=this.b,h=this.c,f,m;e.subVectors(d,c),t.subVectors(h,c),r.subVectors(a,c);var g=e.dot(r),y=t.dot(r);if(g<=0&&y<=0)return l.copy(c);i.subVectors(a,d);var b=e.dot(i),x=t.dot(i);if(b>=0&&x<=b)return l.copy(d);var w=g*x-b*y;if(w<=0&&g>=0&&b<=0)return f=g/(g-b),l.copy(c).addScaledVector(e,f);o.subVectors(a,h);var S=e.dot(o),_=t.dot(o);if(_>=0&&S<=_)return l.copy(h);var T=S*y-g*_;if(T<=0&&y>=0&&_<=0)return m=y/(y-_),l.copy(c).addScaledVector(t,m);var A=b*_-S*x;if(A<=0&&x-b>=0&&S-_>=0)return n.subVectors(h,d),m=(x-b)/(x-b+(S-_)),l.copy(d).addScaledVector(n,m);var P=1/(A+T+w);return f=T*P,m=w*P,l.copy(c).addScaledVector(e,f).addScaledVector(t,m)}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});function yo(e){lt.call(this),this.type="MeshBasicMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Db,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}yo.prototype=Object.create(lt.prototype);yo.prototype.constructor=yo;yo.prototype.isMeshBasicMaterial=!0;yo.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};function Ir(e,t){Le.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new Be,this.material=t!==void 0?t:new yo({color:Math.random()*16777215}),this.drawMode=$F,this.updateMorphTargets()}Ir.prototype=Object.assign(Object.create(Le.prototype),{constructor:Ir,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Le.prototype.copy.call(this,e),this.drawMode=e.drawMode,e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry,t,n,r;if(e.isBufferGeometry){var i=e.morphAttributes,o=Object.keys(i);if(o.length>0){var s=i[o[0]];if(s!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,n=s.length;t<n;t++)r=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}else{var a=e.morphTargets;a!==void 0&&a.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var e=new Qe,t=new dh,n=new bs,r=new W,i=new W,o=new W,s=new W,a=new W,l=new W,c=new me,d=new me,h=new me,f=new W,m=new W;function g(b,x,w,S,_,T,A,P){var k;if(x.side===Wr?k=S.intersectTriangle(A,T,_,!0,P):k=S.intersectTriangle(_,T,A,x.side!==Jm,P),k===null)return null;m.copy(P),m.applyMatrix4(b.matrixWorld);var M=w.ray.origin.distanceTo(m);return M<w.near||M>w.far?null:{distance:M,point:m.clone(),object:b}}function y(b,x,w,S,_,T,A,P,k){r.fromBufferAttribute(_,A),i.fromBufferAttribute(_,P),o.fromBufferAttribute(_,k);var M=g(b,x,w,S,r,i,o,f);if(M){T&&(c.fromBufferAttribute(T,A),d.fromBufferAttribute(T,P),h.fromBufferAttribute(T,k),M.uv=$r.getUV(f,r,i,o,c,d,h,new me));var I=new sy(A,P,k);$r.getNormal(r,i,o,I.normal),M.face=I}return M}return function(x,w){var S=this.geometry,_=this.material,T=this.matrixWorld;if(_!==void 0&&(S.boundingSphere===null&&S.computeBoundingSphere(),n.copy(S.boundingSphere),n.applyMatrix4(T),x.ray.intersectsSphere(n)!==!1&&(e.getInverse(T),t.copy(x.ray).applyMatrix4(e),!(S.boundingBox!==null&&t.intersectsBox(S.boundingBox)===!1)))){var A;if(S.isBufferGeometry){var P,k,M,I=S.index,N=S.attributes.position,U=S.attributes.uv,Y=S.groups,H=S.drawRange,G,Z,ee,V,B,D,J,j;if(I!==null)if(Array.isArray(_))for(G=0,ee=Y.length;G<ee;G++)for(B=Y[G],D=_[B.materialIndex],J=Math.max(B.start,H.start),j=Math.min(B.start+B.count,H.start+H.count),Z=J,V=j;Z<V;Z+=3)P=I.getX(Z),k=I.getX(Z+1),M=I.getX(Z+2),A=y(this,D,x,t,N,U,P,k,M),A&&(A.faceIndex=Math.floor(Z/3),w.push(A));else for(J=Math.max(0,H.start),j=Math.min(I.count,H.start+H.count),G=J,ee=j;G<ee;G+=3)P=I.getX(G),k=I.getX(G+1),M=I.getX(G+2),A=y(this,_,x,t,N,U,P,k,M),A&&(A.faceIndex=Math.floor(G/3),w.push(A));else if(N!==void 0)if(Array.isArray(_))for(G=0,ee=Y.length;G<ee;G++)for(B=Y[G],D=_[B.materialIndex],J=Math.max(B.start,H.start),j=Math.min(B.start+B.count,H.start+H.count),Z=J,V=j;Z<V;Z+=3)P=Z,k=Z+1,M=Z+2,A=y(this,D,x,t,N,U,P,k,M),A&&(A.faceIndex=Math.floor(Z/3),w.push(A));else for(J=Math.max(0,H.start),j=Math.min(N.count,H.start+H.count),G=J,ee=j;G<ee;G+=3)P=G,k=G+1,M=G+2,A=y(this,_,x,t,N,U,P,k,M),A&&(A.faceIndex=Math.floor(G/3),w.push(A))}else if(S.isGeometry){var oe,q,te,ne=Array.isArray(_),le=S.vertices,ue=S.faces,he,se=S.faceVertexUvs[0];se.length>0&&(he=se);for(var we=0,Fe=ue.length;we<Fe;we++){var ge=ue[we],Ge=ne?_[ge.materialIndex]:_;if(Ge!==void 0){if(oe=le[ge.a],q=le[ge.b],te=le[ge.c],Ge.morphTargets===!0){var Ue=S.morphTargets,gt=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var ut=0,Et=Ue.length;ut<Et;ut++){var Ht=gt[ut];if(Ht!==0){var Ke=Ue[ut].vertices;r.addScaledVector(s.subVectors(Ke[ge.a],oe),Ht),i.addScaledVector(a.subVectors(Ke[ge.b],q),Ht),o.addScaledVector(l.subVectors(Ke[ge.c],te),Ht)}}r.add(oe),i.add(q),o.add(te),oe=r,q=i,te=o}if(A=g(this,Ge,x,t,oe,q,te,f),A){if(he&&he[we]){var xt=he[we];c.copy(xt[0]),d.copy(xt[1]),h.copy(xt[2]),A.uv=$r.getUV(f,oe,q,te,c,d,h,new me)}A.face=ge,A.faceIndex=we,w.push(A)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function Zme(e,t,n,r){var i=new We(0),o=0,s,a,l=null,c=0;function d(f,m,g,y){var b=m.background;if(b===null?(h(i,o),l=null,c=0):b&&b.isColor&&(h(b,1),y=!0,l=null,c=0),(e.autoClear||y)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),b&&(b.isCubeTexture||b.isWebGLRenderTargetCube)){a===void 0&&(a=new Ir(new Rd(1,1,1),new Bi({type:"BackgroundCubeMaterial",uniforms:Ip(Zs.cube.uniforms),vertexShader:Zs.cube.vertexShader,fragmentShader:Zs.cube.fragmentShader,side:Wr,depthTest:!0,depthWrite:!1,fog:!1})),a.geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(w,S,_){this.matrixWorld.copyPosition(_.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(a));var x=b.isWebGLRenderTargetCube?b.texture:b;a.material.uniforms.tCube.value=x,a.material.uniforms.tFlip.value=b.isWebGLRenderTargetCube?1:-1,(l!==b||c!==x.version)&&(a.material.needsUpdate=!0,l=b,c=x.version),f.unshift(a,a.geometry,a.material,0,0,null)}else b&&b.isTexture&&(s===void 0&&(s=new Ir(new Tl(2,2),new Bi({type:"BackgroundMaterial",uniforms:Ip(Zs.background.uniforms),vertexShader:Zs.background.vertexShader,fragmentShader:Zs.background.fragmentShader,side:Km,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.removeAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(s)),s.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),s.material.uniforms.uvTransform.value.copy(b.matrix),(l!==b||c!==b.version)&&(s.material.needsUpdate=!0,l=b,c=b.version),f.unshift(s,s.geometry,s.material,0,0,null))}function h(f,m){t.buffers.color.setClear(f.r,f.g,f.b,m,r)}return{getClearColor:function(){return i},setClearColor:function(f,m){i.set(f),o=m!==void 0?m:1,h(i,o)},getClearAlpha:function(){return o},setClearAlpha:function(f){o=f,h(i,o)},render:d}}function Xme(e,t,n,r){var i;function o(l){i=l}function s(l,c){e.drawArrays(i,l,c),n.update(c,i)}function a(l,c,d){var h;if(r.isWebGL2)h=e;else if(h=t.get("ANGLE_instanced_arrays"),h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,c,d,l.maxInstancedCount),n.update(d,i,l.maxInstancedCount)}this.setMode=o,this.render=s,this.renderInstances=a}function Kme(e,t,n){var r;function i(){if(r!==void 0)return r;var A=t.get("EXT_texture_filter_anisotropic");return A!==null?r=e.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT):r=0,r}function o(A){if(A==="highp"){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var s=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,a=n.precision!==void 0?n.precision:"highp",l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);var c=n.logarithmicDepthBuffer===!0,d=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_TEXTURE_SIZE),m=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),g=e.getParameter(e.MAX_VERTEX_ATTRIBS),y=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),b=e.getParameter(e.MAX_VARYING_VECTORS),x=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),w=h>0,S=s||!!t.get("OES_texture_float"),_=w&&S,T=s?e.getParameter(e.MAX_SAMPLES):0;return{isWebGL2:s,getMaxAnisotropy:i,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:x,vertexTextures:w,floatFragmentTextures:S,floatVertexTextures:_,maxSamples:T}}function Jme(){var e=this,t=null,n=0,r=!1,i=!1,o=new qs,s=new Rr,a={value:null,needsUpdate:!1};this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h,f){var m=d.length!==0||h||n!==0||r;return r=h,t=c(d,f,0),n=d.length,m},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,l()},this.setState=function(d,h,f,m,g,y){if(!r||d===null||d.length===0||i&&!f)i?c(null):l();else{var b=i?0:n,x=b*4,w=g.clippingState||null;a.value=w,w=c(d,m,x,y);for(var S=0;S!==x;++S)w[S]=t[S];g.clippingState=w,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=b}};function l(){a.value!==t&&(a.value=t,a.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(d,h,f,m){var g=d!==null?d.length:0,y=null;if(g!==0){if(y=a.value,m!==!0||y===null){var b=f+g*4,x=h.matrixWorldInverse;s.getNormalMatrix(x),(y===null||y.length<b)&&(y=new Float32Array(b));for(var w=0,S=f;w!==g;++w,S+=4)o.copy(d[w]).applyMatrix4(x,s),o.normal.toArray(y,S),y[S+3]=o.constant}a.value=y,a.needsUpdate=!0}return e.numPlanes=g,y}}function Qme(e){var t={};return{get:function(n){if(t[n]!==void 0)return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function ege(e,t,n){var r={},i={};function o(c){var d=c.target,h=r[d.id];h.index!==null&&t.remove(h.index);for(var f in h.attributes)t.remove(h.attributes[f]);d.removeEventListener("dispose",o),delete r[d.id];var m=i[h.id];m&&(t.remove(m),delete i[h.id]),n.memory.geometries--}function s(c,d){var h=r[d.id];return h||(d.addEventListener("dispose",o),d.isBufferGeometry?h=d:d.isGeometry&&(d._bufferGeometry===void 0&&(d._bufferGeometry=new Be().setFromObject(c)),h=d._bufferGeometry),r[d.id]=h,n.memory.geometries++,h)}function a(c){var d=c.index,h=c.attributes;d!==null&&t.update(d,e.ELEMENT_ARRAY_BUFFER);for(var f in h)t.update(h[f],e.ARRAY_BUFFER);var m=c.morphAttributes;for(var f in m)for(var g=m[f],y=0,b=g.length;y<b;y++)t.update(g[y],e.ARRAY_BUFFER)}function l(c){var d=i[c.id];if(d)return d;var h=[],f=c.index,m=c.attributes;if(f!==null)for(var g=f.array,y=0,b=g.length;y<b;y+=3){var x=g[y+0],w=g[y+1],S=g[y+2];h.push(x,w,w,S,S,x)}else for(var g=m.position.array,y=0,b=g.length/3-1;y<b;y+=3){var x=y+0,w=y+1,S=y+2;h.push(x,w,w,S,S,x)}return d=new(XF(h)>65535?Dp:Np)(h,1),t.update(d,e.ELEMENT_ARRAY_BUFFER),i[c.id]=d,d}return{get:s,update:a,getWireframeAttribute:l}}function tge(e,t,n,r){var i;function o(h){i=h}var s,a;function l(h){s=h.type,a=h.bytesPerElement}function c(h,f){e.drawElements(i,f,s,h*a),n.update(f,i)}function d(h,f,m){var g;if(r.isWebGL2)g=e;else{var g=t.get("ANGLE_instanced_arrays");if(g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}}g[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,m,s,f*a,h.maxInstancedCount),n.update(m,i,h.maxInstancedCount)}this.setMode=o,this.setIndex=l,this.render=c,this.renderInstances=d}function nge(e){var t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(a=a||1,n.calls++,s){case e.TRIANGLES:n.triangles+=a*(o/3);break;case e.TRIANGLE_STRIP:case e.TRIANGLE_FAN:n.triangles+=a*(o-2);break;case e.LINES:n.lines+=a*(o/2);break;case e.LINE_STRIP:n.lines+=a*(o-1);break;case e.LINE_LOOP:n.lines+=a*o;break;case e.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:i,update:r}}function rge(e,t){return Math.abs(t[1])-Math.abs(e[1])}function ige(e){var t={},n=new Float32Array(8);function r(i,o,s,a){var l=i.morphTargetInfluences,c=l.length,d=t[o.id];if(d===void 0){d=[];for(var h=0;h<c;h++)d[h]=[h,0];t[o.id]=d}for(var f=s.morphTargets&&o.morphAttributes.position,m=s.morphNormals&&o.morphAttributes.normal,h=0;h<c;h++){var g=d[h];g[1]!==0&&(f&&o.removeAttribute("morphTarget"+h),m&&o.removeAttribute("morphNormal"+h))}for(var h=0;h<c;h++){var g=d[h];g[0]=h,g[1]=l[h]}d.sort(rge);for(var h=0;h<8;h++){var g=d[h];if(g){var y=g[0],b=g[1];if(b){f&&o.addAttribute("morphTarget"+h,f[y]),m&&o.addAttribute("morphNormal"+h,m[y]),n[h]=b;continue}}n[h]=0}a.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:r}}function oge(e,t){var n={};function r(o){var s=t.render.frame,a=o.geometry,l=e.get(o,a);return n[l.id]!==s&&(a.isGeometry&&l.updateFromObject(o),e.update(l),n[l.id]=s),l}function i(){n={}}return{update:r,dispose:i}}function Cl(e,t,n,r,i,o,s,a,l,c){e=e!==void 0?e:[],t=t!==void 0?t:mA,ln.call(this,e,t,n,r,i,o,s,a,l,c),this.flipY=!1}Cl.prototype=Object.create(ln.prototype);Cl.prototype.constructor=Cl;Cl.prototype.isCubeTexture=!0;Object.defineProperty(Cl.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function Bp(e,t,n,r){ln.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=or,this.minFilter=or,this.generateMipmaps=!1,this.flipY=!1}Bp.prototype=Object.create(ln.prototype);Bp.prototype.constructor=Bp;Bp.prototype.isDataTexture3D=!0;var KF=new ln,sge=new Bp,JF=new Cl;function QF(){this.seq=[],this.map={}}var qR=[],ZR=[],XR=new Float32Array(16),KR=new Float32Array(9),JR=new Float32Array(4);function hh(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=qR[i];if(o===void 0&&(o=new Float32Array(i),qR[i]=o),t!==0){r.toArray(o,0);for(var s=1,a=0;s!==t;++s)a+=n,e[s].toArray(o,a)}return o}function On(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function br(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function e8(e,t){var n=ZR[t];n===void 0&&(n=new Int32Array(t),ZR[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function age(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function lge(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function cge(e,t){var n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(On(n,t))return;e.uniform2fv(this.addr,t),br(n,t)}}function uge(e,t){var n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(On(n,t))return;e.uniform3fv(this.addr,t),br(n,t)}}function dge(e,t){var n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(On(n,t))return;e.uniform4fv(this.addr,t),br(n,t)}}function hge(e,t){var n=this.cache,r=t.elements;if(r===void 0){if(On(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),br(n,t)}else{if(On(n,r))return;JR.set(r),e.uniformMatrix2fv(this.addr,!1,JR),br(n,r)}}function fge(e,t){var n=this.cache,r=t.elements;if(r===void 0){if(On(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),br(n,t)}else{if(On(n,r))return;KR.set(r),e.uniformMatrix3fv(this.addr,!1,KR),br(n,r)}}function pge(e,t){var n=this.cache,r=t.elements;if(r===void 0){if(On(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),br(n,t)}else{if(On(n,r))return;XR.set(r),e.uniformMatrix4fv(this.addr,!1,XR),br(n,r)}}function mge(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||KF,i)}function gge(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||sge,i)}function vge(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||JF,i)}function t8(e,t){var n=this.cache;On(n,t)||(e.uniform2iv(this.addr,t),br(n,t))}function n8(e,t){var n=this.cache;On(n,t)||(e.uniform3iv(this.addr,t),br(n,t))}function r8(e,t){var n=this.cache;On(n,t)||(e.uniform4iv(this.addr,t),br(n,t))}function yge(e){switch(e){case 5126:return age;case 35664:return cge;case 35665:return uge;case 35666:return dge;case 35674:return hge;case 35675:return fge;case 35676:return pge;case 35678:case 36198:return mge;case 35679:return gge;case 35680:return vge;case 5124:case 35670:return lge;case 35667:case 35671:return t8;case 35668:case 35672:return n8;case 35669:case 35673:return r8}}function xge(e,t){var n=this.cache;On(n,t)||(e.uniform1fv(this.addr,t),br(n,t))}function bge(e,t){var n=this.cache;On(n,t)||(e.uniform1iv(this.addr,t),br(n,t))}function wge(e,t){var n=this.cache,r=hh(t,this.size,2);On(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function _ge(e,t){var n=this.cache,r=hh(t,this.size,3);On(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function Ege(e,t){var n=this.cache,r=hh(t,this.size,4);On(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function Sge(e,t){var n=this.cache,r=hh(t,this.size,4);On(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function Tge(e,t){var n=this.cache,r=hh(t,this.size,9);On(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function Cge(e,t){var n=this.cache,r=hh(t,this.size,16);On(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function Age(e,t,n){var r=this.cache,i=t.length,o=e8(n,i);On(r,o)===!1&&(e.uniform1iv(this.addr,o),br(r,o));for(var s=0;s!==i;++s)n.setTexture2D(t[s]||KF,o[s])}function kge(e,t,n){var r=this.cache,i=t.length,o=e8(n,i);On(r,o)===!1&&(e.uniform1iv(this.addr,o),br(r,o));for(var s=0;s!==i;++s)n.setTextureCube(t[s]||JF,o[s])}function Mge(e){switch(e){case 5126:return xge;case 35664:return wge;case 35665:return _ge;case 35666:return Ege;case 35674:return Sge;case 35675:return Tge;case 35676:return Cge;case 35678:return Age;case 35680:return kge;case 5124:case 35670:return bge;case 35667:case 35671:return t8;case 35668:case 35672:return n8;case 35669:case 35673:return r8}}function Lge(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=yge(t.type)}function i8(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Mge(t.type)}i8.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),br(t,e)};function o8(e){this.id=e,QF.call(this)}o8.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var s=r[i];s.setValue(e,t[s.id],n)}};var jw=/([\w\d_]+)(\])?(\[|\.)?/g;function QR(e,t){e.seq.push(t),e.map[t.id]=t}function Pge(e,t,n){var r=e.name,i=r.length;for(jw.lastIndex=0;;){var o=jw.exec(r),s=jw.lastIndex,a=o[1],l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){QR(n,c===void 0?new Lge(a,e,t):new i8(a,e,t));break}else{var d=n.map,h=d[a];h===void 0&&(h=new o8(a),QR(n,h)),n=h}}}function ml(e,t,n){QF.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=e.getActiveUniform(t,i),s=e.getUniformLocation(t,o.name);Pge(o,s,this)}}ml.prototype.setValue=function(e,t,n){var r=this.map[t];r!==void 0&&r.setValue(e,n,this.renderer)};ml.prototype.setOptional=function(e,t,n){var r=t[n];r!==void 0&&this.setValue(e,n,r)};ml.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var s=t[i],a=n[s.id];a.needsUpdate!==!1&&s.setValue(e,a.value,r)}};ml.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};function Rge(e){for(var t=e.split(`
`),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function eO(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),e.getShaderInfoLog(r)!==""&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),Rge(n)),r}var Oge=0;function s8(e){switch(e){case oy:return["Linear","( value )"];case Efe:return["sRGB","( value )"];case Sfe:return["RGBE","( value )"];case Tfe:return["RGBM","( value, 7.0 )"];case Cfe:return["RGBM","( value, 16.0 )"];case Afe:return["RGBD","( value, 256.0 )"];case YF:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function ov(e,t){var n=s8(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ige(e,t){var n=s8(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Nge(e,t){var n;switch(t){case UF:n="Linear";break;case Ghe:n="Reinhard";break;case Vhe:n="Uncharted2";break;case Whe:n="OptimizedCineon";break;case $he:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Dge(e,t,n){e=e||{};var r=[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return r.filter(uf).join(`
`)}function Bge(e){var t=[];for(var n in e){var r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join(`
`)}function Fge(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i),s=o.name;n[s]=e.getAttribLocation(t,s)}return n}function uf(e){return e!==""}function tO(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function nO(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function oS(e){var t=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){var o=Mt[i];if(o===void 0)throw new Error("Can not resolve #include <"+i+">");return oS(o)}return e.replace(t,n)}function rO(e){var t=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function n(r,i,o,s){for(var a="",l=parseInt(i);l<parseInt(o);l++)a+=s.replace(/\[ i \]/g,"[ "+l+" ]");return a}return e.replace(t,n)}function jge(e,t,n,r,i,o,s){var a=e.context,l=r.defines,c=i.vertexShader,d=i.fragmentShader,h="SHADOWMAP_TYPE_BASIC";o.shadowMapType===IF?h="SHADOWMAP_TYPE_PCF":o.shadowMapType===_he&&(h="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",g="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case mA:case KE:f="ENVMAP_TYPE_CUBE";break;case gA:case vA:f="ENVMAP_TYPE_CUBE_UV";break;case HF:case JE:f="ENVMAP_TYPE_EQUIREC";break;case GF:f="ENVMAP_TYPE_SPHERE";break}switch(r.envMap.mapping){case KE:case JE:m="ENVMAP_MODE_REFRACTION";break}switch(r.combine){case Db:g="ENVMAP_BLENDING_MULTIPLY";break;case Uhe:g="ENVMAP_BLENDING_MIX";break;case Hhe:g="ENVMAP_BLENDING_ADD";break}}var y=e.gammaFactor>0?e.gammaFactor:1,b=s.isWebGL2?"":Dge(r.extensions,o,t),x=Bge(l),w=a.createProgram(),S,_;if(r.isRawShaderMaterial?(S=[x].filter(uf).join(`
`),S.length>0&&(S+=`
`),_=[b,x].filter(uf).join(`
`),_.length>0&&(_+=`
`)):(S=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,x,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+m:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&o.flatShading===!1?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(s.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(uf).join(`
`),_=[b,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,x,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+f:"",o.envMap?"#define "+m:"",o.envMap?"#define "+g:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(s.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(s.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==Bw?"#define TONE_MAPPING":"",o.toneMapping!==Bw?Mt.tonemapping_pars_fragment:"",o.toneMapping!==Bw?Nge("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Mt.encodings_pars_fragment:"",o.mapEncoding?ov("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?ov("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?ov("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?ov("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?Ige("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(uf).join(`
`)),c=oS(c),c=tO(c,o),c=nO(c,o),d=oS(d),d=tO(d,o),d=nO(d,o),c=rO(c),d=rO(d),s.isWebGL2&&!r.isRawShaderMaterial){var T=!1,A=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&c.match(A)!==null&&d.match(A)!==null&&(T=!0,c=c.replace(A,""),d=d.replace(A,"")),S=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,_=[`#version 300 es
`,"#define varying in",T?"":"out highp vec4 pc_fragColor;",T?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_}var P=S+c,k=_+d,M=eO(a,a.VERTEX_SHADER,P),I=eO(a,a.FRAGMENT_SHADER,k);a.attachShader(w,M),a.attachShader(w,I),r.index0AttributeName!==void 0?a.bindAttribLocation(w,0,r.index0AttributeName):o.morphTargets===!0&&a.bindAttribLocation(w,0,"position"),a.linkProgram(w);var N=a.getProgramInfoLog(w).trim(),U=a.getShaderInfoLog(M).trim(),Y=a.getShaderInfoLog(I).trim(),H=!0,G=!0;a.getProgramParameter(w,a.LINK_STATUS)===!1?(H=!1,console.error("THREE.WebGLProgram: shader error: ",a.getError(),"gl.VALIDATE_STATUS",a.getProgramParameter(w,a.VALIDATE_STATUS),"gl.getProgramInfoLog",N,U,Y)):N!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",N):(U===""||Y==="")&&(G=!1),G&&(this.diagnostics={runnable:H,material:r,programLog:N,vertexShader:{log:U,prefix:S},fragmentShader:{log:Y,prefix:_}}),a.deleteShader(M),a.deleteShader(I);var Z;this.getUniforms=function(){return Z===void 0&&(Z=new ml(a,w,e)),Z};var ee;return this.getAttributes=function(){return ee===void 0&&(ee=Fge(a,w)),ee},this.destroy=function(){a.deleteProgram(w),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=Oge++,this.code=n,this.usedTimes=1,this.program=w,this.vertexShader=M,this.fragmentShader=I,this}function zge(e,t,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function s(l){var c=l.skeleton,d=c.bones;if(n.floatVertexTextures)return 1024;var h=n.maxVertexUniforms,f=Math.floor((h-20)/4),m=Math.min(f,d.length);return m<d.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+d.length+" bones. This GPU supports "+m+"."),0):m}function a(l,c){var d;return l?l.isTexture?d=l.encoding:l.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),d=l.texture.encoding):d=oy,d===oy&&c&&(d=YF),d}this.getParameters=function(l,c,d,h,f,m,g){var y=i[l.type],b=g.isSkinnedMesh?s(g):0,x=n.precision;l.precision!==null&&(x=n.getMaxPrecision(l.precision),x!==l.precision&&console.warn("THREE.WebGLProgram.getParameters:",l.precision,"not supported, using",x,"instead."));var w=e.getRenderTarget(),S={shaderID:y,precision:x,supportsVertexTextures:n.vertexTextures,outputEncoding:a(w?w.texture:null,e.gammaOutput),map:!!l.map,mapEncoding:a(l.map,e.gammaInput),matcap:!!l.matcap,matcapEncoding:a(l.matcap,e.gammaInput),envMap:!!l.envMap,envMapMode:l.envMap&&l.envMap.mapping,envMapEncoding:a(l.envMap,e.gammaInput),envMapCubeUV:!!l.envMap&&(l.envMap.mapping===gA||l.envMap.mapping===vA),lightMap:!!l.lightMap,aoMap:!!l.aoMap,emissiveMap:!!l.emissiveMap,emissiveMapEncoding:a(l.emissiveMap,e.gammaInput),bumpMap:!!l.bumpMap,normalMap:!!l.normalMap,objectSpaceNormalMap:l.normalMapType===Lfe,displacementMap:!!l.displacementMap,roughnessMap:!!l.roughnessMap,metalnessMap:!!l.metalnessMap,specularMap:!!l.specularMap,alphaMap:!!l.alphaMap,gradientMap:!!l.gradientMap,combine:l.combine,vertexColors:l.vertexColors,fog:!!h,useFog:l.fog,fogExp:h&&h.isFogExp2,flatShading:l.flatShading,sizeAttenuation:l.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:l.skinning&&b>0,maxBones:b,useVertexTexture:n.floatVertexTextures,morphTargets:l.morphTargets,morphNormals:l.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:c.directional.length,numPointLights:c.point.length,numSpotLights:c.spot.length,numRectAreaLights:c.rectArea.length,numHemiLights:c.hemi.length,numClippingPlanes:f,numClipIntersection:m,dithering:l.dithering,shadowMapEnabled:e.shadowMap.enabled&&g.receiveShadow&&d.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:l.premultipliedAlpha,alphaTest:l.alphaTest,doubleSided:l.side===Jm,flipSided:l.side===Wr,depthPacking:l.depthPacking!==void 0?l.depthPacking:!1};return S},this.getProgramCode=function(l,c){var d=[];if(c.shaderID?d.push(c.shaderID):(d.push(l.fragmentShader),d.push(l.vertexShader)),l.defines!==void 0)for(var h in l.defines)d.push(h),d.push(l.defines[h]);for(var f=0;f<o.length;f++)d.push(c[o[f]]);return d.push(l.onBeforeCompile.toString()),d.push(e.gammaOutput),d.push(e.gammaFactor),d.join()},this.acquireProgram=function(l,c,d,h){for(var f,m=0,g=r.length;m<g;m++){var y=r[m];if(y.code===h){f=y,++f.usedTimes;break}}return f===void 0&&(f=new jge(e,t,h,l,c,d,n),r.push(f)),f},this.releaseProgram=function(l){if(--l.usedTimes===0){var c=r.indexOf(l);r[c]=r[r.length-1],r.pop(),l.destroy()}},this.programs=r}function Uge(){var e=new WeakMap;function t(o){var s=e.get(o);return s===void 0&&(s={},e.set(o,s)),s}function n(o){e.delete(o)}function r(o,s,a){e.get(o)[s]=a}function i(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:i}}function Hge(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Gge(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function iO(){var e=[],t=0,n=[],r=[];function i(){t=0,n.length=0,r.length=0}function o(c,d,h,f,m,g){var y=e[t];return y===void 0?(y={id:c.id,object:c,geometry:d,material:h,program:h.program,groupOrder:f,renderOrder:c.renderOrder,z:m,group:g},e[t]=y):(y.id=c.id,y.object=c,y.geometry=d,y.material=h,y.program=h.program,y.groupOrder=f,y.renderOrder=c.renderOrder,y.z=m,y.group=g),t++,y}function s(c,d,h,f,m,g){var y=o(c,d,h,f,m,g);(h.transparent===!0?r:n).push(y)}function a(c,d,h,f,m,g){var y=o(c,d,h,f,m,g);(h.transparent===!0?r:n).unshift(y)}function l(){n.length>1&&n.sort(Hge),r.length>1&&r.sort(Gge)}return{opaque:n,transparent:r,init:i,push:s,unshift:a,sort:l}}function Vge(){var e={};function t(i){var o=i.target;o.removeEventListener("dispose",t),delete e[o.id]}function n(i,o){var s=e[i.id],a;return s===void 0?(a=new iO,e[i.id]={},e[i.id][o.id]=a,i.addEventListener("dispose",t)):(a=s[o.id],a===void 0&&(a=new iO,s[o.id]=a)),a}function r(){e={}}return{get:n,dispose:r}}function Wge(){var e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new W,color:new We,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new me};break;case"SpotLight":n={position:new W,direction:new W,color:new We,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new me};break;case"PointLight":n={position:new W,color:new We,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new me,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new W,skyColor:new We,groundColor:new We};break;case"RectAreaLight":n={color:new We,position:new W,halfWidth:new W,halfHeight:new W};break}return e[t.id]=n,n}}}var $ge=0;function Yge(){var e=new Wge,t={id:$ge++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new W,r=new Qe,i=new Qe;function o(s,a,l){for(var c=0,d=0,h=0,f=0,m=0,g=0,y=0,b=0,x=l.matrixWorldInverse,w=0,S=s.length;w<S;w++){var _=s[w],T=_.color,A=_.intensity,P=_.distance,k=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)c+=T.r*A,d+=T.g*A,h+=T.b*A;else if(_.isDirectionalLight){var M=e.get(_);if(M.color.copy(_.color).multiplyScalar(_.intensity),M.direction.setFromMatrixPosition(_.matrixWorld),n.setFromMatrixPosition(_.target.matrixWorld),M.direction.sub(n),M.direction.transformDirection(x),M.shadow=_.castShadow,_.castShadow){var I=_.shadow;M.shadowBias=I.bias,M.shadowRadius=I.radius,M.shadowMapSize=I.mapSize}t.directionalShadowMap[f]=k,t.directionalShadowMatrix[f]=_.shadow.matrix,t.directional[f]=M,f++}else if(_.isSpotLight){var M=e.get(_);if(M.position.setFromMatrixPosition(_.matrixWorld),M.position.applyMatrix4(x),M.color.copy(T).multiplyScalar(A),M.distance=P,M.direction.setFromMatrixPosition(_.matrixWorld),n.setFromMatrixPosition(_.target.matrixWorld),M.direction.sub(n),M.direction.transformDirection(x),M.coneCos=Math.cos(_.angle),M.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),M.decay=_.decay,M.shadow=_.castShadow,_.castShadow){var I=_.shadow;M.shadowBias=I.bias,M.shadowRadius=I.radius,M.shadowMapSize=I.mapSize}t.spotShadowMap[g]=k,t.spotShadowMatrix[g]=_.shadow.matrix,t.spot[g]=M,g++}else if(_.isRectAreaLight){var M=e.get(_);M.color.copy(T).multiplyScalar(A),M.position.setFromMatrixPosition(_.matrixWorld),M.position.applyMatrix4(x),i.identity(),r.copy(_.matrixWorld),r.premultiply(x),i.extractRotation(r),M.halfWidth.set(_.width*.5,0,0),M.halfHeight.set(0,_.height*.5,0),M.halfWidth.applyMatrix4(i),M.halfHeight.applyMatrix4(i),t.rectArea[y]=M,y++}else if(_.isPointLight){var M=e.get(_);if(M.position.setFromMatrixPosition(_.matrixWorld),M.position.applyMatrix4(x),M.color.copy(_.color).multiplyScalar(_.intensity),M.distance=_.distance,M.decay=_.decay,M.shadow=_.castShadow,_.castShadow){var I=_.shadow;M.shadowBias=I.bias,M.shadowRadius=I.radius,M.shadowMapSize=I.mapSize,M.shadowCameraNear=I.camera.near,M.shadowCameraFar=I.camera.far}t.pointShadowMap[m]=k,t.pointShadowMatrix[m]=_.shadow.matrix,t.point[m]=M,m++}else if(_.isHemisphereLight){var M=e.get(_);M.direction.setFromMatrixPosition(_.matrixWorld),M.direction.transformDirection(x),M.direction.normalize(),M.skyColor.copy(_.color).multiplyScalar(A),M.groundColor.copy(_.groundColor).multiplyScalar(A),t.hemi[b]=M,b++}}t.ambient[0]=c,t.ambient[1]=d,t.ambient[2]=h,t.directional.length=f,t.spot.length=g,t.rectArea.length=y,t.point.length=m,t.hemi.length=b,t.hash.stateID=t.id,t.hash.directionalLength=f,t.hash.pointLength=m,t.hash.spotLength=g,t.hash.rectAreaLength=y,t.hash.hemiLength=b,t.hash.shadowsLength=a.length}return{setup:o,state:t}}function oO(){var e=new Yge,t=[],n=[];function r(){t.length=0,n.length=0}function i(l){t.push(l)}function o(l){n.push(l)}function s(l){e.setup(t,n,l)}var a={lightsArray:t,shadowsArray:n,lights:e};return{init:r,state:a,setupLights:s,pushLight:i,pushShadow:o}}function qge(){var e={};function t(i){var o=i.target;o.removeEventListener("dispose",t),delete e[o.id]}function n(i,o){var s;return e[i.id]===void 0?(s=new oO,e[i.id]={},e[i.id][o.id]=s,i.addEventListener("dispose",t)):e[i.id][o.id]===void 0?(s=new oO,e[i.id][o.id]=s):s=e[i.id][o.id],s}function r(){e={}}return{get:n,dispose:r}}function Oc(e){lt.call(this),this.type="MeshDepthMaterial",this.depthPacking=kfe,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}Oc.prototype=Object.create(lt.prototype);Oc.prototype.constructor=Oc;Oc.prototype.isMeshDepthMaterial=!0;Oc.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function Ic(e){lt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new W,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}Ic.prototype=Object.create(lt.prototype);Ic.prototype.constructor=Ic;Ic.prototype.isMeshDistanceMaterial=!0;Ic.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function a8(e,t,n){for(var r=new wA,i=new Qe,o=new me,s=new me(n,n),a=new W,l=new W,c=1,d=2,h=(c|d)+1,f=new Array(h),m=new Array(h),g={},y={0:Wr,1:Km,2:Jm},b=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],x=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)],w=[new an,new an,new an,new an,new an,new an],S=0;S!==h;++S){var _=(S&c)!==0,T=(S&d)!==0,A=new Oc({depthPacking:Mfe,morphTargets:_,skinning:T});f[S]=A;var P=new Ic({morphTargets:_,skinning:T});m[S]=P}var k=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=IF,this.render=function(N,U,Y){if(k.enabled!==!1&&!(k.autoUpdate===!1&&k.needsUpdate===!1)&&N.length!==0){var H=e.state;H.setBlending(Ff),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);for(var G,Z=0,ee=N.length;Z<ee;Z++){var V=N[Z],B=V.shadow,D=V&&V.isPointLight;if(B===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}var J=B.camera;if(o.copy(B.mapSize),o.min(s),D){var j=o.x,oe=o.y;w[0].set(j*2,oe,j,oe),w[1].set(0,oe,j,oe),w[2].set(j*3,oe,j,oe),w[3].set(j,oe,j,oe),w[4].set(j*3,0,j,oe),w[5].set(j,0,j,oe),o.x*=4,o.y*=2}if(B.map===null){var q={minFilter:or,magFilter:or,format:xs};B.map=new Zo(o.x,o.y,q),B.map.texture.name=V.name+".shadowMap",J.updateProjectionMatrix()}B.isSpotLightShadow&&B.update(V);var te=B.map,ne=B.matrix;l.setFromMatrixPosition(V.matrixWorld),J.position.copy(l),D?(G=6,ne.makeTranslation(-l.x,-l.y,-l.z)):(G=1,a.setFromMatrixPosition(V.target.matrixWorld),J.lookAt(a),J.updateMatrixWorld(),ne.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),ne.multiply(J.projectionMatrix),ne.multiply(J.matrixWorldInverse)),e.setRenderTarget(te),e.clear();for(var le=0;le<G;le++){if(D){a.copy(J.position),a.add(b[le]),J.up.copy(x[le]),J.lookAt(a),J.updateMatrixWorld();var ue=w[le];H.viewport(ue)}i.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),r.setFromMatrix(i),I(U,Y,J,D)}}k.needsUpdate=!1}};function M(N,U,Y,H,G,Z){var ee=N.geometry,V=null,B=f,D=N.customDepthMaterial;if(Y&&(B=m,D=N.customDistanceMaterial),D)V=D;else{var J=!1;U.morphTargets&&(ee&&ee.isBufferGeometry?J=ee.morphAttributes&&ee.morphAttributes.position&&ee.morphAttributes.position.length>0:ee&&ee.isGeometry&&(J=ee.morphTargets&&ee.morphTargets.length>0)),N.isSkinnedMesh&&U.skinning===!1&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",N);var j=N.isSkinnedMesh&&U.skinning,oe=0;J&&(oe|=c),j&&(oe|=d),V=B[oe]}if(e.localClippingEnabled&&U.clipShadows===!0&&U.clippingPlanes.length!==0){var q=V.uuid,te=U.uuid,ne=g[q];ne===void 0&&(ne={},g[q]=ne);var le=ne[te];le===void 0&&(le=V.clone(),ne[te]=le),V=le}return V.visible=U.visible,V.wireframe=U.wireframe,V.side=U.shadowSide!=null?U.shadowSide:y[U.side],V.clipShadows=U.clipShadows,V.clippingPlanes=U.clippingPlanes,V.clipIntersection=U.clipIntersection,V.wireframeLinewidth=U.wireframeLinewidth,V.linewidth=U.linewidth,Y&&V.isMeshDistanceMaterial&&(V.referencePosition.copy(H),V.nearDistance=G,V.farDistance=Z),V}function I(N,U,Y,H){if(N.visible!==!1){var G=N.layers.test(U.layers);if(G&&(N.isMesh||N.isLine||N.isPoints)&&N.castShadow&&(!N.frustumCulled||r.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(Y.matrixWorldInverse,N.matrixWorld);var Z=t.update(N),ee=N.material;if(Array.isArray(ee))for(var V=Z.groups,B=0,D=V.length;B<D;B++){var J=V[B],j=ee[J.materialIndex];if(j&&j.visible){var oe=M(N,j,H,l,Y.near,Y.far);e.renderBufferDirect(Y,null,Z,oe,N,J)}}else if(ee.visible){var oe=M(N,ee,H,l,Y.near,Y.far);e.renderBufferDirect(Y,null,Z,oe,N,null)}}for(var q=N.children,te=0,ne=q.length;te<ne;te++)I(q[te],U,Y,H)}}}function Zge(e,t,n,r){function i(){var re=!1,de=new an,Te=null,nt=new an(0,0,0,0);return{setMask:function(Oe){Te!==Oe&&!re&&(e.colorMask(Oe,Oe,Oe,Oe),Te=Oe)},setLocked:function(Oe){re=Oe},setClear:function(Oe,at,Lt,Tt,Un){Un===!0&&(Oe*=Tt,at*=Tt,Lt*=Tt),de.set(Oe,at,Lt,Tt),nt.equals(de)===!1&&(e.clearColor(Oe,at,Lt,Tt),nt.copy(de))},reset:function(){re=!1,Te=null,nt.set(-1,0,0,0)}}}function o(){var re=!1,de=null,Te=null,nt=null;return{setTest:function(Oe){Oe?he(e.DEPTH_TEST):se(e.DEPTH_TEST)},setMask:function(Oe){de!==Oe&&!re&&(e.depthMask(Oe),de=Oe)},setFunc:function(Oe){if(Te!==Oe){if(Oe)switch(Oe){case Ihe:e.depthFunc(e.NEVER);break;case Nhe:e.depthFunc(e.ALWAYS);break;case Dhe:e.depthFunc(e.LESS);break;case XE:e.depthFunc(e.LEQUAL);break;case Bhe:e.depthFunc(e.EQUAL);break;case Fhe:e.depthFunc(e.GEQUAL);break;case jhe:e.depthFunc(e.GREATER);break;case zhe:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);Te=Oe}},setLocked:function(Oe){re=Oe},setClear:function(Oe){nt!==Oe&&(e.clearDepth(Oe),nt=Oe)},reset:function(){re=!1,de=null,Te=null,nt=null}}}function s(){var re=!1,de=null,Te=null,nt=null,Oe=null,at=null,Lt=null,Tt=null,Un=null;return{setTest:function(Ct){Ct?he(e.STENCIL_TEST):se(e.STENCIL_TEST)},setMask:function(Ct){de!==Ct&&!re&&(e.stencilMask(Ct),de=Ct)},setFunc:function(Ct,er,En){(Te!==Ct||nt!==er||Oe!==En)&&(e.stencilFunc(Ct,er,En),Te=Ct,nt=er,Oe=En)},setOp:function(Ct,er,En){(at!==Ct||Lt!==er||Tt!==En)&&(e.stencilOp(Ct,er,En),at=Ct,Lt=er,Tt=En)},setLocked:function(Ct){re=Ct},setClear:function(Ct){Un!==Ct&&(e.clearStencil(Ct),Un=Ct)},reset:function(){re=!1,de=null,Te=null,nt=null,Oe=null,at=null,Lt=null,Tt=null,Un=null}}}var a=new i,l=new o,c=new s,d=e.getParameter(e.MAX_VERTEX_ATTRIBS),h=new Uint8Array(d),f=new Uint8Array(d),m=new Uint8Array(d),g={},y=null,b=null,x=null,w=null,S=null,_=null,T=null,A=null,P=null,k=null,M=!1,I=null,N=null,U=null,Y=null,H=null,G=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),Z=!1,ee=0,V=e.getParameter(e.VERSION);V.indexOf("WebGL")!==-1?(ee=parseFloat(/^WebGL\ ([0-9])/.exec(V)[1]),Z=ee>=1):V.indexOf("OpenGL ES")!==-1&&(ee=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(V)[1]),Z=ee>=2);var B=null,D={},J=new an,j=new an;function oe(re,de,Te){var nt=new Uint8Array(4),Oe=e.createTexture();e.bindTexture(re,Oe),e.texParameteri(re,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(re,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var at=0;at<Te;at++)e.texImage2D(de+at,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,nt);return Oe}var q={};q[e.TEXTURE_2D]=oe(e.TEXTURE_2D,e.TEXTURE_2D,1),q[e.TEXTURE_CUBE_MAP]=oe(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),he(e.DEPTH_TEST),l.setFunc(XE),Ue(!1),gt(FR),he(e.CULL_FACE),ge(Ff);function te(){for(var re=0,de=h.length;re<de;re++)h[re]=0}function ne(re){le(re,0)}function le(re,de){if(h[re]=1,f[re]===0&&(e.enableVertexAttribArray(re),f[re]=1),m[re]!==de){var Te=r.isWebGL2?e:t.get("ANGLE_instanced_arrays");Te[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](re,de),m[re]=de}}function ue(){for(var re=0,de=f.length;re!==de;++re)f[re]!==h[re]&&(e.disableVertexAttribArray(re),f[re]=0)}function he(re){g[re]!==!0&&(e.enable(re),g[re]=!0)}function se(re){g[re]!==!1&&(e.disable(re),g[re]=!1)}function we(){if(y===null&&(y=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var re=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),de=0;de<re.length;de++)y.push(re[de]);return y}function Fe(re){return b!==re?(e.useProgram(re),b=re,!0):!1}function ge(re,de,Te,nt,Oe,at,Lt,Tt){if(re===Ff){x&&(se(e.BLEND),x=!1);return}if(x||(he(e.BLEND),x=!0),re!==FF){if(re!==w||Tt!==M){if((S!==Gu||A!==Gu)&&(e.blendEquation(e.FUNC_ADD),S=Gu,A=Gu),Tt)switch(re){case od:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case YE:e.blendFunc(e.ONE,e.ONE);break;case qE:e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA);break;case ZE:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case od:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case YE:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case qE:e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR);break;case ZE:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}_=null,T=null,P=null,k=null,w=re,M=Tt}return}Oe=Oe||de,at=at||Te,Lt=Lt||nt,(de!==S||Oe!==A)&&(e.blendEquationSeparate(n.convert(de),n.convert(Oe)),S=de,A=Oe),(Te!==_||nt!==T||at!==P||Lt!==k)&&(e.blendFuncSeparate(n.convert(Te),n.convert(nt),n.convert(at),n.convert(Lt)),_=Te,T=nt,P=at,k=Lt),w=re,M=null}function Ge(re,de){re.side===Jm?se(e.CULL_FACE):he(e.CULL_FACE);var Te=re.side===Wr;de&&(Te=!Te),Ue(Te),re.blending===od&&re.transparent===!1?ge(Ff):ge(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.premultipliedAlpha),l.setFunc(re.depthFunc),l.setTest(re.depthTest),l.setMask(re.depthWrite),a.setMask(re.colorWrite),Et(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits)}function Ue(re){I!==re&&(re?e.frontFace(e.CW):e.frontFace(e.CCW),I=re)}function gt(re){re!==bhe?(he(e.CULL_FACE),re!==N&&(re===FR?e.cullFace(e.BACK):re===whe?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):se(e.CULL_FACE),N=re}function ut(re){re!==U&&(Z&&e.lineWidth(re),U=re)}function Et(re,de,Te){re?(he(e.POLYGON_OFFSET_FILL),(Y!==de||H!==Te)&&(e.polygonOffset(de,Te),Y=de,H=Te)):se(e.POLYGON_OFFSET_FILL)}function Ht(re){re?he(e.SCISSOR_TEST):se(e.SCISSOR_TEST)}function Ke(re){re===void 0&&(re=e.TEXTURE0+G-1),B!==re&&(e.activeTexture(re),B=re)}function xt(re,de){B===null&&Ke();var Te=D[B];Te===void 0&&(Te={type:void 0,texture:void 0},D[B]=Te),(Te.type!==re||Te.texture!==de)&&(e.bindTexture(re,de||q[re]),Te.type=re,Te.texture=de)}function St(){try{e.compressedTexImage2D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function _n(){try{e.texImage2D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ot(){try{e.texImage3D.apply(e,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Kt(re){J.equals(re)===!1&&(e.scissor(re.x,re.y,re.z,re.w),J.copy(re))}function Ze(re){j.equals(re)===!1&&(e.viewport(re.x,re.y,re.z,re.w),j.copy(re))}function st(){for(var re=0;re<f.length;re++)f[re]===1&&(e.disableVertexAttribArray(re),f[re]=0);g={},y=null,B=null,D={},b=null,w=null,I=null,N=null,a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},initAttributes:te,enableAttribute:ne,enableAttributeAndDivisor:le,disableUnusedAttributes:ue,enable:he,disable:se,getCompressedTextureFormats:we,useProgram:Fe,setBlending:ge,setMaterial:Ge,setFlipSided:Ue,setCullFace:gt,setLineWidth:ut,setPolygonOffset:Et,setScissorTest:Ht,activeTexture:Ke,bindTexture:xt,compressedTexImage2D:St,texImage2D:_n,texImage3D:ot,scissor:Kt,viewport:Ze,reset:st}}function Xge(e,t,n,r,i,o,s){var a={},l;function c(B,D,J,j){var oe=1;if((B.width>j||B.height>j)&&(oe=j/Math.max(B.width,B.height)),oe<1||D===!0)if(B instanceof HTMLImageElement||B instanceof HTMLCanvasElement||B instanceof ImageBitmap){l===void 0&&(l=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));var q=J?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):l,te=D?ft.floorPowerOfTwo:Math.floor;q.width=te(oe*B.width),q.height=te(oe*B.height);var ne=q.getContext("2d");return ne.drawImage(B,0,0,q.width,q.height),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+q.width+"x"+q.height+")."),q}else return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B;return B}function d(B){return ft.isPowerOfTwo(B.width)&&ft.isPowerOfTwo(B.height)}function h(B){return i.isWebGL2?!1:B.wrapS!==lo||B.wrapT!==lo||B.minFilter!==or&&B.minFilter!==yr}function f(B,D){return B.generateMipmaps&&D&&B.minFilter!==or&&B.minFilter!==yr}function m(B,D,J,j){e.generateMipmap(B);var oe=r.get(D);oe.__maxMipLevel=Math.log(Math.max(J,j))*Math.LOG2E}function g(B,D){if(!i.isWebGL2)return B;var J=B;return B===e.RED&&(D===e.FLOAT&&(J=e.R32F),D===e.HALF_FLOAT&&(J=e.R16F),D===e.UNSIGNED_BYTE&&(J=e.R8)),B===e.RGB&&(D===e.FLOAT&&(J=e.RGB32F),D===e.HALF_FLOAT&&(J=e.RGB16F),D===e.UNSIGNED_BYTE&&(J=e.RGB8)),B===e.RGBA&&(D===e.FLOAT&&(J=e.RGBA32F),D===e.HALF_FLOAT&&(J=e.RGBA16F),D===e.UNSIGNED_BYTE&&(J=e.RGBA8)),J===e.R16F||J===e.R32F||J===e.RGBA16F||J===e.RGBA32F?t.get("EXT_color_buffer_float"):(J===e.RGB16F||J===e.RGB32F)&&console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),J}function y(B){return B===or||B===yA||B===xA?e.NEAREST:e.LINEAR}function b(B){var D=B.target;D.removeEventListener("dispose",b),w(D),D.isVideoTexture&&delete a[D.id],s.memory.textures--}function x(B){var D=B.target;D.removeEventListener("dispose",x),S(D),s.memory.textures--}function w(B){var D=r.get(B);if(B.image&&D.__image__webglTextureCube)e.deleteTexture(D.__image__webglTextureCube);else{if(D.__webglInit===void 0)return;e.deleteTexture(D.__webglTexture)}r.remove(B)}function S(B){var D=r.get(B),J=r.get(B.texture);if(B){if(J.__webglTexture!==void 0&&e.deleteTexture(J.__webglTexture),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLRenderTargetCube)for(var j=0;j<6;j++)e.deleteFramebuffer(D.__webglFramebuffer[j]),D.__webglDepthbuffer&&e.deleteRenderbuffer(D.__webglDepthbuffer[j]);else e.deleteFramebuffer(D.__webglFramebuffer),D.__webglDepthbuffer&&e.deleteRenderbuffer(D.__webglDepthbuffer);r.remove(B.texture),r.remove(B)}}function _(B,D){var J=r.get(B);if(B.isVideoTexture&&V(B),B.version>0&&J.__version!==B.version){var j=B.image;if(j===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(j.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{M(J,B,D);return}}n.activeTexture(e.TEXTURE0+D),n.bindTexture(e.TEXTURE_2D,J.__webglTexture)}function T(B,D){var J=r.get(B);if(B.version>0&&J.__version!==B.version){M(J,B,D);return}n.activeTexture(e.TEXTURE0+D),n.bindTexture(e.TEXTURE_3D,J.__webglTexture)}function A(B,D){var J=r.get(B);if(B.image.length===6)if(B.version>0&&J.__version!==B.version){J.__image__webglTextureCube||(B.addEventListener("dispose",b),J.__image__webglTextureCube=e.createTexture(),s.memory.textures++),n.activeTexture(e.TEXTURE0+D),n.bindTexture(e.TEXTURE_CUBE_MAP,J.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,B.flipY);for(var j=B&&B.isCompressedTexture,oe=B.image[0]&&B.image[0].isDataTexture,q=[],te=0;te<6;te++)!j&&!oe?q[te]=c(B.image[te],!1,!0,i.maxCubemapSize):q[te]=oe?B.image[te].image:B.image[te];var ne=q[0],le=d(ne),ue=o.convert(B.format),he=o.convert(B.type),se=g(ue,he);k(e.TEXTURE_CUBE_MAP,B,le);for(var te=0;te<6;te++)if(!j)oe?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,se,q[te].width,q[te].height,0,ue,he,q[te].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,se,ue,he,q[te]);else for(var we,Fe=q[te].mipmaps,ge=0,Ge=Fe.length;ge<Ge;ge++)we=Fe[ge],B.format!==xs&&B.format!==Pc?n.getCompressedTextureFormats().indexOf(ue)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+te,ge,se,we.width,we.height,0,we.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+te,ge,se,we.width,we.height,0,ue,he,we.data);j?J.__maxMipLevel=Fe.length-1:J.__maxMipLevel=0,f(B,le)&&m(e.TEXTURE_CUBE_MAP,B,ne.width,ne.height),J.__version=B.version,B.onUpdate&&B.onUpdate(B)}else n.activeTexture(e.TEXTURE0+D),n.bindTexture(e.TEXTURE_CUBE_MAP,J.__image__webglTextureCube)}function P(B,D){n.activeTexture(e.TEXTURE0+D),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(B).__webglTexture)}function k(B,D,J){var j;if(J?(e.texParameteri(B,e.TEXTURE_WRAP_S,o.convert(D.wrapS)),e.texParameteri(B,e.TEXTURE_WRAP_T,o.convert(D.wrapT)),e.texParameteri(B,e.TEXTURE_MAG_FILTER,o.convert(D.magFilter)),e.texParameteri(B,e.TEXTURE_MIN_FILTER,o.convert(D.minFilter))):(e.texParameteri(B,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(B,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),(D.wrapS!==lo||D.wrapT!==lo)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(B,e.TEXTURE_MAG_FILTER,y(D.magFilter)),e.texParameteri(B,e.TEXTURE_MIN_FILTER,y(D.minFilter)),D.minFilter!==or&&D.minFilter!==yr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),j=t.get("EXT_texture_filter_anisotropic"),j){if(D.type===Pp&&t.get("OES_texture_float_linear")===null||D.type===bA&&(i.isWebGL2||t.get("OES_texture_half_float_linear"))===null)return;(D.anisotropy>1||r.get(D).__currentAnisotropy)&&(e.texParameterf(B,j.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy)}}function M(B,D,J){var j;D.isDataTexture3D?j=e.TEXTURE_3D:j=e.TEXTURE_2D,B.__webglInit===void 0&&(B.__webglInit=!0,D.addEventListener("dispose",b),B.__webglTexture=e.createTexture(),s.memory.textures++),n.activeTexture(e.TEXTURE0+J),n.bindTexture(j,B.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,D.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,D.unpackAlignment);var oe=h(D)&&d(D.image)===!1,q=c(D.image,oe,!1,i.maxTextureSize),te=d(q),ne=o.convert(D.format),le=o.convert(D.type),ue=g(ne,le);k(j,D,te);var he,se=D.mipmaps;if(D.isDepthTexture){if(ue=e.DEPTH_COMPONENT,D.type===Pp){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");ue=e.DEPTH_COMPONENT32F}else i.isWebGL2&&(ue=e.DEPTH_COMPONENT16);D.format===sd&&ue===e.DEPTH_COMPONENT&&D.type!==ty&&D.type!==WF&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=ty,le=o.convert(D.type)),D.format===Rp&&(ue=e.DEPTH_STENCIL,D.type!==ny&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=ny,le=o.convert(D.type))),n.texImage2D(e.TEXTURE_2D,0,ue,q.width,q.height,0,ne,le,null)}else if(D.isDataTexture){if(se.length>0&&te){for(var we=0,Fe=se.length;we<Fe;we++)he=se[we],n.texImage2D(e.TEXTURE_2D,we,ue,he.width,he.height,0,ne,le,he.data);D.generateMipmaps=!1,B.__maxMipLevel=se.length-1}else n.texImage2D(e.TEXTURE_2D,0,ue,q.width,q.height,0,ne,le,q.data),B.__maxMipLevel=0;D.isCfxTexture&&(e.texParameterf(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameterf(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT),e.texParameterf(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT))}else if(D.isCompressedTexture){for(var we=0,Fe=se.length;we<Fe;we++)he=se[we],D.format!==xs&&D.format!==Pc?n.getCompressedTextureFormats().indexOf(ne)>-1?n.compressedTexImage2D(e.TEXTURE_2D,we,ue,he.width,he.height,0,he.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,we,ue,he.width,he.height,0,ne,le,he.data);B.__maxMipLevel=se.length-1}else if(D.isDataTexture3D)n.texImage3D(e.TEXTURE_3D,0,ue,q.width,q.height,q.depth,0,ne,le,q.data),B.__maxMipLevel=0;else if(se.length>0&&te){for(var we=0,Fe=se.length;we<Fe;we++)he=se[we],n.texImage2D(e.TEXTURE_2D,we,ue,ne,le,he);D.generateMipmaps=!1,B.__maxMipLevel=se.length-1}else n.texImage2D(e.TEXTURE_2D,0,ue,ne,le,q),B.__maxMipLevel=0;f(D,te)&&m(e.TEXTURE_2D,D,q.width,q.height),B.__version=D.version,D.onUpdate&&D.onUpdate(D)}function I(B,D,J,j){var oe=o.convert(D.texture.format),q=o.convert(D.texture.type),te=g(oe,q);n.texImage2D(j,0,te,D.width,D.height,0,oe,q,null),e.bindFramebuffer(e.FRAMEBUFFER,B),e.framebufferTexture2D(e.FRAMEBUFFER,J,j,r.get(D.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function N(B,D,J){if(e.bindRenderbuffer(e.RENDERBUFFER,B),D.depthBuffer&&!D.stencilBuffer){if(J){var j=ee(D);e.renderbufferStorageMultisample(e.RENDERBUFFER,j,e.DEPTH_COMPONENT16,D.width,D.height)}else e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,D.width,D.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,B)}else if(D.depthBuffer&&D.stencilBuffer){if(J){var j=ee(D);e.renderbufferStorageMultisample(e.RENDERBUFFER,j,e.DEPTH_STENCIL,D.width,D.height)}else e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,D.width,D.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,B)}else{var oe=o.convert(D.texture.format),q=o.convert(D.texture.type),te=g(oe,q);if(J){var j=ee(D);e.renderbufferStorageMultisample(e.RENDERBUFFER,j,te,D.width,D.height)}else e.renderbufferStorage(e.RENDERBUFFER,te,D.width,D.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function U(B,D){var J=D&&D.isWebGLRenderTargetCube;if(J)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,B),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),_(D.depthTexture,0);var j=r.get(D.depthTexture).__webglTexture;if(D.depthTexture.format===sd)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,j,0);else if(D.depthTexture.format===Rp)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,j,0);else throw new Error("Unknown depthTexture format")}function Y(B){var D=r.get(B),J=B.isWebGLRenderTargetCube===!0;if(B.depthTexture){if(J)throw new Error("target.depthTexture not supported in Cube render targets");U(D.__webglFramebuffer,B)}else if(J){D.__webglDepthbuffer=[];for(var j=0;j<6;j++)e.bindFramebuffer(e.FRAMEBUFFER,D.__webglFramebuffer[j]),D.__webglDepthbuffer[j]=e.createRenderbuffer(),N(D.__webglDepthbuffer[j],B)}else e.bindFramebuffer(e.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer=e.createRenderbuffer(),N(D.__webglDepthbuffer,B);e.bindFramebuffer(e.FRAMEBUFFER,null)}function H(B){var D=r.get(B),J=r.get(B.texture);B.addEventListener("dispose",x),J.__webglTexture=e.createTexture(),s.memory.textures++;var j=B.isWebGLRenderTargetCube===!0,oe=B.isWebGLMultisampleRenderTarget===!0,q=d(B);if(j){D.__webglFramebuffer=[];for(var te=0;te<6;te++)D.__webglFramebuffer[te]=e.createFramebuffer()}else if(D.__webglFramebuffer=e.createFramebuffer(),oe)if(i.isWebGL2){D.__webglMultisampledFramebuffer=e.createFramebuffer(),D.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,D.__webglColorRenderbuffer);var ne=o.convert(B.texture.format),le=o.convert(B.texture.type),ue=g(ne,le),he=ee(B);e.renderbufferStorageMultisample(e.RENDERBUFFER,he,ue,B.width,B.height),e.bindFramebuffer(e.FRAMEBUFFER,D.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,D.__webglColorRenderbuffer),e.bindRenderbuffer(e.RENDERBUFFER,null),B.depthBuffer&&(D.__webglDepthRenderbuffer=e.createRenderbuffer(),N(D.__webglDepthRenderbuffer,B,!0)),e.bindFramebuffer(e.FRAMEBUFFER,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(j){n.bindTexture(e.TEXTURE_CUBE_MAP,J.__webglTexture),k(e.TEXTURE_CUBE_MAP,B.texture,q);for(var te=0;te<6;te++)I(D.__webglFramebuffer[te],B,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+te);f(B.texture,q)&&m(e.TEXTURE_CUBE_MAP,B.texture,B.width,B.height),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,J.__webglTexture),k(e.TEXTURE_2D,B.texture,q),I(D.__webglFramebuffer,B,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),f(B.texture,q)&&m(e.TEXTURE_2D,B.texture,B.width,B.height),n.bindTexture(e.TEXTURE_2D,null);B.depthBuffer&&Y(B)}function G(B){var D=B.texture,J=d(B);if(f(D,J)){var j=B.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,oe=r.get(D).__webglTexture;n.bindTexture(j,oe),m(j,D,B.width,B.height),n.bindTexture(j,null)}}function Z(B){if(B.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var D=r.get(B);e.bindFramebuffer(e.READ_FRAMEBUFFER,D.__webglMultisampledFramebuffer),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,D.__webglFramebuffer);var J=B.width,j=B.height,oe=e.COLOR_BUFFER_BIT;B.depthBuffer&&(oe|=e.DEPTH_BUFFER_BIT),B.stencilBuffer&&(oe|=e.STENCIL_BUFFER_BIT),e.blitFramebuffer(0,0,J,j,0,0,J,j,oe,e.NEAREST)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function ee(B){return i.isWebGL2&&B.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,B.samples):0}function V(B){var D=B.id,J=s.render.frame;a[D]!==J&&(a[D]=J,B.update())}this.setTexture2D=_,this.setTexture3D=T,this.setTextureCube=A,this.setTextureCubeDynamic=P,this.setupRenderTarget=H,this.updateRenderTargetMipmap=G,this.updateMultisampleRenderTarget=Z}function Kge(e,t,n){function r(i){var o;if(i===Qa)return e.REPEAT;if(i===lo)return e.CLAMP_TO_EDGE;if(i===Md)return e.MIRRORED_REPEAT;if(i===or)return e.NEAREST;if(i===yA)return e.NEAREST_MIPMAP_NEAREST;if(i===xA)return e.NEAREST_MIPMAP_LINEAR;if(i===yr)return e.LINEAR;if(i===VF)return e.LINEAR_MIPMAP_NEAREST;if(i===Bb)return e.LINEAR_MIPMAP_LINEAR;if(i===Lp)return e.UNSIGNED_BYTE;if(i===Xhe)return e.UNSIGNED_SHORT_4_4_4_4;if(i===Khe)return e.UNSIGNED_SHORT_5_5_5_1;if(i===Jhe)return e.UNSIGNED_SHORT_5_6_5;if(i===Yhe)return e.BYTE;if(i===qhe)return e.SHORT;if(i===ty)return e.UNSIGNED_SHORT;if(i===Zhe)return e.INT;if(i===WF)return e.UNSIGNED_INT;if(i===Pp)return e.FLOAT;if(i===bA){if(n.isWebGL2)return e.HALF_FLOAT;if(o=t.get("OES_texture_half_float"),o!==null)return o.HALF_FLOAT_OES}if(i===Qhe)return e.ALPHA;if(i===Pc)return e.RGB;if(i===xs)return e.RGBA;if(i===efe)return e.LUMINANCE;if(i===tfe)return e.LUMINANCE_ALPHA;if(i===sd)return e.DEPTH_COMPONENT;if(i===Rp)return e.DEPTH_STENCIL;if(i===nfe)return e.RED;if(i===Gu)return e.FUNC_ADD;if(i===Ehe)return e.FUNC_SUBTRACT;if(i===She)return e.FUNC_REVERSE_SUBTRACT;if(i===The)return e.ZERO;if(i===Che)return e.ONE;if(i===Ahe)return e.SRC_COLOR;if(i===khe)return e.ONE_MINUS_SRC_COLOR;if(i===jF)return e.SRC_ALPHA;if(i===zF)return e.ONE_MINUS_SRC_ALPHA;if(i===Mhe)return e.DST_ALPHA;if(i===Lhe)return e.ONE_MINUS_DST_ALPHA;if(i===Phe)return e.DST_COLOR;if(i===Rhe)return e.ONE_MINUS_DST_COLOR;if(i===Ohe)return e.SRC_ALPHA_SATURATE;if((i===jR||i===zR||i===UR||i===HR)&&(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null)){if(i===jR)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===zR)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===UR)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===HR)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((i===GR||i===VR||i===WR||i===$R)&&(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null)){if(i===GR)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===VR)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===WR)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===$R)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i===rfe&&(o=t.get("WEBGL_compressed_texture_etc1"),o!==null))return o.COMPRESSED_RGB_ETC1_WEBGL;if((i===ife||i===ofe||i===sfe||i===afe||i===lfe||i===cfe||i===ufe||i===dfe||i===hfe||i===ffe||i===pfe||i===mfe||i===gfe||i===vfe)&&(o=t.get("WEBGL_compressed_texture_astc"),o!==null))return i;if(i===Nw||i===Dw){if(n.isWebGL2){if(i===Nw)return e.MIN;if(i===Dw)return e.MAX}if(o=t.get("EXT_blend_minmax"),o!==null){if(i===Nw)return o.MIN_EXT;if(i===Dw)return o.MAX_EXT}}if(i===ny){if(n.isWebGL2)return e.UNSIGNED_INT_24_8;if(o=t.get("WEBGL_depth_texture"),o!==null)return o.UNSIGNED_INT_24_8_WEBGL}return 0}return{convert:r}}function Fp(){Le.call(this),this.type="Group"}Fp.prototype=Object.assign(Object.create(Le.prototype),{constructor:Fp,isGroup:!0});function ha(){Le.call(this),this.type="Camera",this.matrixWorldInverse=new Qe,this.projectionMatrix=new Qe,this.projectionMatrixInverse=new Qe}ha.prototype=Object.assign(Object.create(Le.prototype),{constructor:ha,isCamera:!0,copy:function(e,t){return Le.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new W),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Le.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function $n(e,t,n,r){ha.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=r!==void 0?r:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}$n.prototype=Object.assign(Object.create(ha.prototype),{constructor:$n,isPerspectiveCamera:!0,copy:function(e,t){return ha.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=ft.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(ft.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return ft.RAD2DEG*2*Math.atan(Math.tan(ft.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(ft.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(this.view!==null&&this.view.enabled){var s=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/s,t-=o.offsetY*n/a,r*=o.width/s,n*=o.height/a}var l=this.filmOffset;l!==0&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Le.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});function cy(e){$n.call(this),this.cameras=e||[]}cy.prototype=Object.assign(Object.create($n.prototype),{constructor:cy,isArrayCamera:!0});var sO=new W,aO=new W;function l8(e,t,n){sO.setFromMatrixPosition(t.matrixWorld),aO.setFromMatrixPosition(n.matrixWorld);var r=sO.distanceTo(aO),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,s=i[14]/(i[10]-1),a=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],d=(i[8]-1)/i[0],h=(o[8]+1)/o[0],f=s*d,m=s*h,g=r/(-d+h),y=g*-d;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(y),e.translateZ(g),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var b=s+g,x=a+g,w=f-y,S=m+(r-y),_=l*a/x*b,T=c*a/x*b;e.projectionMatrix.makePerspective(w,S,_,T,b,x)}function c8(e){var t=this,n=null,r=null,i=null,o=[],s=new Qe,a=new Qe,l=1,c="stage";typeof window<"u"&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",S,!1));var d=new Qe,h=new ir,f=new W,m=new $n;m.bounds=new an(0,0,.5,1),m.layers.enable(1);var g=new $n;g.bounds=new an(.5,0,.5,1),g.layers.enable(2);var y=new cy([m,g]);y.layers.enable(1),y.layers.enable(2);function b(){return n!==null&&n.isPresenting===!0}var x,w;function S(){if(b()){var k=n.getEyeParameters("left"),M=k.renderWidth*l,I=k.renderHeight*l;w=e.getPixelRatio(),x=e.getSize(),e.setDrawingBufferSize(M*2,I,1),P.start()}else t.enabled&&e.setDrawingBufferSize(x.width,x.height,w),P.stop()}var _=[];function T(k){for(var M=navigator.getGamepads&&navigator.getGamepads(),I=0,N=0,U=M.length;I<U;I++){var Y=M[I];if(Y&&(Y.id==="Daydream Controller"||Y.id==="Gear VR Controller"||Y.id==="Oculus Go Controller"||Y.id==="OpenVR Gamepad"||Y.id.startsWith("Oculus Touch")||Y.id.startsWith("Spatial Controller"))){if(N===k)return Y;N++}}}function A(){for(var k=0;k<o.length;k++){var M=o[k],I=T(k);if(I!==void 0&&I.pose!==void 0){if(I.pose===null)return;var N=I.pose;N.hasPosition===!1&&M.position.set(.2,-.6,-.05),N.position!==null&&M.position.fromArray(N.position),N.orientation!==null&&M.quaternion.fromArray(N.orientation),M.matrix.compose(M.position,M.quaternion,M.scale),M.matrix.premultiply(s),M.matrix.decompose(M.position,M.quaternion,M.scale),M.matrixWorldNeedsUpdate=!0,M.visible=!0;var U=I.id==="Daydream Controller"?0:1;_[k]!==I.buttons[U].pressed&&(_[k]=I.buttons[U].pressed,_[k]===!0?M.dispatchEvent({type:"selectstart"}):(M.dispatchEvent({type:"selectend"}),M.dispatchEvent({type:"select"})))}else M.visible=!1}}this.enabled=!1,this.getController=function(k){var M=o[k];return M===void 0&&(M=new Fp,M.matrixAutoUpdate=!1,M.visible=!1,o[k]=M),M},this.getDevice=function(){return n},this.setDevice=function(k){k!==void 0&&(n=k),P.setContext(k)},this.setFramebufferScaleFactor=function(k){l=k},this.setFrameOfReferenceType=function(k){c=k},this.setPoseTarget=function(k){k!==void 0&&(i=k)},this.getCamera=function(k){var M=c==="stage"?1.6:0;if(n===null)return k.position.set(0,M,0),k;if(n.depthNear=k.near,n.depthFar=k.far,n.getFrameData(r),c==="stage"){var I=n.stageParameters;I?s.fromArray(I.sittingToStandingTransform):s.makeTranslation(0,M,0)}var N=r.pose,U=i!==null?i:k;if(U.matrix.copy(s),U.matrix.decompose(U.position,U.quaternion,U.scale),N.orientation!==null&&(h.fromArray(N.orientation),U.quaternion.multiply(h)),N.position!==null&&(h.setFromRotationMatrix(s),f.fromArray(N.position),f.applyQuaternion(h),U.position.add(f)),U.updateMatrixWorld(),n.isPresenting===!1)return k;m.near=k.near,g.near=k.near,m.far=k.far,g.far=k.far,m.matrixWorldInverse.fromArray(r.leftViewMatrix),g.matrixWorldInverse.fromArray(r.rightViewMatrix),a.getInverse(s),c==="stage"&&(m.matrixWorldInverse.multiply(a),g.matrixWorldInverse.multiply(a));var Y=U.parent;Y!==null&&(d.getInverse(Y.matrixWorld),m.matrixWorldInverse.multiply(d),g.matrixWorldInverse.multiply(d)),m.matrixWorld.getInverse(m.matrixWorldInverse),g.matrixWorld.getInverse(g.matrixWorldInverse),m.projectionMatrix.fromArray(r.leftProjectionMatrix),g.projectionMatrix.fromArray(r.rightProjectionMatrix),l8(y,m,g);var H=n.getLayers();if(H.length){var G=H[0];G.leftBounds!==null&&G.leftBounds.length===4&&m.bounds.fromArray(G.leftBounds),G.rightBounds!==null&&G.rightBounds.length===4&&g.bounds.fromArray(G.rightBounds)}return A(),y},this.getStandingMatrix=function(){return s},this.isPresenting=b;var P=new _A;this.setAnimationLoop=function(k){P.setAnimationLoop(k)},this.submitFrame=function(){b()&&n.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",S)}}function Jge(e){var t=e.context,n=null,r=null,i=1,o=null,s="stage",a=null,l=[],c=[];function d(){return r!==null&&o!==null}var h=new $n;h.layers.enable(1),h.viewport=new an;var f=new $n;f.layers.enable(2),f.viewport=new an;var m=new cy([h,f]);m.layers.enable(1),m.layers.enable(2),this.enabled=!1,this.getController=function(_){var T=l[_];return T===void 0&&(T=new Fp,T.matrixAutoUpdate=!1,T.visible=!1,l[_]=T),T},this.getDevice=function(){return n},this.setDevice=function(_){_!==void 0&&(n=_),_ instanceof XRDevice&&t.setCompatibleXRDevice(_)};function g(_){var T=l[c.indexOf(_.inputSource)];T&&T.dispatchEvent({type:_.type})}function y(){e.setFramebuffer(null),S.stop()}this.setFramebufferScaleFactor=function(_){i=_},this.setFrameOfReferenceType=function(_){s=_},this.setSession=function(_){r=_,r!==null&&(r.addEventListener("select",g),r.addEventListener("selectstart",g),r.addEventListener("selectend",g),r.addEventListener("end",y),r.baseLayer=new XRWebGLLayer(r,t,{framebufferScaleFactor:i}),r.requestFrameOfReference(s).then(function(T){o=T,e.setFramebuffer(r.baseLayer.framebuffer),S.setContext(r),S.start()}),c=r.getInputSources(),r.addEventListener("inputsourceschange",function(){c=r.getInputSources();for(var T=0;T<l.length;T++){var A=l[T];A.userData.inputSource=c[T]}}))};function b(_,T){T===null?_.matrixWorld.copy(_.matrix):_.matrixWorld.multiplyMatrices(T.matrixWorld,_.matrix),_.matrixWorldInverse.getInverse(_.matrixWorld)}this.getCamera=function(_){if(d()){var T=_.parent,A=m.cameras;b(m,T);for(var P=0;P<A.length;P++)b(A[P],T);_.matrixWorld.copy(m.matrixWorld);for(var k=_.children,P=0,M=k.length;P<M;P++)k[P].updateMatrixWorld(!0);return l8(m,h,f),m}return _},this.isPresenting=d;var x=null;function w(_,T){if(a=T.getDevicePose(o),a!==null)for(var A=r.baseLayer,P=T.views,k=0;k<P.length;k++){var M=P[k],I=A.getViewport(M),N=a.getViewMatrix(M),U=m.cameras[k];U.matrix.fromArray(N).getInverse(U.matrix),U.projectionMatrix.fromArray(M.projectionMatrix),U.viewport.set(I.x,I.y,I.width,I.height),k===0&&m.matrix.copy(U.matrix)}for(var k=0;k<l.length;k++){var Y=l[k],H=c[k];if(H){var G=T.getInputPose(H,o);if(G!==null){"targetRay"in G?Y.matrix.elements=G.targetRay.transformMatrix:"pointerMatrix"in G&&(Y.matrix.elements=G.pointerMatrix),Y.matrix.decompose(Y.position,Y.rotation,Y.scale),Y.visible=!0;continue}}Y.visible=!1}x&&x(_)}var S=new _A;S.setAnimationLoop(w),this.setAnimationLoop=function(_){x=_},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function EA(e){e=e||{};var t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=e.context!==void 0?e.context:null,r=e.alpha!==void 0?e.alpha:!1,i=e.depth!==void 0?e.depth:!0,o=e.stencil!==void 0?e.stencil:!0,s=e.antialias!==void 0?e.antialias:!1,a=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,l=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,c=e.powerPreference!==void 0?e.powerPreference:"default",d=null,h=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=UF,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f=this,m=!1,g=null,y=null,b=null,x=-1,w={geometry:null,program:null,wireframe:!1},S=null,_=null,T=new an,A=new an,P=null,k=0,M=t.width,I=t.height,N=1,U=new an(0,0,M,I),Y=new an(0,0,M,I),H=!1,G=new wA,Z=new Jme,ee=!1,V=!1,B=new Qe,D=new W;function J(){return y===null?N:1}var j;try{var oe={alpha:r,depth:i,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c};if(t.addEventListener("webglcontextlost",ot,!1),t.addEventListener("webglcontextrestored",Kt,!1),j=n||t.getContext("webgl",oe)||t.getContext("experimental-webgl",oe),j===null)throw t.getContext("webgl")!==null?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");j.getShaderPrecisionFormat===void 0&&(j.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(z){console.error("THREE.WebGLRenderer: "+z.message)}var q,te,ne,le,ue,he,se,we,Fe,ge,Ge,Ue,gt,ut,Et,Ht,Ke;function xt(){q=new Qme(j),te=new Kme(j,q,e),te.isWebGL2||(q.get("WEBGL_depth_texture"),q.get("OES_texture_float"),q.get("OES_texture_half_float"),q.get("OES_texture_half_float_linear"),q.get("OES_standard_derivatives"),q.get("OES_element_index_uint"),q.get("ANGLE_instanced_arrays")),q.get("OES_texture_float_linear"),Ke=new Kge(j,q,te),ne=new Zge(j,q,Ke,te),ne.scissor(A.copy(Y).multiplyScalar(N)),ne.viewport(T.copy(U).multiplyScalar(N)),le=new nge(j),ue=new Uge,he=new Xge(j,q,ne,ue,te,Ke,le),se=new Vme(j),we=new ege(j,se,le),Fe=new oge(we,le),ut=new ige(j),ge=new zge(f,q,te),Ge=new Vge,Ue=new qge,gt=new Zme(f,ne,Fe,a),Et=new Xme(j,q,le,te),Ht=new tge(j,q,le,te),le.programs=ge.programs,f.context=j,f.capabilities=te,f.extensions=q,f.properties=ue,f.renderLists=Ge,f.state=ne,f.info=le}xt();var St=null;typeof navigator<"u"&&(St="xr"in navigator?new Jge(f):new c8(f)),this.vr=St;var _n=new a8(f,Fe,te.maxTextureSize);this.shadowMap=_n,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){var z=q.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){var z=q.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(z){z!==void 0&&(N=z,this.setSize(M,I,!1))},this.getSize=function(){return{width:M,height:I}},this.setSize=function(z,$,X){if(St.isPresenting()){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}M=z,I=$,t.width=z*N,t.height=$*N,X!==!1&&(t.style.width=z+"px",t.style.height=$+"px"),this.setViewport(0,0,z,$)},this.getDrawingBufferSize=function(){return{width:M*N,height:I*N}},this.setDrawingBufferSize=function(z,$,X){M=z,I=$,N=X,t.width=z*X,t.height=$*X,this.setViewport(0,0,z,$)},this.getCurrentViewport=function(){return T},this.setViewport=function(z,$,X,pe){U.set(z,I-$-pe,X,pe),ne.viewport(T.copy(U).multiplyScalar(N))},this.setScissor=function(z,$,X,pe){Y.set(z,I-$-pe,X,pe),ne.scissor(A.copy(Y).multiplyScalar(N))},this.setScissorTest=function(z){ne.setScissorTest(H=z)},this.getClearColor=function(){return gt.getClearColor()},this.setClearColor=function(){gt.setClearColor.apply(gt,arguments)},this.getClearAlpha=function(){return gt.getClearAlpha()},this.setClearAlpha=function(){gt.setClearAlpha.apply(gt,arguments)},this.clear=function(z,$,X){var pe=0;(z===void 0||z)&&(pe|=j.COLOR_BUFFER_BIT),($===void 0||$)&&(pe|=j.DEPTH_BUFFER_BIT),(X===void 0||X)&&(pe|=j.STENCIL_BUFFER_BIT),j.clear(pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ot,!1),t.removeEventListener("webglcontextrestored",Kt,!1),Ge.dispose(),Ue.dispose(),ue.dispose(),Fe.dispose(),St.dispose(),at.stop()};function ot(z){z.preventDefault(),m=!0}function Kt(){m=!1,xt()}function Ze(z){var $=z.target;$.removeEventListener("dispose",Ze),st($)}function st(z){re(z),ue.remove(z)}function re(z){var $=ue.get(z).program;z.program=void 0,$!==void 0&&ge.releaseProgram($)}function de(z,$){z.render(function(X){f.renderBufferImmediate(X,$)})}this.renderBufferImmediate=function(z,$){ne.initAttributes();var X=ue.get(z);z.hasPositions&&!X.position&&(X.position=j.createBuffer()),z.hasNormals&&!X.normal&&(X.normal=j.createBuffer()),z.hasUvs&&!X.uv&&(X.uv=j.createBuffer()),z.hasColors&&!X.color&&(X.color=j.createBuffer());var pe=$.getAttributes();z.hasPositions&&(j.bindBuffer(j.ARRAY_BUFFER,X.position),j.bufferData(j.ARRAY_BUFFER,z.positionArray,j.DYNAMIC_DRAW),ne.enableAttribute(pe.position),j.vertexAttribPointer(pe.position,3,j.FLOAT,!1,0,0)),z.hasNormals&&(j.bindBuffer(j.ARRAY_BUFFER,X.normal),j.bufferData(j.ARRAY_BUFFER,z.normalArray,j.DYNAMIC_DRAW),ne.enableAttribute(pe.normal),j.vertexAttribPointer(pe.normal,3,j.FLOAT,!1,0,0)),z.hasUvs&&(j.bindBuffer(j.ARRAY_BUFFER,X.uv),j.bufferData(j.ARRAY_BUFFER,z.uvArray,j.DYNAMIC_DRAW),ne.enableAttribute(pe.uv),j.vertexAttribPointer(pe.uv,2,j.FLOAT,!1,0,0)),z.hasColors&&(j.bindBuffer(j.ARRAY_BUFFER,X.color),j.bufferData(j.ARRAY_BUFFER,z.colorArray,j.DYNAMIC_DRAW),ne.enableAttribute(pe.color),j.vertexAttribPointer(pe.color,3,j.FLOAT,!1,0,0)),ne.disableUnusedAttributes(),j.drawArrays(j.TRIANGLES,0,z.count),z.count=0},this.renderBufferDirect=function(z,$,X,pe,ke,vt){var Ae=ke.isMesh&&ke.normalMatrix.determinant()<0;ne.setMaterial(pe,Ae);var Ie=er(z,$,pe,ke),dt=!1;(w.geometry!==X.id||w.program!==Ie.id||w.wireframe!==(pe.wireframe===!0))&&(w.geometry=X.id,w.program=Ie.id,w.wireframe=pe.wireframe===!0,dt=!0),ke.morphTargetInfluences&&(ut.update(ke,X,pe,Ie),dt=!0);var Yt=X.index,Ft=X.attributes.position,Qt=1;pe.wireframe===!0&&(Yt=we.getWireframeAttribute(X),Qt=2);var je,qe=Et;Yt!==null&&(je=se.get(Yt),qe=Ht,qe.setIndex(je)),dt&&(Te(pe,Ie,X),Yt!==null&&j.bindBuffer(j.ELEMENT_ARRAY_BUFFER,je.buffer));var He=1/0;Yt!==null?He=Yt.count:Ft!==void 0&&(He=Ft.count);var Pt=X.drawRange.start*Qt,Hn=X.drawRange.count*Qt,Yi=vt!==null?vt.start*Qt:0,Mn=vt!==null?vt.count*Qt:1/0,To=Math.max(Pt,Yi),Ea=Math.min(He,Pt+Hn,Yi+Mn)-1,Ds=Math.max(0,Ea-To+1);if(Ds!==0){if(ke.isMesh)if(pe.wireframe===!0)ne.setLineWidth(pe.wireframeLinewidth*J()),qe.setMode(j.LINES);else switch(ke.drawMode){case $F:qe.setMode(j.TRIANGLES);break;case wfe:qe.setMode(j.TRIANGLE_STRIP);break;case _fe:qe.setMode(j.TRIANGLE_FAN);break}else if(ke.isLine){var Yc=pe.linewidth;Yc===void 0&&(Yc=1),ne.setLineWidth(Yc*J()),ke.isLineSegments?qe.setMode(j.LINES):ke.isLineLoop?qe.setMode(j.LINE_LOOP):qe.setMode(j.LINE_STRIP)}else ke.isPoints?qe.setMode(j.POINTS):ke.isSprite&&qe.setMode(j.TRIANGLES);X&&X.isInstancedBufferGeometry?X.maxInstancedCount>0&&qe.renderInstances(X,To,Ds):qe.render(To,Ds)}};function Te(z,$,X){if(X&&X.isInstancedBufferGeometry&!te.isWebGL2&&q.get("ANGLE_instanced_arrays")===null){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ne.initAttributes();var pe=X.attributes,ke=$.getAttributes(),vt=z.defaultAttributeValues;for(var Ae in ke){var Ie=ke[Ae];if(Ie>=0){var dt=pe[Ae];if(dt!==void 0){var Yt=dt.normalized,Ft=dt.itemSize,Qt=se.get(dt);if(Qt===void 0)continue;var je=Qt.buffer,qe=Qt.type,He=Qt.bytesPerElement;if(dt.isInterleavedBufferAttribute){var Pt=dt.data,Hn=Pt.stride,Yi=dt.offset;Pt&&Pt.isInstancedInterleavedBuffer?(ne.enableAttributeAndDivisor(Ie,Pt.meshPerAttribute),X.maxInstancedCount===void 0&&(X.maxInstancedCount=Pt.meshPerAttribute*Pt.count)):ne.enableAttribute(Ie),j.bindBuffer(j.ARRAY_BUFFER,je),j.vertexAttribPointer(Ie,Ft,qe,Yt,Hn*He,Yi*He)}else dt.isInstancedBufferAttribute?(ne.enableAttributeAndDivisor(Ie,dt.meshPerAttribute),X.maxInstancedCount===void 0&&(X.maxInstancedCount=dt.meshPerAttribute*dt.count)):ne.enableAttribute(Ie),j.bindBuffer(j.ARRAY_BUFFER,je),j.vertexAttribPointer(Ie,Ft,qe,Yt,0,0)}else if(vt!==void 0){var Mn=vt[Ae];if(Mn!==void 0)switch(Mn.length){case 2:j.vertexAttrib2fv(Ie,Mn);break;case 3:j.vertexAttrib3fv(Ie,Mn);break;case 4:j.vertexAttrib4fv(Ie,Mn);break;default:j.vertexAttrib1fv(Ie,Mn)}}}}ne.disableUnusedAttributes()}this.compile=function(z,$){h=Ue.get(z,$),h.init(),z.traverse(function(X){X.isLight&&(h.pushLight(X),X.castShadow&&h.pushShadow(X))}),h.setupLights($),z.traverse(function(X){if(X.material)if(Array.isArray(X.material))for(var pe=0;pe<X.material.length;pe++)Ct(X.material[pe],z.fog,X);else Ct(X.material,z.fog,X)})};var nt=null;function Oe(z){St.isPresenting()||nt&&nt(z)}var at=new _A;at.setAnimationLoop(Oe),typeof window<"u"&&at.setContext(window),this.setAnimationLoop=function(z){nt=z,St.setAnimationLoop(z),at.start()},this.render=function(z,$,X,pe){if(!($&&$.isCamera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!m){w.geometry=null,w.program=null,w.wireframe=!1,x=-1,S=null,z.autoUpdate===!0&&z.updateMatrixWorld(),$.parent===null&&$.updateMatrixWorld(),St.enabled&&($=St.getCamera($)),h=Ue.get(z,$),h.init(),z.onBeforeRender(f,z,$,X),B.multiplyMatrices($.projectionMatrix,$.matrixWorldInverse),G.setFromMatrix(B),V=this.localClippingEnabled,ee=Z.init(this.clippingPlanes,V,$),d=Ge.get(z,$),d.init(),Lt(z,$,0,f.sortObjects),f.sortObjects===!0&&d.sort(),ee&&Z.beginShadows();var ke=h.state.shadowsArray;_n.render(ke,z,$),h.setupLights($),ee&&Z.endShadows(),this.info.autoReset&&this.info.reset(),X===void 0&&(X=null),this.setRenderTarget(X),gt.render(d,z,$,pe);var vt=d.opaque,Ae=d.transparent;if(z.overrideMaterial){var Ie=z.overrideMaterial;vt.length&&Tt(vt,z,$,Ie),Ae.length&&Tt(Ae,z,$,Ie)}else vt.length&&Tt(vt,z,$),Ae.length&&Tt(Ae,z,$);X&&(he.updateRenderTargetMipmap(X),he.updateMultisampleRenderTarget(X)),ne.buffers.depth.setTest(!0),ne.buffers.depth.setMask(!0),ne.buffers.color.setMask(!0),ne.setPolygonOffset(!1),z.onAfterRender(f,z,$),St.enabled&&St.submitFrame(),d=null,h=null}};function Lt(z,$,X,pe){if(z.visible!==!1){var ke=z.layers.test($.layers);if(ke){if(z.isGroup)X=z.renderOrder;else if(z.isLight)h.pushLight(z),z.castShadow&&h.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||G.intersectsSprite(z)){pe&&D.setFromMatrixPosition(z.matrixWorld).applyMatrix4(B);var vt=Fe.update(z),Ae=z.material;d.push(z,vt,Ae,X,D.z,null)}}else if(z.isImmediateRenderObject)pe&&D.setFromMatrixPosition(z.matrixWorld).applyMatrix4(B),d.push(z,null,z.material,X,D.z,null);else if((z.isMesh||z.isLine||z.isPoints)&&(z.isSkinnedMesh&&z.skeleton.update(),!z.frustumCulled||G.intersectsObject(z))){pe&&D.setFromMatrixPosition(z.matrixWorld).applyMatrix4(B);var vt=Fe.update(z),Ae=z.material;if(Array.isArray(Ae))for(var Ie=vt.groups,dt=0,Yt=Ie.length;dt<Yt;dt++){var Ft=Ie[dt],Qt=Ae[Ft.materialIndex];Qt&&Qt.visible&&d.push(z,vt,Qt,X,D.z,Ft)}else Ae.visible&&d.push(z,vt,Ae,X,D.z,null)}}for(var je=z.children,dt=0,Yt=je.length;dt<Yt;dt++)Lt(je[dt],$,X,pe)}}function Tt(z,$,X,pe){for(var ke=0,vt=z.length;ke<vt;ke++){var Ae=z[ke],Ie=Ae.object,dt=Ae.geometry,Yt=pe===void 0?Ae.material:pe,Ft=Ae.group;if(X.isArrayCamera){_=X;for(var Qt=X.cameras,je=0,qe=Qt.length;je<qe;je++){var He=Qt[je];if(Ie.layers.test(He.layers)){if("viewport"in He)ne.viewport(T.copy(He.viewport));else{var Pt=He.bounds,Hn=Pt.x*M,Yi=Pt.y*I,Mn=Pt.z*M,To=Pt.w*I;ne.viewport(T.set(Hn,Yi,Mn,To).multiplyScalar(N))}h.setupLights(He),Un(Ie,$,He,dt,Yt,Ft)}}}else _=null,Un(Ie,$,X,dt,Yt,Ft)}}function Un(z,$,X,pe,ke,vt){if(z.onBeforeRender(f,$,X,pe,ke,vt),h=Ue.get($,_||X),z.modelViewMatrix.multiplyMatrices(X.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),z.isImmediateRenderObject){ne.setMaterial(ke);var Ae=er(X,$.fog,ke,z);w.geometry=null,w.program=null,w.wireframe=!1,de(z,Ae)}else f.renderBufferDirect(X,$.fog,pe,ke,z,vt);z.onAfterRender(f,$,X,pe,ke,vt),h=Ue.get($,_||X)}function Ct(z,$,X){var pe=ue.get(z),ke=h.state.lights,vt=h.state.shadowsArray,Ae=pe.lightsHash,Ie=ke.state.hash,dt=ge.getParameters(z,ke.state,vt,$,Z.numPlanes,Z.numIntersection,X),Yt=ge.getProgramCode(z,dt),Ft=pe.program,Qt=!0;if(Ft===void 0)z.addEventListener("dispose",Ze);else if(Ft.code!==Yt)re(z);else if(Ae.stateID!==Ie.stateID||Ae.directionalLength!==Ie.directionalLength||Ae.pointLength!==Ie.pointLength||Ae.spotLength!==Ie.spotLength||Ae.rectAreaLength!==Ie.rectAreaLength||Ae.hemiLength!==Ie.hemiLength||Ae.shadowsLength!==Ie.shadowsLength)Ae.stateID=Ie.stateID,Ae.directionalLength=Ie.directionalLength,Ae.pointLength=Ie.pointLength,Ae.spotLength=Ie.spotLength,Ae.rectAreaLength=Ie.rectAreaLength,Ae.hemiLength=Ie.hemiLength,Ae.shadowsLength=Ie.shadowsLength,Qt=!1;else{if(dt.shaderID!==void 0)return;Qt=!1}if(Qt){if(dt.shaderID){var je=Zs[dt.shaderID];pe.shader={name:z.type,uniforms:Ip(je.uniforms),vertexShader:je.vertexShader,fragmentShader:je.fragmentShader}}else pe.shader={name:z.type,uniforms:z.uniforms,vertexShader:z.vertexShader,fragmentShader:z.fragmentShader};z.onBeforeCompile(pe.shader,f),Yt=ge.getProgramCode(z,dt),Ft=ge.acquireProgram(z,pe.shader,dt,Yt),pe.program=Ft,z.program=Ft}var qe=Ft.getAttributes();if(z.morphTargets){z.numSupportedMorphTargets=0;for(var He=0;He<f.maxMorphTargets;He++)qe["morphTarget"+He]>=0&&z.numSupportedMorphTargets++}if(z.morphNormals){z.numSupportedMorphNormals=0;for(var He=0;He<f.maxMorphNormals;He++)qe["morphNormal"+He]>=0&&z.numSupportedMorphNormals++}var Pt=pe.shader.uniforms;(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(pe.numClippingPlanes=Z.numPlanes,pe.numIntersection=Z.numIntersection,Pt.clippingPlanes=Z.uniform),pe.fog=$,Ae===void 0&&(pe.lightsHash=Ae={}),Ae.stateID=Ie.stateID,Ae.directionalLength=Ie.directionalLength,Ae.pointLength=Ie.pointLength,Ae.spotLength=Ie.spotLength,Ae.rectAreaLength=Ie.rectAreaLength,Ae.hemiLength=Ie.hemiLength,Ae.shadowsLength=Ie.shadowsLength,z.lights&&(Pt.ambientLightColor.value=ke.state.ambient,Pt.directionalLights.value=ke.state.directional,Pt.spotLights.value=ke.state.spot,Pt.rectAreaLights.value=ke.state.rectArea,Pt.pointLights.value=ke.state.point,Pt.hemisphereLights.value=ke.state.hemi,Pt.directionalShadowMap.value=ke.state.directionalShadowMap,Pt.directionalShadowMatrix.value=ke.state.directionalShadowMatrix,Pt.spotShadowMap.value=ke.state.spotShadowMap,Pt.spotShadowMatrix.value=ke.state.spotShadowMatrix,Pt.pointShadowMap.value=ke.state.pointShadowMap,Pt.pointShadowMatrix.value=ke.state.pointShadowMatrix);var Hn=pe.program.getUniforms(),Yi=ml.seqWithValue(Hn.seq,Pt);pe.uniformsList=Yi}function er(z,$,X,pe){k=0;var ke=ue.get(X),vt=h.state.lights,Ae=ke.lightsHash,Ie=vt.state.hash;if(ee&&(V||z!==S)){var dt=z===S&&X.id===x;Z.setState(X.clippingPlanes,X.clipIntersection,X.clipShadows,z,ke,dt)}X.needsUpdate===!1&&(ke.program===void 0||X.fog&&ke.fog!==$||X.lights&&(Ae.stateID!==Ie.stateID||Ae.directionalLength!==Ie.directionalLength||Ae.pointLength!==Ie.pointLength||Ae.spotLength!==Ie.spotLength||Ae.rectAreaLength!==Ie.rectAreaLength||Ae.hemiLength!==Ie.hemiLength||Ae.shadowsLength!==Ie.shadowsLength)||ke.numClippingPlanes!==void 0&&(ke.numClippingPlanes!==Z.numPlanes||ke.numIntersection!==Z.numIntersection))&&(X.needsUpdate=!0),X.needsUpdate&&(Ct(X,$,pe),X.needsUpdate=!1);var Yt=!1,Ft=!1,Qt=!1,je=ke.program,qe=je.getUniforms(),He=ke.shader.uniforms;if(ne.useProgram(je.program)&&(Yt=!0,Ft=!0,Qt=!0),X.id!==x&&(x=X.id,Ft=!0),Yt||S!==z){if(qe.setValue(j,"projectionMatrix",z.projectionMatrix),te.logarithmicDepthBuffer&&qe.setValue(j,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),S!==z&&(S=z,Ft=!0,Qt=!0),X.isShaderMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.envMap){var Pt=qe.map.cameraPosition;Pt!==void 0&&Pt.setValue(j,D.setFromMatrixPosition(z.matrixWorld))}(X.isMeshPhongMaterial||X.isMeshLambertMaterial||X.isMeshBasicMaterial||X.isMeshStandardMaterial||X.isShaderMaterial||X.skinning)&&qe.setValue(j,"viewMatrix",z.matrixWorldInverse)}if(X.skinning){qe.setOptional(j,pe,"bindMatrix"),qe.setOptional(j,pe,"bindMatrixInverse");var Hn=pe.skeleton;if(Hn){var Yi=Hn.bones;if(te.floatVertexTextures){if(Hn.boneTexture===void 0){var Mn=Math.sqrt(Yi.length*4);Mn=ft.ceilPowerOfTwo(Mn),Mn=Math.max(Mn,4);var To=new Float32Array(Mn*Mn*4);To.set(Hn.boneMatrices);var Ea=new Pd(To,Mn,Mn,xs,Pp);Ea.needsUpdate=!0,Hn.boneMatrices=To,Hn.boneTexture=Ea,Hn.boneTextureSize=Mn}qe.setValue(j,"boneTexture",Hn.boneTexture),qe.setValue(j,"boneTextureSize",Hn.boneTextureSize)}else qe.setOptional(j,Hn,"boneMatrices")}}return Ft&&(qe.setValue(j,"toneMappingExposure",f.toneMappingExposure),qe.setValue(j,"toneMappingWhitePoint",f.toneMappingWhitePoint),X.lights&&Er(He,Qt),$&&X.fog&&Os(He,$),X.isMeshBasicMaterial?En(He,X):X.isMeshLambertMaterial?(En(He,X),Is(He,X)):X.isMeshPhongMaterial?(En(He,X),X.isMeshToonMaterial?Wc(He,X):$i(He,X)):X.isMeshStandardMaterial?(En(He,X),X.isMeshPhysicalMaterial?Bl(He,X):$c(He,X)):X.isMeshMatcapMaterial?(En(He,X),ph(He,X)):X.isMeshDepthMaterial?(En(He,X),Fl(He,X)):X.isMeshDistanceMaterial?(En(He,X),mh(He,X)):X.isMeshNormalMaterial?(En(He,X),Ns(He,X)):X.isLineBasicMaterial?(Ls(He,X),X.isLineDashedMaterial&&Ps(He,X)):X.isPointsMaterial?Rs(He,X):X.isSpriteMaterial?_a(He,X):X.isShadowMaterial&&(He.color.value=X.color,He.opacity.value=X.opacity),He.ltc_1!==void 0&&(He.ltc_1.value=ze.LTC_1),He.ltc_2!==void 0&&(He.ltc_2.value=ze.LTC_2),ml.upload(j,ke.uniformsList,He,f)),X.isShaderMaterial&&X.uniformsNeedUpdate===!0&&(ml.upload(j,ke.uniformsList,He,f),X.uniformsNeedUpdate=!1),X.isSpriteMaterial&&qe.setValue(j,"center",pe.center),qe.setValue(j,"modelViewMatrix",pe.modelViewMatrix),qe.setValue(j,"normalMatrix",pe.normalMatrix),qe.setValue(j,"modelMatrix",pe.matrixWorld),je}function En(z,$){z.opacity.value=$.opacity,$.color&&(z.diffuse.value=$.color),$.emissive&&z.emissive.value.copy($.emissive).multiplyScalar($.emissiveIntensity),$.map&&(z.map.value=$.map),$.alphaMap&&(z.alphaMap.value=$.alphaMap),$.specularMap&&(z.specularMap.value=$.specularMap),$.envMap&&(z.envMap.value=$.envMap,z.flipEnvMap.value=$.envMap.isCubeTexture?-1:1,z.reflectivity.value=$.reflectivity,z.refractionRatio.value=$.refractionRatio,z.maxMipLevel.value=ue.get($.envMap).__maxMipLevel),$.lightMap&&(z.lightMap.value=$.lightMap,z.lightMapIntensity.value=$.lightMapIntensity),$.aoMap&&(z.aoMap.value=$.aoMap,z.aoMapIntensity.value=$.aoMapIntensity);var X;$.map?X=$.map:$.specularMap?X=$.specularMap:$.displacementMap?X=$.displacementMap:$.normalMap?X=$.normalMap:$.bumpMap?X=$.bumpMap:$.roughnessMap?X=$.roughnessMap:$.metalnessMap?X=$.metalnessMap:$.alphaMap?X=$.alphaMap:$.emissiveMap&&(X=$.emissiveMap),X!==void 0&&(X.isWebGLRenderTarget&&(X=X.texture),X.matrixAutoUpdate===!0&&X.updateMatrix(),z.uvTransform.value.copy(X.matrix))}function Ls(z,$){z.diffuse.value=$.color,z.opacity.value=$.opacity}function Ps(z,$){z.dashSize.value=$.dashSize,z.totalSize.value=$.dashSize+$.gapSize,z.scale.value=$.scale}function Rs(z,$){z.diffuse.value=$.color,z.opacity.value=$.opacity,z.size.value=$.size*N,z.scale.value=I*.5,z.map.value=$.map,$.map!==null&&($.map.matrixAutoUpdate===!0&&$.map.updateMatrix(),z.uvTransform.value.copy($.map.matrix))}function _a(z,$){z.diffuse.value=$.color,z.opacity.value=$.opacity,z.rotation.value=$.rotation,z.map.value=$.map,$.map!==null&&($.map.matrixAutoUpdate===!0&&$.map.updateMatrix(),z.uvTransform.value.copy($.map.matrix))}function Os(z,$){z.fogColor.value=$.color,$.isFog?(z.fogNear.value=$.near,z.fogFar.value=$.far):$.isFogExp2&&(z.fogDensity.value=$.density)}function Is(z,$){$.emissiveMap&&(z.emissiveMap.value=$.emissiveMap)}function $i(z,$){z.specular.value=$.specular,z.shininess.value=Math.max($.shininess,1e-4),$.emissiveMap&&(z.emissiveMap.value=$.emissiveMap),$.bumpMap&&(z.bumpMap.value=$.bumpMap,z.bumpScale.value=$.bumpScale,$.side===Wr&&(z.bumpScale.value*=-1)),$.normalMap&&(z.normalMap.value=$.normalMap,z.normalScale.value.copy($.normalScale),$.side===Wr&&z.normalScale.value.negate()),$.displacementMap&&(z.displacementMap.value=$.displacementMap,z.displacementScale.value=$.displacementScale,z.displacementBias.value=$.displacementBias)}function Wc(z,$){$i(z,$),$.gradientMap&&(z.gradientMap.value=$.gradientMap)}function $c(z,$){z.roughness.value=$.roughness,z.metalness.value=$.metalness,$.roughnessMap&&(z.roughnessMap.value=$.roughnessMap),$.metalnessMap&&(z.metalnessMap.value=$.metalnessMap),$.emissiveMap&&(z.emissiveMap.value=$.emissiveMap),$.bumpMap&&(z.bumpMap.value=$.bumpMap,z.bumpScale.value=$.bumpScale,$.side===Wr&&(z.bumpScale.value*=-1)),$.normalMap&&(z.normalMap.value=$.normalMap,z.normalScale.value.copy($.normalScale),$.side===Wr&&z.normalScale.value.negate()),$.displacementMap&&(z.displacementMap.value=$.displacementMap,z.displacementScale.value=$.displacementScale,z.displacementBias.value=$.displacementBias),$.envMap&&(z.envMapIntensity.value=$.envMapIntensity)}function Bl(z,$){$c(z,$),z.reflectivity.value=$.reflectivity,z.clearCoat.value=$.clearCoat,z.clearCoatRoughness.value=$.clearCoatRoughness}function ph(z,$){$.matcap&&(z.matcap.value=$.matcap),$.bumpMap&&(z.bumpMap.value=$.bumpMap,z.bumpScale.value=$.bumpScale,$.side===Wr&&(z.bumpScale.value*=-1)),$.normalMap&&(z.normalMap.value=$.normalMap,z.normalScale.value.copy($.normalScale),$.side===Wr&&z.normalScale.value.negate()),$.displacementMap&&(z.displacementMap.value=$.displacementMap,z.displacementScale.value=$.displacementScale,z.displacementBias.value=$.displacementBias)}function Fl(z,$){$.displacementMap&&(z.displacementMap.value=$.displacementMap,z.displacementScale.value=$.displacementScale,z.displacementBias.value=$.displacementBias)}function mh(z,$){$.displacementMap&&(z.displacementMap.value=$.displacementMap,z.displacementScale.value=$.displacementScale,z.displacementBias.value=$.displacementBias),z.referencePosition.value.copy($.referencePosition),z.nearDistance.value=$.nearDistance,z.farDistance.value=$.farDistance}function Ns(z,$){$.bumpMap&&(z.bumpMap.value=$.bumpMap,z.bumpScale.value=$.bumpScale,$.side===Wr&&(z.bumpScale.value*=-1)),$.normalMap&&(z.normalMap.value=$.normalMap,z.normalScale.value.copy($.normalScale),$.side===Wr&&z.normalScale.value.negate()),$.displacementMap&&(z.displacementMap.value=$.displacementMap,z.displacementScale.value=$.displacementScale,z.displacementBias.value=$.displacementBias)}function Er(z,$){z.ambientLightColor.needsUpdate=$,z.directionalLights.needsUpdate=$,z.pointLights.needsUpdate=$,z.spotLights.needsUpdate=$,z.rectAreaLights.needsUpdate=$,z.hemisphereLights.needsUpdate=$}function Pe(){var z=k;return z>=te.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+z+" texture units while this GPU supports only "+te.maxTextures),k+=1,z}this.allocTextureUnit=Pe,this.setTexture2D=function(){var z=!1;return function(X,pe){X&&X.isWebGLRenderTarget&&(z||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),z=!0),X=X.texture),he.setTexture2D(X,pe)}}(),this.setTexture3D=function(){return function($,X){he.setTexture3D($,X)}}(),this.setTexture=function(){var z=!1;return function(X,pe){z||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),z=!0),he.setTexture2D(X,pe)}}(),this.setTextureCube=function(){var z=!1;return function(X,pe){X&&X.isWebGLRenderTargetCube&&(z||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),z=!0),X=X.texture),X&&X.isCubeTexture||Array.isArray(X.image)&&X.image.length===6?he.setTextureCube(X,pe):he.setTextureCubeDynamic(X,pe)}}(),this.setFramebuffer=function(z){g=z},this.getRenderTarget=function(){return y},this.setRenderTarget=function(z){y=z,z&&ue.get(z).__webglFramebuffer===void 0&&he.setupRenderTarget(z);var $=g,X=!1;if(z){var pe=ue.get(z).__webglFramebuffer;z.isWebGLRenderTargetCube?($=pe[z.activeCubeFace],X=!0):z.isWebGLMultisampleRenderTarget?$=ue.get(z).__webglMultisampledFramebuffer:$=pe,T.copy(z.viewport),A.copy(z.scissor),P=z.scissorTest}else T.copy(U).multiplyScalar(N),A.copy(Y).multiplyScalar(N),P=H;if(b!==$&&(j.bindFramebuffer(j.FRAMEBUFFER,$),b=$),ne.viewport(T),ne.scissor(A),ne.setScissorTest(P),X){var ke=ue.get(z.texture);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_CUBE_MAP_POSITIVE_X+z.activeCubeFace,ke.__webglTexture,z.activeMipMapLevel)}},this.readRenderTargetPixels=function(z,$,X,pe,ke,vt){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var Ae=ue.get(z).__webglFramebuffer;if(Ae){var Ie=!1;Ae!==b&&(j.bindFramebuffer(j.FRAMEBUFFER,Ae),Ie=!0);try{var dt=z.texture,Yt=dt.format,Ft=dt.type;if(Yt!==xs&&Ke.convert(Yt)!==j.getParameter(j.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Ft!==Lp&&Ke.convert(Ft)!==j.getParameter(j.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ft===Pp&&(te.isWebGL2||q.get("OES_texture_float")||q.get("WEBGL_color_buffer_float")))&&!(Ft===bA&&(te.isWebGL2?q.get("EXT_color_buffer_float"):q.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}j.checkFramebufferStatus(j.FRAMEBUFFER)===j.FRAMEBUFFER_COMPLETE?$>=0&&$<=z.width-pe&&X>=0&&X<=z.height-ke&&j.readPixels($,X,pe,ke,Ke.convert(Yt),Ke.convert(Ft),vt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Ie&&j.bindFramebuffer(j.FRAMEBUFFER,b)}}},this.copyFramebufferToTexture=function(z,$,X){var pe=$.image.width,ke=$.image.height,vt=Ke.convert($.format);this.setTexture2D($,0),j.copyTexImage2D(j.TEXTURE_2D,X||0,vt,z.x,z.y,pe,ke,0)},this.copyTextureToTexture=function(z,$,X,pe){var ke=$.image.width,vt=$.image.height,Ae=Ke.convert(X.format),Ie=Ke.convert(X.type);this.setTexture2D(X,0),$.isDataTexture?j.texSubImage2D(j.TEXTURE_2D,pe||0,z.x,z.y,ke,vt,Ae,Ie,$.image.data):j.texSubImage2D(j.TEXTURE_2D,pe||0,z.x,z.y,Ae,Ie,$.image)}}function jp(e,t){this.name="",this.color=new We(e),this.density=t!==void 0?t:25e-5}jp.prototype.isFogExp2=!0;jp.prototype.clone=function(){return new jp(this.color,this.density)};jp.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};function zp(e,t,n){this.name="",this.color=new We(e),this.near=t!==void 0?t:1,this.far=n!==void 0?n:1e3}zp.prototype.isFog=!0;zp.prototype.clone=function(){return new zp(this.color,this.near,this.far)};zp.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};function Up(){Le.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}Up.prototype=Object.assign(Object.create(Le.prototype),{constructor:Up,copy:function(e,t){return Le.prototype.copy.call(this,e,t),e.background!==null&&(this.background=e.background.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Le.prototype.toJSON.call(this,e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Od(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Od.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Od.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=e!==void 0?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});function uy(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=r===!0}Object.defineProperties(uy.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(uy.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}});function Nc(e){lt.call(this),this.type="SpriteMaterial",this.color=new We(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}Nc.prototype=Object.create(lt.prototype);Nc.prototype.constructor=Nc;Nc.prototype.isSpriteMaterial=!0;Nc.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var vu;function sS(e){if(Le.call(this),this.type="Sprite",vu===void 0){vu=new Be;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Od(t,5);vu.setIndex([0,1,2,0,2,3]),vu.addAttribute("position",new uy(n,3,0,!1)),vu.addAttribute("uv",new uy(n,2,3,!1))}this.geometry=vu,this.material=e!==void 0?e:new Nc,this.center=new me(.5,.5)}sS.prototype=Object.assign(Object.create(Le.prototype),{constructor:sS,isSprite:!0,raycast:function(){var e=new W,t=new W,n=new W,r=new me,i=new me,o=new Qe,s=new W,a=new W,l=new W,c=new me,d=new me,h=new me;function f(m,g,y,b,x,w){r.subVectors(m,y).addScalar(.5).multiply(b),x!==void 0?(i.x=w*r.x-x*r.y,i.y=x*r.x+w*r.y):i.copy(r),m.copy(g),m.x+=i.x,m.y+=i.y,m.applyMatrix4(o)}return function(g,y){t.setFromMatrixScale(this.matrixWorld),o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var b=this.material.rotation,x,w;b!==0&&(w=Math.cos(b),x=Math.sin(b));var S=this.center;f(s.set(-.5,-.5,0),n,S,t,x,w),f(a.set(.5,-.5,0),n,S,t,x,w),f(l.set(.5,.5,0),n,S,t,x,w),c.set(0,0),d.set(1,0),h.set(1,1);var _=g.ray.intersectTriangle(s,a,l,!1,e);if(!(_===null&&(f(a.set(-.5,.5,0),n,S,t,x,w),d.set(0,1),_=g.ray.intersectTriangle(s,l,a,!1,e),_===null))){var T=g.ray.origin.distanceTo(e);T<g.near||T>g.far||y.push({distance:T,point:e.clone(),uv:$r.getUV(e,s,a,l,c,d,h,new me),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Le.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this}});function dy(){Le.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}dy.prototype=Object.assign(Object.create(Le.prototype),{constructor:dy,copy:function(e){Le.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new W;return function(n,r){e.setFromMatrixPosition(this.matrixWorld);var i=n.ray.origin.distanceTo(e);this.getObjectForDistance(i).raycast(n,r)}}(),update:function(){var e=new W,t=new W;return function(r){var i=this.levels;if(i.length>1){e.setFromMatrixPosition(r.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var o=e.distanceTo(t);i[0].object.visible=!0;for(var s=1,a=i.length;s<a&&o>=i[s].distance;s++)i[s-1].object.visible=!1,i[s].object.visible=!0;for(;s<a;s++)i[s].object.visible=!1}}}(),toJSON:function(e){var t=Le.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}});function hy(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Ir.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Qe,this.bindMatrixInverse=new Qe}hy.prototype=Object.assign(Object.create(Ir.prototype),{constructor:hy,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new an,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Ir.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function aS(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Qe)}}Object.assign(aS.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new Qe;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new Qe,t=new Qe;return function(){for(var r=this.bones,i=this.boneInverses,o=this.boneMatrices,s=this.boneTexture,a=0,l=r.length;a<l;a++){var c=r[a]?r[a].matrixWorld:t;e.multiplyMatrices(c,i[a]),e.toArray(o,a*16)}s!==void 0&&(s.needsUpdate=!0)}}(),clone:function(){return new aS(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}});function lO(){Le.call(this),this.type="Bone"}lO.prototype=Object.assign(Object.create(Le.prototype),{constructor:lO,isBone:!0});function wn(e){lt.call(this),this.type="LineBasicMaterial",this.color=new We(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}wn.prototype=Object.create(lt.prototype);wn.prototype.constructor=wn;wn.prototype.isLineBasicMaterial=!0;wn.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};function bi(e,t,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Le.call(this),this.type="Line",this.geometry=e!==void 0?e:new Be,this.material=t!==void 0?t:new wn({color:Math.random()*16777215})}bi.prototype=Object.assign(Object.create(Le.prototype),{constructor:bi,isLine:!0,computeLineDistances:function(){var e=new W,t=new W;return function(){var r=this.geometry;if(r.isBufferGeometry)if(r.index===null){for(var i=r.attributes.position,o=[0],s=1,a=i.count;s<a;s++)e.fromBufferAttribute(i,s-1),t.fromBufferAttribute(i,s),o[s]=o[s-1],o[s]+=e.distanceTo(t);r.addAttribute("lineDistance",new Ce(o,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry){var l=r.vertices,o=r.lineDistances;o[0]=0;for(var s=1,a=l.length;s<a;s++)o[s]=o[s-1],o[s]+=l[s-1].distanceTo(l[s])}return this}}(),raycast:function(){var e=new Qe,t=new dh,n=new bs;return function(i,o){var s=i.linePrecision,a=this.geometry,l=this.matrixWorld;if(a.boundingSphere===null&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(l),n.radius+=s,i.ray.intersectsSphere(n)!==!1){e.getInverse(l),t.copy(i.ray).applyMatrix4(e);var c=s/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,h=new W,f=new W,m=new W,g=new W,y=this&&this.isLineSegments?2:1;if(a.isBufferGeometry){var b=a.index,x=a.attributes,w=x.position.array;if(b!==null)for(var S=b.array,_=0,T=S.length-1;_<T;_+=y){var A=S[_],P=S[_+1];h.fromArray(w,A*3),f.fromArray(w,P*3);var k=t.distanceSqToSegment(h,f,g,m);if(!(k>d)){g.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(g);M<i.near||M>i.far||o.push({distance:M,point:m.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var _=0,T=w.length/3-1;_<T;_+=y){h.fromArray(w,3*_),f.fromArray(w,3*_+3);var k=t.distanceSqToSegment(h,f,g,m);if(!(k>d)){g.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(g);M<i.near||M>i.far||o.push({distance:M,point:m.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(a.isGeometry)for(var I=a.vertices,N=I.length,_=0;_<N-1;_+=y){var k=t.distanceSqToSegment(I[_],I[_+1],g,m);if(!(k>d)){g.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(g);M<i.near||M>i.far||o.push({distance:M,point:m.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),copy:function(e){return Le.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}});function kn(e,t){bi.call(this,e,t),this.type="LineSegments"}kn.prototype=Object.assign(Object.create(bi.prototype),{constructor:kn,isLineSegments:!0,computeLineDistances:function(){var e=new W,t=new W;return function(){var r=this.geometry;if(r.isBufferGeometry)if(r.index===null){for(var i=r.attributes.position,o=[],s=0,a=i.count;s<a;s+=2)e.fromBufferAttribute(i,s),t.fromBufferAttribute(i,s+1),o[s]=s===0?0:o[s-1],o[s+1]=o[s]+e.distanceTo(t);r.addAttribute("lineDistance",new Ce(o,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry)for(var l=r.vertices,o=r.lineDistances,s=0,a=l.length;s<a;s+=2)e.copy(l[s]),t.copy(l[s+1]),o[s]=s===0?0:o[s-1],o[s+1]=o[s]+e.distanceTo(t);return this}}()});function lS(e,t){bi.call(this,e,t),this.type="LineLoop"}lS.prototype=Object.assign(Object.create(bi.prototype),{constructor:lS,isLineLoop:!0});function Dc(e){lt.call(this),this.type="PointsMaterial",this.color=new We(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}Dc.prototype=Object.create(lt.prototype);Dc.prototype.constructor=Dc;Dc.prototype.isPointsMaterial=!0;Dc.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};function cS(e,t){Le.call(this),this.type="Points",this.geometry=e!==void 0?e:new Be,this.material=t!==void 0?t:new Dc({color:Math.random()*16777215})}cS.prototype=Object.assign(Object.create(Le.prototype),{constructor:cS,isPoints:!0,raycast:function(){var e=new Qe,t=new dh,n=new bs;return function(i,o){var s=this,a=this.geometry,l=this.matrixWorld,c=i.params.Points.threshold;if(a.boundingSphere===null&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(l),n.radius+=c,i.ray.intersectsSphere(n)===!1)return;e.getInverse(l),t.copy(i.ray).applyMatrix4(e);var d=c/((this.scale.x+this.scale.y+this.scale.z)/3),h=d*d,f=new W,m=new W;function g(k,M){var I=t.distanceSqToPoint(k);if(I<h){t.closestPointToPoint(k,m),m.applyMatrix4(l);var N=i.ray.origin.distanceTo(m);if(N<i.near||N>i.far)return;o.push({distance:N,distanceToRay:Math.sqrt(I),point:m.clone(),index:M,face:null,object:s})}}if(a.isBufferGeometry){var y=a.index,b=a.attributes,x=b.position.array;if(y!==null)for(var w=y.array,S=0,_=w.length;S<_;S++){var T=w[S];f.fromArray(x,T*3),g(f,T)}else for(var S=0,A=x.length/3;S<A;S++)f.fromArray(x,S*3),g(f,S)}else for(var P=a.vertices,S=0,A=P.length;S<A;S++)g(P[S],S)}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function cO(e,t,n,r,i,o,s,a,l){ln.call(this,e,t,n,r,i,o,s,a,l),this.format=s!==void 0?s:Pc,this.minFilter=o!==void 0?o:yr,this.magFilter=i!==void 0?i:yr,this.generateMipmaps=!1}cO.prototype=Object.assign(Object.create(ln.prototype),{constructor:cO,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function Hp(e,t,n,r,i,o,s,a,l,c,d,h){ln.call(this,null,o,s,a,l,c,r,i,d,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}Hp.prototype=Object.create(ln.prototype);Hp.prototype.constructor=Hp;Hp.prototype.isCompressedTexture=!0;function fy(e,t,n,r,i,o,s,a,l){ln.call(this,e,t,n,r,i,o,s,a,l),this.needsUpdate=!0}fy.prototype=Object.create(ln.prototype);fy.prototype.constructor=fy;fy.prototype.isCanvasTexture=!0;function py(e,t,n,r,i,o,s,a,l,c){if(c=c!==void 0?c:sd,c!==sd&&c!==Rp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&c===sd&&(n=ty),n===void 0&&c===Rp&&(n=ny),ln.call(this,null,r,i,o,s,a,c,n,l),this.image={width:e,height:t},this.magFilter=s!==void 0?s:or,this.minFilter=a!==void 0?a:or,this.flipY=!1,this.generateMipmaps=!1}py.prototype=Object.create(ln.prototype);py.prototype.constructor=py;py.prototype.isDepthTexture=!0;function Id(){var e=new Uint8Array(3),t=1,n=1,r=Pc;ln.call(this,null,void 0,void 0,void 0,void 0,void 0,r,void 0,void 0,void 0),this.image={data:e,width:t,height:n},this.magFilter=or,this.minFilter=or,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}Id.prototype=Object.create(ln.prototype);Id.prototype.constructor=Id;Id.prototype.isDataTexture=!0;Id.prototype.isCfxTexture=!0;function my(e){Be.call(this),this.type="WireframeGeometry";var t=[],n,r,i,o,s,a=[0,0],l={},c,d,h,f,m=["a","b","c"],g;if(e&&e.isGeometry){var y=e.faces;for(n=0,i=y.length;n<i;n++){var b=y[n];for(r=0;r<3;r++)d=b[m[r]],h=b[m[(r+1)%3]],a[0]=Math.min(d,h),a[1]=Math.max(d,h),f=a[0]+","+a[1],l[f]===void 0&&(l[f]={index1:a[0],index2:a[1]})}for(f in l)c=l[f],g=e.vertices[c.index1],t.push(g.x,g.y,g.z),g=e.vertices[c.index2],t.push(g.x,g.y,g.z)}else if(e&&e.isBufferGeometry){var x,w,S,_,T,A,P,k;if(g=new W,e.index!==null){for(x=e.attributes.position,w=e.index,S=e.groups,S.length===0&&(S=[{start:0,count:w.count,materialIndex:0}]),o=0,s=S.length;o<s;++o)for(_=S[o],T=_.start,A=_.count,n=T,i=T+A;n<i;n+=3)for(r=0;r<3;r++)d=w.getX(n+r),h=w.getX(n+(r+1)%3),a[0]=Math.min(d,h),a[1]=Math.max(d,h),f=a[0]+","+a[1],l[f]===void 0&&(l[f]={index1:a[0],index2:a[1]});for(f in l)c=l[f],g.fromBufferAttribute(x,c.index1),t.push(g.x,g.y,g.z),g.fromBufferAttribute(x,c.index2),t.push(g.x,g.y,g.z)}else for(x=e.attributes.position,n=0,i=x.count/3;n<i;n++)for(r=0;r<3;r++)P=3*n+r,g.fromBufferAttribute(x,P),t.push(g.x,g.y,g.z),k=3*n+(r+1)%3,g.fromBufferAttribute(x,k),t.push(g.x,g.y,g.z)}this.addAttribute("position",new Ce(t,3))}my.prototype=Object.create(Be.prototype);my.prototype.constructor=my;function gy(e,t,n){et.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Gp(e,t,n)),this.mergeVertices()}gy.prototype=Object.create(et.prototype);gy.prototype.constructor=gy;function Gp(e,t,n){Be.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r=[],i=[],o=[],s=[],a=1e-5,l=new W,c=new W,d=new W,h=new W,f=new W,m,g;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var y=t+1;for(m=0;m<=n;m++){var b=m/n;for(g=0;g<=t;g++){var x=g/t;e(x,b,c),i.push(c.x,c.y,c.z),x-a>=0?(e(x-a,b,d),h.subVectors(c,d)):(e(x+a,b,d),h.subVectors(d,c)),b-a>=0?(e(x,b-a,d),f.subVectors(c,d)):(e(x,b+a,d),f.subVectors(d,c)),l.crossVectors(h,f).normalize(),o.push(l.x,l.y,l.z),s.push(x,b)}}for(m=0;m<n;m++)for(g=0;g<t;g++){var w=m*y+g,S=m*y+g+1,_=(m+1)*y+g+1,T=(m+1)*y+g;r.push(w,S,T),r.push(S,_,T)}this.setIndex(r),this.addAttribute("position",new Ce(i,3)),this.addAttribute("normal",new Ce(o,3)),this.addAttribute("uv",new Ce(s,2))}Gp.prototype=Object.create(Be.prototype);Gp.prototype.constructor=Gp;function vy(e,t,n,r){et.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Fi(e,t,n,r)),this.mergeVertices()}vy.prototype=Object.create(et.prototype);vy.prototype.constructor=vy;function Fi(e,t,n,r){Be.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;var i=[],o=[];s(r),l(n),c(),this.addAttribute("position",new Ce(i,3)),this.addAttribute("normal",new Ce(i.slice(),3)),this.addAttribute("uv",new Ce(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function s(x){for(var w=new W,S=new W,_=new W,T=0;T<t.length;T+=3)f(t[T+0],w),f(t[T+1],S),f(t[T+2],_),a(w,S,_,x)}function a(x,w,S,_){var T=Math.pow(2,_),A=[],P,k;for(P=0;P<=T;P++){A[P]=[];var M=x.clone().lerp(S,P/T),I=w.clone().lerp(S,P/T),N=T-P;for(k=0;k<=N;k++)k===0&&P===T?A[P][k]=M:A[P][k]=M.clone().lerp(I,k/N)}for(P=0;P<T;P++)for(k=0;k<2*(T-P)-1;k++){var U=Math.floor(k/2);k%2===0?(h(A[P][U+1]),h(A[P+1][U]),h(A[P][U])):(h(A[P][U+1]),h(A[P+1][U+1]),h(A[P+1][U]))}}function l(x){for(var w=new W,S=0;S<i.length;S+=3)w.x=i[S+0],w.y=i[S+1],w.z=i[S+2],w.normalize().multiplyScalar(x),i[S+0]=w.x,i[S+1]=w.y,i[S+2]=w.z}function c(){for(var x=new W,w=0;w<i.length;w+=3){x.x=i[w+0],x.y=i[w+1],x.z=i[w+2];var S=y(x)/2/Math.PI+.5,_=b(x)/Math.PI+.5;o.push(S,1-_)}m(),d()}function d(){for(var x=0;x<o.length;x+=6){var w=o[x+0],S=o[x+2],_=o[x+4],T=Math.max(w,S,_),A=Math.min(w,S,_);T>.9&&A<.1&&(w<.2&&(o[x+0]+=1),S<.2&&(o[x+2]+=1),_<.2&&(o[x+4]+=1))}}function h(x){i.push(x.x,x.y,x.z)}function f(x,w){var S=x*3;w.x=e[S+0],w.y=e[S+1],w.z=e[S+2]}function m(){for(var x=new W,w=new W,S=new W,_=new W,T=new me,A=new me,P=new me,k=0,M=0;k<i.length;k+=9,M+=6){x.set(i[k+0],i[k+1],i[k+2]),w.set(i[k+3],i[k+4],i[k+5]),S.set(i[k+6],i[k+7],i[k+8]),T.set(o[M+0],o[M+1]),A.set(o[M+2],o[M+3]),P.set(o[M+4],o[M+5]),_.copy(x).add(w).add(S).divideScalar(3);var I=y(_);g(T,M+0,x,I),g(A,M+2,w,I),g(P,M+4,S,I)}}function g(x,w,S,_){_<0&&x.x===1&&(o[w]=x.x-1),S.x===0&&S.z===0&&(o[w]=_/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function b(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}Fi.prototype=Object.create(Be.prototype);Fi.prototype.constructor=Fi;function yy(e,t){et.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Vp(e,t)),this.mergeVertices()}yy.prototype=Object.create(et.prototype);yy.prototype.constructor=yy;function Vp(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];Fi.call(this,n,r,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}Vp.prototype=Object.create(Fi.prototype);Vp.prototype.constructor=Vp;function xy(e,t){et.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Nd(e,t)),this.mergeVertices()}xy.prototype=Object.create(et.prototype);xy.prototype.constructor=xy;function Nd(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Fi.call(this,n,r,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}Nd.prototype=Object.create(Fi.prototype);Nd.prototype.constructor=Nd;function by(e,t){et.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Wp(e,t)),this.mergeVertices()}by.prototype=Object.create(et.prototype);by.prototype.constructor=by;function Wp(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Fi.call(this,r,i,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}Wp.prototype=Object.create(Fi.prototype);Wp.prototype.constructor=Wp;function wy(e,t){et.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new $p(e,t)),this.mergeVertices()}wy.prototype=Object.create(et.prototype);wy.prototype.constructor=wy;function $p(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Fi.call(this,i,o,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}$p.prototype=Object.create(Fi.prototype);$p.prototype.constructor=$p;function _y(e,t,n,r,i,o){et.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},o!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var s=new Yp(e,t,n,r,i);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}_y.prototype=Object.create(et.prototype);_y.prototype.constructor=_y;function Yp(e,t,n,r,i){Be.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var s=new W,a=new W,l=new me,c=new W,d,h,f=[],m=[],g=[],y=[];b(),this.setIndex(y),this.addAttribute("position",new Ce(f,3)),this.addAttribute("normal",new Ce(m,3)),this.addAttribute("uv",new Ce(g,2));function b(){for(d=0;d<t;d++)x(d);x(i===!1?t:0),S(),w()}function x(_){c=e.getPointAt(_/t,c);var T=o.normals[_],A=o.binormals[_];for(h=0;h<=r;h++){var P=h/r*Math.PI*2,k=Math.sin(P),M=-Math.cos(P);a.x=M*T.x+k*A.x,a.y=M*T.y+k*A.y,a.z=M*T.z+k*A.z,a.normalize(),m.push(a.x,a.y,a.z),s.x=c.x+n*a.x,s.y=c.y+n*a.y,s.z=c.z+n*a.z,f.push(s.x,s.y,s.z)}}function w(){for(h=1;h<=t;h++)for(d=1;d<=r;d++){var _=(r+1)*(h-1)+(d-1),T=(r+1)*h+(d-1),A=(r+1)*h+d,P=(r+1)*(h-1)+d;y.push(_,T,P),y.push(T,A,P)}}function S(){for(d=0;d<=t;d++)for(h=0;h<=r;h++)l.x=d/t,l.y=h/r,g.push(l.x,l.y)}}Yp.prototype=Object.create(Be.prototype);Yp.prototype.constructor=Yp;function Ey(e,t,n,r,i,o,s){et.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},s!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new qp(e,t,n,r,i,o)),this.mergeVertices()}Ey.prototype=Object.create(et.prototype);Ey.prototype.constructor=Ey;function qp(e,t,n,r,i,o){Be.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var s=[],a=[],l=[],c=[],d,h,f=new W,m=new W,g=new W,y=new W,b=new W,x=new W,w=new W;for(d=0;d<=n;++d){var S=d/n*i*Math.PI*2;for(N(S,i,o,e,g),N(S+.01,i,o,e,y),x.subVectors(y,g),w.addVectors(y,g),b.crossVectors(x,w),w.crossVectors(b,x),b.normalize(),w.normalize(),h=0;h<=r;++h){var _=h/r*Math.PI*2,T=-t*Math.cos(_),A=t*Math.sin(_);f.x=g.x+(T*w.x+A*b.x),f.y=g.y+(T*w.y+A*b.y),f.z=g.z+(T*w.z+A*b.z),a.push(f.x,f.y,f.z),m.subVectors(f,g).normalize(),l.push(m.x,m.y,m.z),c.push(d/n),c.push(h/r)}}for(h=1;h<=n;h++)for(d=1;d<=r;d++){var P=(r+1)*(h-1)+(d-1),k=(r+1)*h+(d-1),M=(r+1)*h+d,I=(r+1)*(h-1)+d;s.push(P,k,I),s.push(k,M,I)}this.setIndex(s),this.addAttribute("position",new Ce(a,3)),this.addAttribute("normal",new Ce(l,3)),this.addAttribute("uv",new Ce(c,2));function N(U,Y,H,G,Z){var ee=Math.cos(U),V=Math.sin(U),B=H/Y*U,D=Math.cos(B);Z.x=G*(2+D)*.5*ee,Z.y=G*(2+D)*V*.5,Z.z=G*Math.sin(B)*.5}}qp.prototype=Object.create(Be.prototype);qp.prototype.constructor=qp;function Sy(e,t,n,r,i){et.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Zp(e,t,n,r,i)),this.mergeVertices()}Sy.prototype=Object.create(et.prototype);Sy.prototype.constructor=Sy;function Zp(e,t,n,r,i){Be.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||Math.PI*2;var o=[],s=[],a=[],l=[],c=new W,d=new W,h=new W,f,m;for(f=0;f<=n;f++)for(m=0;m<=r;m++){var g=m/r*i,y=f/n*Math.PI*2;d.x=(e+t*Math.cos(y))*Math.cos(g),d.y=(e+t*Math.cos(y))*Math.sin(g),d.z=t*Math.sin(y),s.push(d.x,d.y,d.z),c.x=e*Math.cos(g),c.y=e*Math.sin(g),h.subVectors(d,c).normalize(),a.push(h.x,h.y,h.z),l.push(m/r),l.push(f/n)}for(f=1;f<=n;f++)for(m=1;m<=r;m++){var b=(r+1)*f+m-1,x=(r+1)*(f-1)+m-1,w=(r+1)*(f-1)+m,S=(r+1)*f+m;o.push(b,x,S),o.push(x,w,S)}this.setIndex(o),this.addAttribute("position",new Ce(s,3)),this.addAttribute("normal",new Ce(a,3)),this.addAttribute("uv",new Ce(l,2))}Zp.prototype=Object.create(Be.prototype);Zp.prototype.constructor=Zp;var Qge={triangulate:function(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,o=u8(e,0,i,n,!0),s=[];if(!o)return s;var a,l,c,d,h,f,m;if(r&&(o=ive(e,t,o,n)),e.length>80*n){a=c=e[0],l=d=e[1];for(var g=n;g<i;g+=n)h=e[g],f=e[g+1],h<a&&(a=h),f<l&&(l=f),h>c&&(c=h),f>d&&(d=f);m=Math.max(c-a,d-l),m=m!==0?1/m:0}return Kp(o,s,n,a,l,m),s}};function u8(e,t,n,r,i){var o,s;if(i===pve(e,t,n,r)>0)for(o=t;o<n;o+=r)s=uO(o,e[o],e[o+1],s);else for(o=n-r;o>=t;o-=r)s=uO(o,e[o],e[o+1],s);return s&&cc(s,s.next)&&(Qp(s),s=s.next),s}function Xp(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(cc(n,n.next)||Yr(n.prev,n,n.next)===0)){if(Qp(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Kp(e,t,n,r,i,o,s){if(e){!s&&o&&lve(e,r,i,o);for(var a=e,l,c;e.prev!==e.next;){if(l=e.prev,c=e.next,o?tve(e,r,i,o):eve(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),Qp(e),e=c.next,a=c.next;continue}if(e=c,e===a){s?s===1?(e=nve(e,t,n),Kp(e,t,n,r,i,o,2)):s===2&&rve(e,t,n,r,i,o):Kp(Xp(e),t,n,r,i,o,1);break}}}}function eve(e){var t=e.prev,n=e,r=e.next;if(Yr(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Ty(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Yr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function tve(e,t,n,r){var i=e.prev,o=e,s=e.next;if(Yr(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,l=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,c=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,d=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=uS(a,l,t,n,r),f=uS(c,d,t,n,r),m=e.nextZ;m&&m.z<=f;){if(m!==e.prev&&m!==e.next&&Ty(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&Yr(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(m=e.prevZ;m&&m.z>=h;){if(m!==e.prev&&m!==e.next&&Ty(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&Yr(m.prev,m,m.next)>=0)return!1;m=m.prevZ}return!0}function nve(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!cc(i,o)&&d8(i,r,r.next,o)&&Jp(i,o)&&Jp(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Qp(r),Qp(r.next),r=e=o),r=r.next}while(r!==e);return r}function rve(e,t,n,r,i,o){var s=e;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&dve(s,a)){var l=h8(s,a);s=Xp(s,s.next),l=Xp(l,l.next),Kp(s,t,n,r,i,o),Kp(l,t,n,r,i,o);return}a=a.next}s=s.next}while(s!==e)}function ive(e,t,n,r){var i=[],o,s,a,l,c;for(o=0,s=t.length;o<s;o++)a=t[o]*r,l=o<s-1?t[o+1]*r:e.length,c=u8(e,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(uve(c));for(i.sort(ove),o=0;o<i.length;o++)sve(i[o],n),n=Xp(n,n.next);return n}function ove(e,t){return e.x-t.x}function sve(e,t){if(t=ave(e,t),t){var n=h8(t,e);Xp(n,n.next)}}function ave(e,t){var n=t,r=e.x,i=e.y,o=-1/0,s;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o){if(o=a,a===r){if(i===n.y)return n;if(i===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!s)return null;if(r===o)return s.prev;var l=s,c=s.x,d=s.y,h=1/0,f;for(n=s.next;n!==l;)r>=n.x&&n.x>=c&&r!==n.x&&Ty(i<d?r:o,i,c,d,i<d?o:r,i,n.x,n.y)&&(f=Math.abs(i-n.y)/(r-n.x),(f<h||f===h&&n.x>s.x)&&Jp(n,e)&&(s=n,h=f)),n=n.next;return s}function lve(e,t,n,r){var i=e;do i.z===null&&(i.z=uS(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,cve(i)}function cve(e){var t,n,r,i,o,s,a,l,c=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,r=n,a=0,t=0;t<c&&(a++,r=r.nextZ,!!r);t++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1);return e}function uS(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function uve(e){var t=e,n=e;do t.x<n.x&&(n=t),t=t.next;while(t!==e);return n}function Ty(e,t,n,r,i,o,s,a){return(i-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(r-a)-(n-s)*(t-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function dve(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!hve(e,t)&&Jp(e,t)&&Jp(t,e)&&fve(e,t)}function Yr(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function cc(e,t){return e.x===t.x&&e.y===t.y}function d8(e,t,n,r){return cc(e,t)&&cc(n,r)||cc(e,r)&&cc(n,t)?!0:Yr(e,t,n)>0!=Yr(e,t,r)>0&&Yr(n,r,e)>0!=Yr(n,r,t)>0}function hve(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&d8(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Jp(e,t){return Yr(e.prev,e,e.next)<0?Yr(e,t,e.next)>=0&&Yr(e,e.prev,t)>=0:Yr(e,t,e.prev)<0||Yr(e,e.next,t)<0}function fve(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function h8(e,t){var n=new dS(e.i,e.x,e.y),r=new dS(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function uO(e,t,n,r){var i=new dS(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qp(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function dS(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function pve(e,t,n,r){for(var i=0,o=t,s=n-r;o<n;o+=r)i+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return i}var gl={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return n*.5},isClockWise:function(e){return gl.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];dO(e),hO(n,e);var o=e.length;t.forEach(dO);for(var s=0;s<t.length;s++)r.push(o),o+=t[s].length,hO(n,t[s]);for(var a=Qge.triangulate(n,r),s=0;s<a.length;s+=3)i.push(a.slice(s,s+3));return i}};function dO(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function hO(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Dd(e,t){et.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new fa(e,t)),this.mergeVertices()}Dd.prototype=Object.create(et.prototype);Dd.prototype.constructor=Dd;Dd.prototype.toJSON=function(){var e=et.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return f8(t,n,e)};function fa(e,t){Be.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],o=0,s=e.length;o<s;o++){var a=e[o];l(a)}this.addAttribute("position",new Ce(r,3)),this.addAttribute("uv",new Ce(i,2)),this.computeVertexNormals();function l(c){var d=[],h=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,m=t.depth!==void 0?t.depth:100,g=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:6,b=t.bevelSize!==void 0?t.bevelSize:y-2,x=t.bevelSegments!==void 0?t.bevelSegments:3,w=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:mve;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),m=t.amount);var _,T=!1,A,P,k,M;w&&(_=w.getSpacedPoints(f),T=!0,g=!1,A=w.computeFrenetFrames(f,!1),P=new W,k=new W,M=new W),g||(x=0,y=0,b=0);var I,N,U,Y=c.extractPoints(h),H=Y.shape,G=Y.holes,Z=!gl.isClockWise(H);if(Z)for(H=H.reverse(),N=0,U=G.length;N<U;N++)I=G[N],gl.isClockWise(I)&&(G[N]=I.reverse());var ee=gl.triangulateShape(H,G),V=H;for(N=0,U=G.length;N<U;N++)I=G[N],H=H.concat(I);function B(Ze,st,re){return st||console.error("THREE.ExtrudeGeometry: vec does not exist"),st.clone().multiplyScalar(re).add(Ze)}var D,J,j,oe,q,te=H.length,ne,le=ee.length;function ue(Ze,st,re){var de,Te,nt,Oe=Ze.x-st.x,at=Ze.y-st.y,Lt=re.x-Ze.x,Tt=re.y-Ze.y,Un=Oe*Oe+at*at,Ct=Oe*Tt-at*Lt;if(Math.abs(Ct)>Number.EPSILON){var er=Math.sqrt(Un),En=Math.sqrt(Lt*Lt+Tt*Tt),Ls=st.x-at/er,Ps=st.y+Oe/er,Rs=re.x-Tt/En,_a=re.y+Lt/En,Os=((Rs-Ls)*Tt-(_a-Ps)*Lt)/(Oe*Tt-at*Lt);de=Ls+Oe*Os-Ze.x,Te=Ps+at*Os-Ze.y;var Is=de*de+Te*Te;if(Is<=2)return new me(de,Te);nt=Math.sqrt(Is/2)}else{var $i=!1;Oe>Number.EPSILON?Lt>Number.EPSILON&&($i=!0):Oe<-Number.EPSILON?Lt<-Number.EPSILON&&($i=!0):Math.sign(at)===Math.sign(Tt)&&($i=!0),$i?(de=-at,Te=Oe,nt=Math.sqrt(Un)):(de=Oe,Te=at,nt=Math.sqrt(Un/2))}return new me(de/nt,Te/nt)}for(var he=[],se=0,we=V.length,Fe=we-1,ge=se+1;se<we;se++,Fe++,ge++)Fe===we&&(Fe=0),ge===we&&(ge=0),he[se]=ue(V[se],V[Fe],V[ge]);var Ge=[],Ue,gt=he.concat();for(N=0,U=G.length;N<U;N++){for(I=G[N],Ue=[],se=0,we=I.length,Fe=we-1,ge=se+1;se<we;se++,Fe++,ge++)Fe===we&&(Fe=0),ge===we&&(ge=0),Ue[se]=ue(I[se],I[Fe],I[ge]);Ge.push(Ue),gt=gt.concat(Ue)}for(D=0;D<x;D++){for(j=D/x,oe=y*Math.cos(j*Math.PI/2),J=b*Math.sin(j*Math.PI/2),se=0,we=V.length;se<we;se++)q=B(V[se],he[se],J),xt(q.x,q.y,-oe);for(N=0,U=G.length;N<U;N++)for(I=G[N],Ue=Ge[N],se=0,we=I.length;se<we;se++)q=B(I[se],Ue[se],J),xt(q.x,q.y,-oe)}for(J=b,se=0;se<te;se++)q=g?B(H[se],gt[se],J):H[se],T?(k.copy(A.normals[0]).multiplyScalar(q.x),P.copy(A.binormals[0]).multiplyScalar(q.y),M.copy(_[0]).add(k).add(P),xt(M.x,M.y,M.z)):xt(q.x,q.y,0);var ut;for(ut=1;ut<=f;ut++)for(se=0;se<te;se++)q=g?B(H[se],gt[se],J):H[se],T?(k.copy(A.normals[ut]).multiplyScalar(q.x),P.copy(A.binormals[ut]).multiplyScalar(q.y),M.copy(_[ut]).add(k).add(P),xt(M.x,M.y,M.z)):xt(q.x,q.y,m/f*ut);for(D=x-1;D>=0;D--){for(j=D/x,oe=y*Math.cos(j*Math.PI/2),J=b*Math.sin(j*Math.PI/2),se=0,we=V.length;se<we;se++)q=B(V[se],he[se],J),xt(q.x,q.y,m+oe);for(N=0,U=G.length;N<U;N++)for(I=G[N],Ue=Ge[N],se=0,we=I.length;se<we;se++)q=B(I[se],Ue[se],J),T?xt(q.x,q.y+_[f-1].y,_[f-1].x+oe):xt(q.x,q.y,m+oe)}Et(),Ht();function Et(){var Ze=r.length/3;if(g){var st=0,re=te*st;for(se=0;se<le;se++)ne=ee[se],St(ne[2]+re,ne[1]+re,ne[0]+re);for(st=f+x*2,re=te*st,se=0;se<le;se++)ne=ee[se],St(ne[0]+re,ne[1]+re,ne[2]+re)}else{for(se=0;se<le;se++)ne=ee[se],St(ne[2],ne[1],ne[0]);for(se=0;se<le;se++)ne=ee[se],St(ne[0]+te*f,ne[1]+te*f,ne[2]+te*f)}n.addGroup(Ze,r.length/3-Ze,0)}function Ht(){var Ze=r.length/3,st=0;for(Ke(V,st),st+=V.length,N=0,U=G.length;N<U;N++)I=G[N],Ke(I,st),st+=I.length;n.addGroup(Ze,r.length/3-Ze,1)}function Ke(Ze,st){var re,de;for(se=Ze.length;--se>=0;){re=se,de=se-1,de<0&&(de=Ze.length-1);var Te=0,nt=f+x*2;for(Te=0;Te<nt;Te++){var Oe=te*Te,at=te*(Te+1),Lt=st+re+Oe,Tt=st+de+Oe,Un=st+de+at,Ct=st+re+at;_n(Lt,Tt,Un,Ct)}}}function xt(Ze,st,re){d.push(Ze),d.push(st),d.push(re)}function St(Ze,st,re){ot(Ze),ot(st),ot(re);var de=r.length/3,Te=S.generateTopUV(n,r,de-3,de-2,de-1);Kt(Te[0]),Kt(Te[1]),Kt(Te[2])}function _n(Ze,st,re,de){ot(Ze),ot(st),ot(de),ot(st),ot(re),ot(de);var Te=r.length/3,nt=S.generateSideWallUV(n,r,Te-6,Te-3,Te-2,Te-1);Kt(nt[0]),Kt(nt[1]),Kt(nt[3]),Kt(nt[1]),Kt(nt[2]),Kt(nt[3])}function ot(Ze){r.push(d[Ze*3+0]),r.push(d[Ze*3+1]),r.push(d[Ze*3+2])}function Kt(Ze){i.push(Ze.x),i.push(Ze.y)}}}fa.prototype=Object.create(Be.prototype);fa.prototype.constructor=fa;fa.prototype.toJSON=function(){var e=Be.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return f8(t,n,e)};var mve={generateTopUV:function(e,t,n,r,i){var o=t[n*3],s=t[n*3+1],a=t[r*3],l=t[r*3+1],c=t[i*3],d=t[i*3+1];return[new me(o,s),new me(a,l),new me(c,d)]},generateSideWallUV:function(e,t,n,r,i,o){var s=t[n*3],a=t[n*3+1],l=t[n*3+2],c=t[r*3],d=t[r*3+1],h=t[r*3+2],f=t[i*3],m=t[i*3+1],g=t[i*3+2],y=t[o*3],b=t[o*3+1],x=t[o*3+2];return Math.abs(a-d)<.01?[new me(s,1-l),new me(c,1-h),new me(f,1-g),new me(y,1-x)]:[new me(a,1-l),new me(d,1-h),new me(m,1-g),new me(b,1-x)]}};function f8(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Cy(e,t){et.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new em(e,t)),this.mergeVertices()}Cy.prototype=Object.create(et.prototype);Cy.prototype.constructor=Cy;function em(e,t){t=t||{};var n=t.font;if(!(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new et;var r=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),fa.call(this,r,t),this.type="TextBufferGeometry"}em.prototype=Object.create(fa.prototype);em.prototype.constructor=em;function Ay(e,t,n,r,i,o,s){et.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Bd(e,t,n,r,i,o,s)),this.mergeVertices()}Ay.prototype=Object.create(et.prototype);Ay.prototype.constructor=Ay;function Bd(e,t,n,r,i,o,s){Be.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=r!==void 0?r:0,i=i!==void 0?i:Math.PI*2,o=o!==void 0?o:0,s=s!==void 0?s:Math.PI;var a=o+s,l,c,d=0,h=[],f=new W,m=new W,g=[],y=[],b=[],x=[];for(c=0;c<=n;c++){var w=[],S=c/n;for(l=0;l<=t;l++){var _=l/t;f.x=-e*Math.cos(r+_*i)*Math.sin(o+S*s),f.y=e*Math.cos(o+S*s),f.z=e*Math.sin(r+_*i)*Math.sin(o+S*s),y.push(f.x,f.y,f.z),m.set(f.x,f.y,f.z).normalize(),b.push(m.x,m.y,m.z),x.push(_,1-S),w.push(d++)}h.push(w)}for(c=0;c<n;c++)for(l=0;l<t;l++){var T=h[c][l+1],A=h[c][l],P=h[c+1][l],k=h[c+1][l+1];(c!==0||o>0)&&g.push(T,A,k),(c!==n-1||a<Math.PI)&&g.push(A,P,k)}this.setIndex(g),this.addAttribute("position",new Ce(y,3)),this.addAttribute("normal",new Ce(b,3)),this.addAttribute("uv",new Ce(x,2))}Bd.prototype=Object.create(Be.prototype);Bd.prototype.constructor=Bd;function ky(e,t,n,r,i,o){et.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new tm(e,t,n,r,i,o)),this.mergeVertices()}ky.prototype=Object.create(et.prototype);ky.prototype.constructor=ky;function tm(e,t,n,r,i,o){Be.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=i!==void 0?i:0,o=o!==void 0?o:Math.PI*2,n=n!==void 0?Math.max(3,n):8,r=r!==void 0?Math.max(1,r):1;var s=[],a=[],l=[],c=[],d,h=e,f=(t-e)/r,m=new W,g=new me,y,b;for(y=0;y<=r;y++){for(b=0;b<=n;b++)d=i+b/n*o,m.x=h*Math.cos(d),m.y=h*Math.sin(d),a.push(m.x,m.y,m.z),l.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,c.push(g.x,g.y);h+=f}for(y=0;y<r;y++){var x=y*(n+1);for(b=0;b<n;b++){d=b+x;var w=d,S=d+n+1,_=d+n+2,T=d+1;s.push(w,S,T),s.push(S,_,T)}}this.setIndex(s),this.addAttribute("position",new Ce(a,3)),this.addAttribute("normal",new Ce(l,3)),this.addAttribute("uv",new Ce(c,2))}tm.prototype=Object.create(Be.prototype);tm.prototype.constructor=tm;function My(e,t,n,r){et.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new nm(e,t,n,r)),this.mergeVertices()}My.prototype=Object.create(et.prototype);My.prototype.constructor=My;function nm(e,t,n,r){Be.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||Math.PI*2,r=ft.clamp(r,0,Math.PI*2);var i=[],o=[],s=[],a,l=1/t,c=new W,d=new me,h,f;for(h=0;h<=t;h++){var m=n+h*l*r,g=Math.sin(m),y=Math.cos(m);for(f=0;f<=e.length-1;f++)c.x=e[f].x*g,c.y=e[f].y,c.z=e[f].x*y,o.push(c.x,c.y,c.z),d.x=h/t,d.y=f/(e.length-1),s.push(d.x,d.y)}for(h=0;h<t;h++)for(f=0;f<e.length-1;f++){a=f+h*e.length;var b=a,x=a+e.length,w=a+e.length+1,S=a+1;i.push(b,x,S),i.push(x,w,S)}if(this.setIndex(i),this.addAttribute("position",new Ce(o,3)),this.addAttribute("uv",new Ce(s,2)),this.computeVertexNormals(),r===Math.PI*2){var _=this.attributes.normal.array,T=new W,A=new W,P=new W;for(a=t*e.length*3,h=0,f=0;h<e.length;h++,f+=3)T.x=_[f+0],T.y=_[f+1],T.z=_[f+2],A.x=_[a+f+0],A.y=_[a+f+1],A.z=_[a+f+2],P.addVectors(T,A).normalize(),_[f+0]=_[a+f+0]=P.x,_[f+1]=_[a+f+1]=P.y,_[f+2]=_[a+f+2]=P.z}}nm.prototype=Object.create(Be.prototype);nm.prototype.constructor=nm;function Fd(e,t){et.call(this),this.type="ShapeGeometry",typeof t=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new jd(e,t)),this.mergeVertices()}Fd.prototype=Object.create(et.prototype);Fd.prototype.constructor=Fd;Fd.prototype.toJSON=function(){var e=et.prototype.toJSON.call(this),t=this.parameters.shapes;return p8(t,e)};function jd(e,t){Be.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],s=0,a=0;if(Array.isArray(e)===!1)c(e);else for(var l=0;l<e.length;l++)c(e[l]),this.addGroup(s,a,l),s+=a,a=0;this.setIndex(n),this.addAttribute("position",new Ce(r,3)),this.addAttribute("normal",new Ce(i,3)),this.addAttribute("uv",new Ce(o,2));function c(d){var h,f,m,g=r.length/3,y=d.extractPoints(t),b=y.shape,x=y.holes;for(gl.isClockWise(b)===!1&&(b=b.reverse()),h=0,f=x.length;h<f;h++)m=x[h],gl.isClockWise(m)===!0&&(x[h]=m.reverse());var w=gl.triangulateShape(b,x);for(h=0,f=x.length;h<f;h++)m=x[h],b=b.concat(m);for(h=0,f=b.length;h<f;h++){var S=b[h];r.push(S.x,S.y,0),i.push(0,0,1),o.push(S.x,S.y)}for(h=0,f=w.length;h<f;h++){var _=w[h],T=_[0]+g,A=_[1]+g,P=_[2]+g;n.push(T,A,P),a+=3}}}jd.prototype=Object.create(Be.prototype);jd.prototype.constructor=jd;jd.prototype.toJSON=function(){var e=Be.prototype.toJSON.call(this),t=this.parameters.shapes;return p8(t,e)};function p8(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function Ly(e,t){Be.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1;var n=[],r=Math.cos(ft.DEG2RAD*t),i=[0,0],o={},s,a,l,c=["a","b","c"],d;e.isBufferGeometry?(d=new et,d.fromBufferGeometry(e)):d=e.clone(),d.mergeVertices(),d.computeFaceNormals();for(var h=d.vertices,f=d.faces,m=0,g=f.length;m<g;m++)for(var y=f[m],b=0;b<3;b++)s=y[c[b]],a=y[c[(b+1)%3]],i[0]=Math.min(s,a),i[1]=Math.max(s,a),l=i[0]+","+i[1],o[l]===void 0?o[l]={index1:i[0],index2:i[1],face1:m,face2:void 0}:o[l].face2=m;for(l in o){var x=o[l];if(x.face2===void 0||f[x.face1].normal.dot(f[x.face2].normal)<=r){var w=h[x.index1];n.push(w.x,w.y,w.z),w=h[x.index2],n.push(w.x,w.y,w.z)}}this.addAttribute("position",new Ce(n,3))}Ly.prototype=Object.create(Be.prototype);Ly.prototype.constructor=Ly;function zd(e,t,n,r,i,o,s,a){et.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a},this.fromBufferGeometry(new Al(e,t,n,r,i,o,s,a)),this.mergeVertices()}zd.prototype=Object.create(et.prototype);zd.prototype.constructor=zd;function Al(e,t,n,r,i,o,s,a){Be.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a};var l=this;e=e!==void 0?e:1,t=t!==void 0?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=o!==void 0?o:!1,s=s!==void 0?s:0,a=a!==void 0?a:Math.PI*2;var c=[],d=[],h=[],f=[],m=0,g=[],y=n/2,b=0;x(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(c),this.addAttribute("position",new Ce(d,3)),this.addAttribute("normal",new Ce(h,3)),this.addAttribute("uv",new Ce(f,2));function x(){var S,_,T=new W,A=new W,P=0,k=(t-e)/n;for(_=0;_<=i;_++){var M=[],I=_/i,N=I*(t-e)+e;for(S=0;S<=r;S++){var U=S/r,Y=U*a+s,H=Math.sin(Y),G=Math.cos(Y);A.x=N*H,A.y=-I*n+y,A.z=N*G,d.push(A.x,A.y,A.z),T.set(H,k,G).normalize(),h.push(T.x,T.y,T.z),f.push(U,1-I),M.push(m++)}g.push(M)}for(S=0;S<r;S++)for(_=0;_<i;_++){var Z=g[_][S],ee=g[_+1][S],V=g[_+1][S+1],B=g[_][S+1];c.push(Z,ee,B),c.push(ee,V,B),P+=6}l.addGroup(b,P,0),b+=P}function w(S){var _,T,A,P=new me,k=new W,M=0,I=S===!0?e:t,N=S===!0?1:-1;for(T=m,_=1;_<=r;_++)d.push(0,y*N,0),h.push(0,N,0),f.push(.5,.5),m++;for(A=m,_=0;_<=r;_++){var U=_/r,Y=U*a+s,H=Math.cos(Y),G=Math.sin(Y);k.x=I*G,k.y=y*N,k.z=I*H,d.push(k.x,k.y,k.z),h.push(0,N,0),P.x=H*.5+.5,P.y=G*.5*N+.5,f.push(P.x,P.y),m++}for(_=0;_<r;_++){var Z=T+_,ee=A+_;S===!0?c.push(ee,ee+1,Z):c.push(ee+1,ee,Z),M+=3}l.addGroup(b,M,S===!0?1:2),b+=M}}Al.prototype=Object.create(Be.prototype);Al.prototype.constructor=Al;function Py(e,t,n,r,i,o,s){zd.call(this,0,e,t,n,r,i,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:s}}Py.prototype=Object.create(zd.prototype);Py.prototype.constructor=Py;function Ry(e,t,n,r,i,o,s){Al.call(this,0,e,t,n,r,i,o,s),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:s}}Ry.prototype=Object.create(Al.prototype);Ry.prototype.constructor=Ry;function Oy(e,t,n,r){et.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new rm(e,t,n,r)),this.mergeVertices()}Oy.prototype=Object.create(et.prototype);Oy.prototype.constructor=Oy;function rm(e,t,n,r){Be.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=t!==void 0?Math.max(3,t):8,n=n!==void 0?n:0,r=r!==void 0?r:Math.PI*2;var i=[],o=[],s=[],a=[],l,c,d=new W,h=new me;for(o.push(0,0,0),s.push(0,0,1),a.push(.5,.5),c=0,l=3;c<=t;c++,l+=3){var f=n+c/t*r;d.x=e*Math.cos(f),d.y=e*Math.sin(f),o.push(d.x,d.y,d.z),s.push(0,0,1),h.x=(o[l]/e+1)/2,h.y=(o[l+1]/e+1)/2,a.push(h.x,h.y)}for(l=1;l<=t;l++)i.push(l,l+1,0);this.setIndex(i),this.addAttribute("position",new Ce(o,3)),this.addAttribute("normal",new Ce(s,3)),this.addAttribute("uv",new Ce(a,2))}rm.prototype=Object.create(Be.prototype);rm.prototype.constructor=rm;const oi=Object.freeze(Object.defineProperty({__proto__:null,BoxBufferGeometry:Rd,BoxGeometry:ay,CircleBufferGeometry:rm,CircleGeometry:Oy,ConeBufferGeometry:Ry,ConeGeometry:Py,CylinderBufferGeometry:Al,CylinderGeometry:zd,DodecahedronBufferGeometry:$p,DodecahedronGeometry:wy,EdgesGeometry:Ly,ExtrudeBufferGeometry:fa,ExtrudeGeometry:Dd,IcosahedronBufferGeometry:Wp,IcosahedronGeometry:by,LatheBufferGeometry:nm,LatheGeometry:My,OctahedronBufferGeometry:Nd,OctahedronGeometry:xy,ParametricBufferGeometry:Gp,ParametricGeometry:gy,PlaneBufferGeometry:Tl,PlaneGeometry:ly,PolyhedronBufferGeometry:Fi,PolyhedronGeometry:vy,RingBufferGeometry:tm,RingGeometry:ky,ShapeBufferGeometry:jd,ShapeGeometry:Fd,SphereBufferGeometry:Bd,SphereGeometry:Ay,TetrahedronBufferGeometry:Vp,TetrahedronGeometry:yy,TextBufferGeometry:em,TextGeometry:Cy,TorusBufferGeometry:Zp,TorusGeometry:Sy,TorusKnotBufferGeometry:qp,TorusKnotGeometry:Ey,TubeBufferGeometry:Yp,TubeGeometry:_y,WireframeGeometry:my},Symbol.toStringTag,{value:"Module"}));function Ud(e){lt.call(this),this.type="ShadowMaterial",this.color=new We(0),this.transparent=!0,this.setValues(e)}Ud.prototype=Object.create(lt.prototype);Ud.prototype.constructor=Ud;Ud.prototype.isShadowMaterial=!0;Ud.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.color.copy(e.color),this};function im(e){Bi.call(this,e),this.type="RawShaderMaterial"}im.prototype=Object.create(Bi.prototype);im.prototype.constructor=im;im.prototype.isRawShaderMaterial=!0;function pa(e){lt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new We(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fb,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}pa.prototype=Object.create(lt.prototype);pa.prototype.constructor=pa;pa.prototype.isMeshStandardMaterial=!0;pa.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Hd(e){pa.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}Hd.prototype=Object.create(pa.prototype);Hd.prototype.constructor=Hd;Hd.prototype.isMeshPhysicalMaterial=!0;Hd.prototype.copy=function(e){return pa.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this};function ws(e){lt.call(this),this.type="MeshPhongMaterial",this.color=new We(16777215),this.specular=new We(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fb,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Db,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}ws.prototype=Object.create(lt.prototype);ws.prototype.constructor=ws;ws.prototype.isMeshPhongMaterial=!0;ws.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Gd(e){ws.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}Gd.prototype=Object.create(ws.prototype);Gd.prototype.constructor=Gd;Gd.prototype.isMeshToonMaterial=!0;Gd.prototype.copy=function(e){return ws.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this};function Vd(e){lt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fb,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Vd.prototype=Object.create(lt.prototype);Vd.prototype.constructor=Vd;Vd.prototype.isMeshNormalMaterial=!0;Vd.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Wd(e){lt.call(this),this.type="MeshLambertMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Db,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Wd.prototype=Object.create(lt.prototype);Wd.prototype.constructor=Wd;Wd.prototype.isMeshLambertMaterial=!0;Wd.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function $d(e){lt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new We(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fb,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}$d.prototype=Object.create(lt.prototype);$d.prototype.constructor=$d;$d.prototype.isMeshMatcapMaterial=!0;$d.prototype.copy=function(e){return lt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Yd(e){wn.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Yd.prototype=Object.create(wn.prototype);Yd.prototype.constructor=Yd;Yd.prototype.isLineDashedMaterial=!0;Yd.prototype.copy=function(e){return wn.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};const gve=Object.freeze(Object.defineProperty({__proto__:null,LineBasicMaterial:wn,LineDashedMaterial:Yd,Material:lt,MeshBasicMaterial:yo,MeshDepthMaterial:Oc,MeshDistanceMaterial:Ic,MeshLambertMaterial:Wd,MeshMatcapMaterial:$d,MeshNormalMaterial:Vd,MeshPhongMaterial:ws,MeshPhysicalMaterial:Hd,MeshStandardMaterial:pa,MeshToonMaterial:Gd,PointsMaterial:Dc,RawShaderMaterial:im,ShaderMaterial:Bi,ShadowMaterial:Ud,SpriteMaterial:Nc},Symbol.toStringTag,{value:"Module"}));var qr={arraySlice:function(e,t,n){return qr.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(o,s){return e[o]-e[s]}for(var n=e.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(t),r},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,s=0;s!==r;++o)for(var a=n[o]*t,l=0;l!==t;++l)i[s++]=e[a+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];o!==void 0&&o[r]===void 0;)o=e[i++];if(o!==void 0){var s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(t.push(o.time),n.push.apply(n,s)),o=e[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(t.push(o.time),s.toArray(n,n.length)),o=e[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(t.push(o.time),n.push(s)),o=e[i++];while(o!==void 0)}}};function fo(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(fo.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var s=n+2;;){if(r===void 0){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===s)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(!(e>=i)){var a=t[1];e<a&&(n=2,i=a);for(var s=n-2;;){if(i===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===s)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0;break n}break e}for(;n<o;){var l=n+o>>>1;e<t[l]?o=l:n=l+1}if(r=t[n],i=t[n-1],i===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(fo.prototype,{beforeStart_:fo.prototype.copySampleValue_,afterEnd_:fo.prototype.copySampleValue_});function hS(e,t,n,r){fo.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}hS.prototype=Object.assign(Object.create(fo.prototype),{constructor:hS,DefaultSettings_:{endingStart:Ld,endingEnd:Ld},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,s=r[i],a=r[o];if(s===void 0)switch(this.getSettings_().endingStart){case Vu:i=e,s=2*t-n;break;case iy:i=r.length-2,s=t+r[i]-r[i+1];break;default:i=e,s=n}if(a===void 0)switch(this.getSettings_().endingEnd){case Vu:o=e,a=2*n-t;break;case iy:o=1,a=n+r[1]-r[0];break;default:o=e-1,a=t}var l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,m=(n-t)/(r-t),g=m*m,y=g*m,b=-h*y+2*h*g-h*m,x=(1+h)*y+(-1.5-2*h)*g+(-.5+h)*m+1,w=(-1-f)*y+(1.5+f)*g+.5*m,S=f*y-f*g,_=0;_!==s;++_)i[_]=b*o[c+_]+x*o[l+_]+w*o[a+_]+S*o[d+_];return i}});function Iy(e,t,n,r){fo.call(this,e,t,n,r)}Iy.prototype=Object.assign(Object.create(fo.prototype),{constructor:Iy,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(r-t),d=1-c,h=0;h!==s;++h)i[h]=o[l+h]*d+o[a+h]*c;return i}});function fS(e,t,n,r){fo.call(this,e,t,n,r)}fS.prototype=Object.assign(Object.create(fo.prototype),{constructor:fS,interpolate_:function(e){return this.copySampleValue_(e-1)}});function Nr(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=qr.convertArray(t,this.TimeBufferType),this.values=qr.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}Object.assign(Nr,{toJSON:function(e){var t=e.constructor,n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:qr.convertArray(e.times,Array),values:qr.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}});Object.assign(Nr.prototype,{constructor:Nr,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:jv,InterpolantFactoryMethodDiscrete:function(e){return new fS(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Iy(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new hS(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case ry:t=this.InterpolantFactoryMethodDiscrete;break;case jv:t=this.InterpolantFactoryMethodLinear;break;case Fw:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ry;case this.InterpolantFactoryMethodLinear:return jv;case this.InterpolantFactoryMethodSmooth:return Fw}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(e!==1)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;o!==-1&&n[o]>t;)--o;if(++o,i!==0||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var s=this.getValueSize();this.times=qr.arraySlice(n,i,o),this.values=qr.arraySlice(this.values,i*s,o*s)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;i===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,s=0;s!==i;s++){var a=n[s];if(typeof a=="number"&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,a),e=!1;break}if(o!==null&&o>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,a,o),e=!1;break}o=a}if(r!==void 0&&qr.isTypedArray(r))for(var s=0,l=r.length;s!==l;++s){var c=r[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===Fw,i=1,o=e.length-1,s=1;s<o;++s){var a=!1,l=e[s],c=e[s+1];if(l!==c&&(s!==1||l!==l[0]))if(r)a=!0;else for(var d=s*n,h=d-n,f=d+n,m=0;m!==n;++m){var g=t[d+m];if(g!==t[h+m]||g!==t[f+m]){a=!0;break}}if(a){if(s!==i){e[i]=e[s];for(var y=s*n,b=i*n,m=0;m!==n;++m)t[b+m]=t[y+m]}++i}}if(o>0){e[i]=e[o];for(var y=o*n,b=i*n,m=0;m!==n;++m)t[b+m]=t[y+m];++i}return i!==e.length&&(this.times=qr.arraySlice(e,0,i),this.values=qr.arraySlice(t,0,i*n)),this}});function pS(e,t,n){Nr.call(this,e,t,n)}pS.prototype=Object.assign(Object.create(Nr.prototype),{constructor:pS,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:ry,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function mS(e,t,n,r){Nr.call(this,e,t,n,r)}mS.prototype=Object.assign(Object.create(Nr.prototype),{constructor:mS,ValueTypeName:"color"});function om(e,t,n,r){Nr.call(this,e,t,n,r)}om.prototype=Object.assign(Object.create(Nr.prototype),{constructor:om,ValueTypeName:"number"});function gS(e,t,n,r){fo.call(this,e,t,n,r)}gS.prototype=Object.assign(Object.create(fo.prototype),{constructor:gS,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=(n-t)/(r-t),c=a+s;a!==c;a+=4)ir.slerpFlat(i,0,o,a-s,o,a,l);return i}});function Ny(e,t,n,r){Nr.call(this,e,t,n,r)}Ny.prototype=Object.assign(Object.create(Nr.prototype),{constructor:Ny,ValueTypeName:"quaternion",DefaultInterpolation:jv,InterpolantFactoryMethodLinear:function(e){return new gS(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function vS(e,t,n,r){Nr.call(this,e,t,n,r)}vS.prototype=Object.assign(Object.create(Nr.prototype),{constructor:vS,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:ry,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function sm(e,t,n,r){Nr.call(this,e,t,n,r)}sm.prototype=Object.assign(Object.create(Nr.prototype),{constructor:sm,ValueTypeName:"vector"});function cs(e,t,n){this.name=e,this.tracks=n,this.duration=t!==void 0?t:-1,this.uuid=ft.generateUUID(),this.duration<0&&this.resetDuration()}function vve(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return om;case"vector":case"vector2":case"vector3":case"vector4":return sm;case"color":return mS;case"quaternion":return Ny;case"bool":case"boolean":return pS;case"string":return vS}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function yve(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=vve(e.type);if(e.times===void 0){var n=[],r=[];qr.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(cs,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(yve(n[i]).scale(r));return new cs(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(Nr.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],s=0;s<i;s++){var a=[],l=[];a.push((s+i-1)%i,s,(s+1)%i),l.push(0,1,0);var c=qr.getKeyframeOrder(a);a=qr.sortedArray(a,1,c),l=qr.sortedArray(l,1,c),!r&&a[0]===0&&(a.push(i),l.push(l[0])),o.push(new om(".morphTargetInfluences["+t[s].name+"]",a,l).scale(1/n))}return new cs(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,s=e.length;o<s;o++){var a=e[o],l=a.name.match(i);if(l&&l.length>1){var c=l[1],d=r[c];d||(r[c]=d=[]),d.push(a)}}var h=[];for(var c in r)h.push(cs.CreateFromMorphTargetSequence(c,r[c],t,n));return h},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(S,_,T,A,P){if(T.length!==0){var k=[],M=[];qr.flattenJSON(T,k,M,A),k.length!==0&&P.push(new S(_,k,M))}},r=[],i=e.name||"default",o=e.length||-1,s=e.fps||30,a=e.hierarchy||[],l=0;l<a.length;l++){var c=a[l].keys;if(!(!c||c.length===0))if(c[0].morphTargets){for(var d={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)d[c[h].morphTargets[f]]=-1;for(var m in d){for(var g=[],y=[],f=0;f!==c[h].morphTargets.length;++f){var b=c[h];g.push(b.time),y.push(b.morphTarget===m?1:0)}r.push(new om(".morphTargetInfluence["+m+"]",g,y))}o=d.length*(s||1)}else{var x=".bones["+t[l].name+"]";n(sm,x+".position",c,"pos",r),n(Ny,x+".quaternion",c,"rot",r),n(sm,x+".scale",c,"scl",r)}}if(r.length===0)return null;var w=new cs(i,o,r);return w}});Object.assign(cs.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,n=0,r=e.length;n!==r;++n){var i=this.tracks[n];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}});var qd={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function m8(e,t,n){var r=this,i=!1,o=0,s=0,a=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(l){s++,i===!1&&r.onStart!==void 0&&r.onStart(l,o,s),i=!0},this.itemEnd=function(l){o++,r.onProgress!==void 0&&r.onProgress(l,o,s),o===s&&(i=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(l){r.onError!==void 0&&r.onError(l)},this.resolveURL=function(l){return a?a(l):l},this.setURLModifier=function(l){return a=l,this}}var Wi=new m8,Mo={};function wa(e){this.manager=e!==void 0?e:Wi}Object.assign(wa.prototype,{load:function(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=qd.get(e);if(o!==void 0)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;if(Mo[e]!==void 0){Mo[e].push({onLoad:t,onProgress:n,onError:r});return}var s=/^data:(.*?)(;base64)?,(.*)$/,a=e.match(s);if(a){var l=a[1],c=!!a[2],d=a[3];d=decodeURIComponent(d),c&&(d=atob(d));try{var h,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":for(var m=new Uint8Array(d.length),g=0;g<d.length;g++)m[g]=d.charCodeAt(g);f==="blob"?h=new Blob([m.buffer],{type:l}):h=m.buffer;break;case"document":var y=new DOMParser;h=y.parseFromString(d,l);break;case"json":h=JSON.parse(d);break;default:h=d;break}setTimeout(function(){t&&t(h),i.manager.itemEnd(e)},0)}catch(w){setTimeout(function(){r&&r(w),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{Mo[e]=[],Mo[e].push({onLoad:t,onProgress:n,onError:r});var b=new XMLHttpRequest;b.open("GET",e,!0),b.addEventListener("load",function(w){var S=this.response;qd.add(e,S);var _=Mo[e];if(delete Mo[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var T=0,A=_.length;T<A;T++){var P=_[T];P.onLoad&&P.onLoad(S)}i.manager.itemEnd(e)}else{for(var T=0,A=_.length;T<A;T++){var P=_[T];P.onError&&P.onError(w)}i.manager.itemError(e),i.manager.itemEnd(e)}},!1),b.addEventListener("progress",function(w){for(var S=Mo[e],_=0,T=S.length;_<T;_++){var A=S[_];A.onProgress&&A.onProgress(w)}},!1),b.addEventListener("error",function(w){var S=Mo[e];delete Mo[e];for(var _=0,T=S.length;_<T;_++){var A=S[_];A.onError&&A.onError(w)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),b.addEventListener("abort",function(w){var S=Mo[e];delete Mo[e];for(var _=0,T=S.length;_<T;_++){var A=S[_];A.onError&&A.onError(w)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),this.responseType!==void 0&&(b.responseType=this.responseType),this.withCredentials!==void 0&&(b.withCredentials=this.withCredentials),b.overrideMimeType&&b.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(var x in this.requestHeader)b.setRequestHeader(x,this.requestHeader[x]);b.send(null)}return i.manager.itemStart(e),b},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});function xve(e){this.manager=e!==void 0?e:Wi}Object.assign(xve.prototype,{load:function(e,t,n,r){var i=this,o=new wa(i.manager);o.setPath(i.path),o.load(e,function(s){t(i.parse(JSON.parse(s)))},n,r)},parse:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=cs.parse(e[r]);n.push(i)}t(n)},setPath:function(e){return this.path=e,this}});function bve(e){this.manager=e!==void 0?e:Wi,this._parser=null}Object.assign(bve.prototype,{load:function(e,t,n,r){var i=this,o=[],s=new Hp;s.image=o;var a=new wa(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer");function l(f){a.load(e[f],function(m){var g=i._parser(m,!0);o[f]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(s.minFilter=yr),s.format=g.format,s.needsUpdate=!0,t&&t(s))},n,r)}if(Array.isArray(e))for(var c=0,d=0,h=e.length;d<h;++d)l(d);else a.load(e,function(f){var m=i._parser(f,!0);if(m.isCubemap)for(var g=m.mipmaps.length/m.mipmapCount,y=0;y<g;y++){o[y]={mipmaps:[]};for(var b=0;b<m.mipmapCount;b++)o[y].mipmaps.push(m.mipmaps[y*m.mipmapCount+b]),o[y].format=m.format,o[y].width=m.width,o[y].height=m.height}else s.image.width=m.width,s.image.height=m.height,s.mipmaps=m.mipmaps;m.mipmapCount===1&&(s.minFilter=yr),s.format=m.format,s.needsUpdate=!0,t&&t(s)},n,r);return s},setPath:function(e){return this.path=e,this}});function wve(e){this.manager=e!==void 0?e:Wi,this._parser=null}Object.assign(wve.prototype,{load:function(e,t,n,r){var i=this,o=new Pd,s=new wa(this.manager);return s.setResponseType("arraybuffer"),s.setPath(this.path),s.load(e,function(a){var l=i._parser(a);l&&(l.image!==void 0?o.image=l.image:l.data!==void 0&&(o.image.width=l.width,o.image.height=l.height,o.image.data=l.data),o.wrapS=l.wrapS!==void 0?l.wrapS:lo,o.wrapT=l.wrapT!==void 0?l.wrapT:lo,o.magFilter=l.magFilter!==void 0?l.magFilter:yr,o.minFilter=l.minFilter!==void 0?l.minFilter:Bb,o.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.format!==void 0&&(o.format=l.format),l.type!==void 0&&(o.type=l.type),l.mipmaps!==void 0&&(o.mipmaps=l.mipmaps),l.mipmapCount===1&&(o.minFilter=yr),o.needsUpdate=!0,t&&t(o,l))},n,r),o},setPath:function(e){return this.path=e,this}});function jb(e){this.manager=e!==void 0?e:Wi}Object.assign(jb.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=qd.get(e);if(o!==void 0)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1),qd.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(c){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1),r&&r(c),i.manager.itemError(e),i.manager.itemEnd(e)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(e),s.src=e,s},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}});function g8(e){this.manager=e!==void 0?e:Wi}Object.assign(g8.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new Cl,o=new jb(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var s=0;function a(c){o.load(e[c],function(d){i.images[c]=d,s++,s===6&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(var l=0;l<e.length;++l)a(l);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}});function SA(e){this.manager=e!==void 0?e:Wi}Object.assign(SA.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new ln,o=new jb(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){i.image=s;var a=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;i.format=a?Pc:xs,i.needsUpdate=!0,t!==void 0&&t(i)},n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}});function Ye(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Ye.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){e===void 0&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t=[],n,r=this.getPoint(0),i,o=0;for(t.push(0),i=1;i<=e;i++)n=this.getPoint(i/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n=this.getLengths(),r=0,i=n.length,o;t?o=t:o=e*n[i-1];for(var s=0,a=i-1,l;s<=a;)if(r=Math.floor(s+(a-s)/2),l=n[r]-o,l<0)s=r+1;else if(l>0)a=r-1;else{a=r;break}if(r=a,n[r]===o)return r/(i-1);var c=n[r],d=n[r+1],h=d-c,f=(o-c)/h,m=(r+f)/(i-1);return m},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),o=this.getPoint(r),s=o.clone().sub(i);return s.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n=new W,r=[],i=[],o=[],s=new W,a=new Qe,l,c,d;for(l=0;l<=e;l++)c=l/e,r[l]=this.getTangentAt(c),r[l].normalize();i[0]=new W,o[0]=new W;var h=Number.MAX_VALUE,f=Math.abs(r[0].x),m=Math.abs(r[0].y),g=Math.abs(r[0].z);for(f<=h&&(h=f,n.set(1,0,0)),m<=h&&(h=m,n.set(0,1,0)),g<=h&&n.set(0,0,1),s.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],s),o[0].crossVectors(r[0],i[0]),l=1;l<=e;l++)i[l]=i[l-1].clone(),o[l]=o[l-1].clone(),s.crossVectors(r[l-1],r[l]),s.length()>Number.EPSILON&&(s.normalize(),d=Math.acos(ft.clamp(r[l-1].dot(r[l]),-1,1)),i[l].applyMatrix4(a.makeRotationAxis(s,d))),o[l].crossVectors(r[l],i[l]);if(t===!0)for(d=Math.acos(ft.clamp(i[0].dot(i[e]),-1,1)),d/=e,r[0].dot(s.crossVectors(i[0],i[e]))>0&&(d=-d),l=1;l<=e;l++)i[l].applyMatrix4(a.makeRotationAxis(r[l],d*l)),o[l].crossVectors(r[l],i[l]);return{tangents:r,normals:i,binormals:o}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function xo(e,t,n,r,i,o,s,a){Ye.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=s||!1,this.aRotation=a||0}xo.prototype=Object.create(Ye.prototype);xo.prototype.constructor=xo;xo.prototype.isEllipseCurve=!0;xo.prototype.getPoint=function(e,t){for(var n=t||new me,r=Math.PI*2,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(o?i=0:i=r),this.aClockwise===!0&&!o&&(i===r?i=-r:i=i-r);var s=this.aStartAngle+e*i,a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){var c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=a-this.aX,f=l-this.aY;a=h*c-f*d+this.aX,l=h*d+f*c+this.aY}return n.set(a,l)};xo.prototype.copy=function(e){return Ye.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};xo.prototype.toJSON=function(){var e=Ye.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};xo.prototype.fromJSON=function(e){return Ye.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function am(e,t,n,r,i,o){xo.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}am.prototype=Object.create(xo.prototype);am.prototype.constructor=am;am.prototype.isArcCurve=!0;function TA(){var e=0,t=0,n=0,r=0;function i(o,s,a,l){e=o,t=a,n=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){i(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,d,h){var f=(s-o)/c-(a-o)/(c+d)+(a-s)/d,m=(a-s)/d-(l-s)/(d+h)+(l-a)/h;f*=d,m*=d,i(s,a,f,m)},calc:function(o){var s=o*o,a=s*o;return e+t*o+n*s+r*a}}}var sv=new W,zw=new TA,Uw=new TA,Hw=new TA;function ji(e,t,n,r){Ye.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}ji.prototype=Object.create(Ye.prototype);ji.prototype.constructor=ji;ji.prototype.isCatmullRomCurve3=!0;ji.prototype.getPoint=function(e,t){var n=t||new W,r=this.points,i=r.length,o=(i-(this.closed?0:1))*e,s=Math.floor(o),a=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/i)+1)*i:a===0&&s===i-1&&(s=i-2,a=1);var l,c,d,h;if(this.closed||s>0?l=r[(s-1)%i]:(sv.subVectors(r[0],r[1]).add(r[0]),l=sv),c=r[s%i],d=r[(s+1)%i],this.closed||s+2<i?h=r[(s+2)%i]:(sv.subVectors(r[i-1],r[i-2]).add(r[i-1]),h=sv),this.curveType==="centripetal"||this.curveType==="chordal"){var f=this.curveType==="chordal"?.5:.25,m=Math.pow(l.distanceToSquared(c),f),g=Math.pow(c.distanceToSquared(d),f),y=Math.pow(d.distanceToSquared(h),f);g<1e-4&&(g=1),m<1e-4&&(m=g),y<1e-4&&(y=g),zw.initNonuniformCatmullRom(l.x,c.x,d.x,h.x,m,g,y),Uw.initNonuniformCatmullRom(l.y,c.y,d.y,h.y,m,g,y),Hw.initNonuniformCatmullRom(l.z,c.z,d.z,h.z,m,g,y)}else this.curveType==="catmullrom"&&(zw.initCatmullRom(l.x,c.x,d.x,h.x,this.tension),Uw.initCatmullRom(l.y,c.y,d.y,h.y,this.tension),Hw.initCatmullRom(l.z,c.z,d.z,h.z,this.tension));return n.set(zw.calc(a),Uw.calc(a),Hw.calc(a)),n};ji.prototype.copy=function(e){Ye.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};ji.prototype.toJSON=function(){var e=Ye.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};ji.prototype.fromJSON=function(e){Ye.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(new W().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function fO(e,t,n,r,i){var o=(r-t)*.5,s=(i-n)*.5,a=e*e,l=e*a;return(2*n-2*r+o+s)*l+(-3*n+3*r-2*o-s)*a+o*e+n}function _ve(e,t){var n=1-e;return n*n*t}function Eve(e,t){return 2*(1-e)*e*t}function Sve(e,t){return e*e*t}function jf(e,t,n,r){return _ve(e,t)+Eve(e,n)+Sve(e,r)}function Tve(e,t){var n=1-e;return n*n*n*t}function Cve(e,t){var n=1-e;return 3*n*n*e*t}function Ave(e,t){return 3*(1-e)*e*e*t}function kve(e,t){return e*e*e*t}function zf(e,t,n,r,i){return Tve(e,t)+Cve(e,n)+Ave(e,r)+kve(e,i)}function _s(e,t,n,r){Ye.call(this),this.type="CubicBezierCurve",this.v0=e||new me,this.v1=t||new me,this.v2=n||new me,this.v3=r||new me}_s.prototype=Object.create(Ye.prototype);_s.prototype.constructor=_s;_s.prototype.isCubicBezierCurve=!0;_s.prototype.getPoint=function(e,t){var n=t||new me,r=this.v0,i=this.v1,o=this.v2,s=this.v3;return n.set(zf(e,r.x,i.x,o.x,s.x),zf(e,r.y,i.y,o.y,s.y)),n};_s.prototype.copy=function(e){return Ye.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};_s.prototype.toJSON=function(){var e=Ye.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};_s.prototype.fromJSON=function(e){return Ye.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function ma(e,t,n,r){Ye.call(this),this.type="CubicBezierCurve3",this.v0=e||new W,this.v1=t||new W,this.v2=n||new W,this.v3=r||new W}ma.prototype=Object.create(Ye.prototype);ma.prototype.constructor=ma;ma.prototype.isCubicBezierCurve3=!0;ma.prototype.getPoint=function(e,t){var n=t||new W,r=this.v0,i=this.v1,o=this.v2,s=this.v3;return n.set(zf(e,r.x,i.x,o.x,s.x),zf(e,r.y,i.y,o.y,s.y),zf(e,r.z,i.z,o.z,s.z)),n};ma.prototype.copy=function(e){return Ye.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};ma.prototype.toJSON=function(){var e=Ye.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};ma.prototype.fromJSON=function(e){return Ye.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function zi(e,t){Ye.call(this),this.type="LineCurve",this.v1=e||new me,this.v2=t||new me}zi.prototype=Object.create(Ye.prototype);zi.prototype.constructor=zi;zi.prototype.isLineCurve=!0;zi.prototype.getPoint=function(e,t){var n=t||new me;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};zi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};zi.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()};zi.prototype.copy=function(e){return Ye.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};zi.prototype.toJSON=function(){var e=Ye.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};zi.prototype.fromJSON=function(e){return Ye.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Es(e,t){Ye.call(this),this.type="LineCurve3",this.v1=e||new W,this.v2=t||new W}Es.prototype=Object.create(Ye.prototype);Es.prototype.constructor=Es;Es.prototype.isLineCurve3=!0;Es.prototype.getPoint=function(e,t){var n=t||new W;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Es.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Es.prototype.copy=function(e){return Ye.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Es.prototype.toJSON=function(){var e=Ye.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Es.prototype.fromJSON=function(e){return Ye.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ss(e,t,n){Ye.call(this),this.type="QuadraticBezierCurve",this.v0=e||new me,this.v1=t||new me,this.v2=n||new me}Ss.prototype=Object.create(Ye.prototype);Ss.prototype.constructor=Ss;Ss.prototype.isQuadraticBezierCurve=!0;Ss.prototype.getPoint=function(e,t){var n=t||new me,r=this.v0,i=this.v1,o=this.v2;return n.set(jf(e,r.x,i.x,o.x),jf(e,r.y,i.y,o.y)),n};Ss.prototype.copy=function(e){return Ye.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Ss.prototype.toJSON=function(){var e=Ye.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Ss.prototype.fromJSON=function(e){return Ye.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function ga(e,t,n){Ye.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new W,this.v1=t||new W,this.v2=n||new W}ga.prototype=Object.create(Ye.prototype);ga.prototype.constructor=ga;ga.prototype.isQuadraticBezierCurve3=!0;ga.prototype.getPoint=function(e,t){var n=t||new W,r=this.v0,i=this.v1,o=this.v2;return n.set(jf(e,r.x,i.x,o.x),jf(e,r.y,i.y,o.y),jf(e,r.z,i.z,o.z)),n};ga.prototype.copy=function(e){return Ye.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};ga.prototype.toJSON=function(){var e=Ye.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};ga.prototype.fromJSON=function(e){return Ye.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ts(e){Ye.call(this),this.type="SplineCurve",this.points=e||[]}Ts.prototype=Object.create(Ye.prototype);Ts.prototype.constructor=Ts;Ts.prototype.isSplineCurve=!0;Ts.prototype.getPoint=function(e,t){var n=t||new me,r=this.points,i=(r.length-1)*e,o=Math.floor(i),s=i-o,a=r[o===0?o:o-1],l=r[o],c=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return n.set(fO(s,a.x,l.x,c.x,d.x),fO(s,a.y,l.y,c.y,d.y)),n};Ts.prototype.copy=function(e){Ye.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this};Ts.prototype.toJSON=function(){var e=Ye.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e};Ts.prototype.fromJSON=function(e){Ye.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(new me().fromArray(r))}return this};const v8=Object.freeze(Object.defineProperty({__proto__:null,ArcCurve:am,CatmullRomCurve3:ji,CubicBezierCurve:_s,CubicBezierCurve3:ma,EllipseCurve:xo,LineCurve:zi,LineCurve3:Es,QuadraticBezierCurve:Ss,QuadraticBezierCurve3:ga,SplineCurve:Ts},Symbol.toStringTag,{value:"Module"}));function el(){Ye.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}el.prototype=Object.assign(Object.create(Ye.prototype),{constructor:el,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new zi(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],s=o.getLength(),a=s===0?0:1-i/s;return o.getPointAt(a)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t=[],n,r=0,i=this.curves;r<i.length;r++)for(var o=i[r],s=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s),l=0;l<a.length;l++){var c=a[l];n&&n.equals(c)||(t.push(c),n=c)}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Ye.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Ye.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Ye.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(new v8[r.type]().fromJSON(r))}return this}});function us(e){el.call(this),this.type="Path",this.currentPoint=new me,e&&this.setFromPoints(e)}us.prototype=Object.assign(Object.create(el.prototype),{constructor:us,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new zi(this.currentPoint.clone(),new me(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new Ss(this.currentPoint.clone(),new me(e,t),new me(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,o){var s=new _s(this.currentPoint.clone(),new me(e,t),new me(n,r),new me(i,o));this.curves.push(s),this.currentPoint.set(i,o)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Ts(t);this.curves.push(n),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var s=this.currentPoint.x,a=this.currentPoint.y;this.absarc(e+s,t+a,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,s,a){var l=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+l,t+c,n,r,i,o,s,a)},absellipse:function(e,t,n,r,i,o,s,a){var l=new xo(e,t,n,r,i,o,s,a);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var d=l.getPoint(1);this.currentPoint.copy(d)},copy:function(e){return el.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=el.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return el.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function yc(e){us.call(this,e),this.uuid=ft.generateUUID(),this.type="Shape",this.holes=[]}yc.prototype=Object.assign(Object.create(us.prototype),{constructor:yc,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){us.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=us.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){us.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(new us().fromJSON(r))}return this}});function jn(e,t){Le.call(this),this.type="Light",this.color=new We(e),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}jn.prototype=Object.assign(Object.create(Le.prototype),{constructor:jn,isLight:!0,copy:function(e){return Le.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Le.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function yS(e,t,n){jn.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Le.DefaultUp),this.updateMatrix(),this.groundColor=new We(t)}yS.prototype=Object.assign(Object.create(jn.prototype),{constructor:yS,isHemisphereLight:!0,copy:function(e){return jn.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function fh(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new me(512,512),this.map=null,this.matrix=new Qe}Object.assign(fh.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e={};return this.bias!==0&&(e.bias=this.bias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function xS(){fh.call(this,new $n(50,1,.5,500))}xS.prototype=Object.assign(Object.create(fh.prototype),{constructor:xS,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=ft.RAD2DEG*2*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;(n!==t.fov||r!==t.aspect||i!==t.far)&&(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}});function bS(e,t,n,r,i,o){jn.call(this,e,t),this.type="SpotLight",this.position.copy(Le.DefaultUp),this.updateMatrix(),this.target=new Le,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(s){this.intensity=s/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=r!==void 0?r:Math.PI/3,this.penumbra=i!==void 0?i:0,this.decay=o!==void 0?o:1,this.shadow=new xS}bS.prototype=Object.assign(Object.create(jn.prototype),{constructor:bS,isSpotLight:!0,copy:function(e){return jn.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function wS(e,t,n,r){jn.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(i){this.intensity=i/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=r!==void 0?r:1,this.shadow=new fh(new $n(90,1,.5,500))}wS.prototype=Object.assign(Object.create(jn.prototype),{constructor:wS,isPointLight:!0,copy:function(e){return jn.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function Zd(e,t,n,r,i,o){ha.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=n!==void 0?n:1,this.bottom=r!==void 0?r:-1,this.near=i!==void 0?i:.1,this.far=o!==void 0?o:2e3,this.updateProjectionMatrix()}Zd.prototype=Object.assign(Object.create(ha.prototype),{constructor:Zd,isOrthographicCamera:!0,copy:function(e,t){return ha.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,s=r+t,a=r-t;if(this.view!==null&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),d=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;i+=d*(this.view.offsetX/l),o=i+d*(this.view.width/l),s-=h*(this.view.offsetY/c),a=s-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,s,a,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Le.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function _S(){fh.call(this,new Zd(-5,5,5,-5,.5,500))}_S.prototype=Object.assign(Object.create(fh.prototype),{constructor:_S});function ES(e,t){jn.call(this,e,t),this.type="DirectionalLight",this.position.copy(Le.DefaultUp),this.updateMatrix(),this.target=new Le,this.shadow=new _S}ES.prototype=Object.assign(Object.create(jn.prototype),{constructor:ES,isDirectionalLight:!0,copy:function(e){return jn.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function SS(e,t){jn.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}SS.prototype=Object.assign(Object.create(jn.prototype),{constructor:SS,isAmbientLight:!0});function TS(e,t,n,r){jn.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=r!==void 0?r:10}TS.prototype=Object.assign(Object.create(jn.prototype),{constructor:TS,isRectAreaLight:!0,copy:function(e){return jn.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=jn.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});function CA(e){this.manager=e!==void 0?e:Wi,this.textures={}}Object.assign(CA.prototype,{load:function(e,t,n,r){var i=this,o=new wa(i.manager);o.setPath(i.path),o.load(e,function(s){t(i.parse(JSON.parse(s)))},n,r)},parse:function(e){var t=this.textures;function n(l){return t[l]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",l),t[l]}var r=new gve[e.type];if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular.setHex(e.specular),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearCoat!==void 0&&(r.clearCoat=e.clearCoat),e.clearCoatRoughness!==void 0&&(r.clearCoatRoughness=e.clearCoatRoughness),e.vertexColors!==void 0&&(r.vertexColors=e.vertexColors),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(r.skinning=e.skinning),e.morphTargets!==void 0&&(r.morphTargets=e.morphTargets),e.dithering!==void 0&&(r.dithering=e.dithering),e.visible!==void 0&&(r.visible=e.visible),e.userData!==void 0&&(r.userData=e.userData),e.uniforms!==void 0)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=new We().setHex(o.value);break;case"v2":r.uniforms[i].value=new me().fromArray(o.value);break;case"v3":r.uniforms[i].value=new W().fromArray(o.value);break;case"v4":r.uniforms[i].value=new an().fromArray(o.value);break;case"m3":r.uniforms[i].value=new Rr().fromArray(o.value);case"m4":r.uniforms[i].value=new Qe().fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(var s in e.extensions)r.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){var a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new me().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var y8={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function x8(e){this.manager=e!==void 0?e:Wi}Object.assign(x8.prototype,{load:function(e,t,n,r){var i=this,o=new wa(i.manager);o.setPath(i.path),o.load(e,function(s){t(i.parse(JSON.parse(s)))},n,r)},parse:function(e){var t=new Be,n=e.data.index;if(n!==void 0){var r=new pO[n.type](n.array);t.setIndex(new wt(r,1))}var i=e.data.attributes;for(var o in i){var s=i[o],r=new pO[s.type](s.array);t.addAttribute(o,new wt(r,s.itemSize,s.normalized))}var a=e.data.groups||e.data.drawcalls||e.data.offsets;if(a!==void 0)for(var l=0,c=a.length;l!==c;++l){var d=a[l];t.addGroup(d.start,d.count,d.materialIndex)}var h=e.data.boundingSphere;if(h!==void 0){var f=new W;h.center!==void 0&&f.fromArray(h.center),t.boundingSphere=new bs(f,h.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var pO={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function b8(e){this.manager=e!==void 0?e:Wi,this.resourcePath=""}Object.assign(b8.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,o=this.path===void 0?y8.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var s=new wa(i.manager);s.setPath(this.path),s.load(e,function(a){var l=null;try{l=JSON.parse(a)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}var c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}i.parse(l,t)},n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,function(){t!==void 0&&t(a)}),o=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,o),a=this.parseObject(e.object,r,s);return e.animations&&(a.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&t!==void 0&&t(a),a},parseShape:function(e){var t={};if(e!==void 0)for(var n=0,r=e.length;n<r;n++){var i=new yc().fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(e!==void 0)for(var r=new x8,i=0,o=e.length;i<o;i++){var s,a=e[i];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new oi[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new oi[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new oi[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new oi[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new oi[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new oi[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new oi[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new oi[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new oi[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new oi[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new oi[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new oi[a.type](a.vertices,a.indices,a.radius,a.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var h=[],l=0,c=a.shapes.length;l<c;l++){var d=t[a.shapes[l]];h.push(d)}s=new oi[a.type](h,a.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var h=[],l=0,c=a.shapes.length;l<c;l++){var d=t[a.shapes[l]];h.push(d)}var f=a.options.extrudePath;f!==void 0&&(a.options.extrudePath=new v8[f.type]().fromJSON(f)),s=new oi[a.type](h,a.options);break;case"BufferGeometry":s=r.parse(a);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var m=new THREE.LegacyJSONLoader;s=m.parse(a,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}s.uuid=a.uuid,a.name!==void 0&&(s.name=a.name),s.isBufferGeometry===!0&&a.userData!==void 0&&(s.userData=a.userData),n[a.uuid]=s}return n},parseMaterials:function(e,t){var n={},r={};if(e!==void 0){var i=new CA;i.setTextures(t);for(var o=0,s=e.length;o<s;o++){var a=e[o];if(a.type==="MultiMaterial"){for(var l=[],c=0;c<a.materials.length;c++){var d=a.materials[c];n[d.uuid]===void 0&&(n[d.uuid]=i.parse(d)),l.push(n[d.uuid])}r[a.uuid]=l}else r[a.uuid]=i.parse(a),n[a.uuid]=r[a.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=cs.parse(r);r.uuid!==void 0&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(y){return n.manager.itemStart(y),s.load(y,function(){n.manager.itemEnd(y)},void 0,function(){n.manager.itemError(y),n.manager.itemEnd(y)})}if(e!==void 0&&e.length>0){var o=new m8(t),s=new jb(o);s.setCrossOrigin(this.crossOrigin);for(var a=0,l=e.length;a<l;a++){var c=e[a],d=c.url;if(Array.isArray(d)){r[c.uuid]=[];for(var h=0,f=d.length;h<f;h++){var m=d[h],g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(m)?m:n.resourcePath+m;r[c.uuid].push(i(g))}}else{var g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;r[c.uuid]=i(g)}}}return r},parseTextures:function(e,t){function n(l,c){return typeof l=="number"?l:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",l),c[l])}var r={};if(e!==void 0)for(var i=0,o=e.length;i<o;i++){var s=e[i];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var a;Array.isArray(t[s.image])?a=new Cl(t[s.image]):a=new ln(t[s.image]),a.needsUpdate=!0,a.uuid=s.uuid,s.name!==void 0&&(a.name=s.name),s.mapping!==void 0&&(a.mapping=n(s.mapping,Mve)),s.offset!==void 0&&a.offset.fromArray(s.offset),s.repeat!==void 0&&a.repeat.fromArray(s.repeat),s.center!==void 0&&a.center.fromArray(s.center),s.rotation!==void 0&&(a.rotation=s.rotation),s.wrap!==void 0&&(a.wrapS=n(s.wrap[0],mO),a.wrapT=n(s.wrap[1],mO)),s.format!==void 0&&(a.format=s.format),s.type!==void 0&&(a.type=s.type),s.encoding!==void 0&&(a.encoding=s.encoding),s.minFilter!==void 0&&(a.minFilter=n(s.minFilter,gO)),s.magFilter!==void 0&&(a.magFilter=n(s.magFilter,gO)),s.anisotropy!==void 0&&(a.anisotropy=s.anisotropy),s.flipY!==void 0&&(a.flipY=s.flipY),s.premultiplyAlpha!==void 0&&(a.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(a.unpackAlignment=s.unpackAlignment),r[s.uuid]=a}return r},parseObject:function(e,t,n){var r;function i(g){return t[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),t[g]}function o(g){if(g!==void 0){if(Array.isArray(g)){for(var y=[],b=0,x=g.length;b<x;b++){var w=g[b];n[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),y.push(n[w])}return y}return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),n[g]}}switch(e.type){case"Scene":r=new Up,e.background!==void 0&&Number.isInteger(e.background)&&(r.background=new We(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?r.fog=new zp(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(r.fog=new jp(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new $n(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(r.focus=e.focus),e.zoom!==void 0&&(r.zoom=e.zoom),e.filmGauge!==void 0&&(r.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(r.filmOffset=e.filmOffset),e.view!==void 0&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Zd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(r.zoom=e.zoom),e.view!==void 0&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new SS(e.color,e.intensity);break;case"DirectionalLight":r=new ES(e.color,e.intensity);break;case"PointLight":r=new wS(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new TS(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new bS(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new yS(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var s=i(e.geometry),a=o(e.material);s.bones&&s.bones.length>0?r=new hy(s,a):r=new Ir(s,a);break;case"LOD":r=new dy;break;case"Line":r=new bi(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":r=new lS(i(e.geometry),o(e.material));break;case"LineSegments":r=new kn(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":r=new cS(i(e.geometry),o(e.material));break;case"Sprite":r=new sS(o(e.material));break;case"Group":r=new Fp;break;default:r=new Le}if(r.uuid=e.uuid,e.name!==void 0&&(r.name=e.name),e.matrix!==void 0?(r.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(e.position!==void 0&&r.position.fromArray(e.position),e.rotation!==void 0&&r.rotation.fromArray(e.rotation),e.quaternion!==void 0&&r.quaternion.fromArray(e.quaternion),e.scale!==void 0&&r.scale.fromArray(e.scale)),e.castShadow!==void 0&&(r.castShadow=e.castShadow),e.receiveShadow!==void 0&&(r.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(r.shadow.bias=e.shadow.bias),e.shadow.radius!==void 0&&(r.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&r.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(r.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(r.visible=e.visible),e.frustumCulled!==void 0&&(r.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(r.renderOrder=e.renderOrder),e.userData!==void 0&&(r.userData=e.userData),e.layers!==void 0&&(r.layers.mask=e.layers),e.children!==void 0)for(var l=e.children,c=0;c<l.length;c++)r.add(this.parseObject(l[c],t,n));if(e.type==="LOD")for(var d=e.levels,h=0;h<d.length;h++){var f=d[h],m=r.getObjectByProperty("uuid",f.object);m!==void 0&&r.addLevel(m,f.distance)}return r}});var Mve={UVMapping:pA,CubeReflectionMapping:mA,CubeRefractionMapping:KE,EquirectangularReflectionMapping:HF,EquirectangularRefractionMapping:JE,SphericalReflectionMapping:GF,CubeUVReflectionMapping:gA,CubeUVRefractionMapping:vA},mO={RepeatWrapping:Qa,ClampToEdgeWrapping:lo,MirroredRepeatWrapping:Md},gO={NearestFilter:or,NearestMipMapNearestFilter:yA,NearestMipMapLinearFilter:xA,LinearFilter:yr,LinearMipMapNearestFilter:VF,LinearMipMapLinearFilter:Bb};function vO(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=e!==void 0?e:Wi,this.options=void 0}vO.prototype={constructor:vO,setOptions:function(t){return this.options=t,this},load:function(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=qd.get(e);if(o!==void 0)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;fetch(e).then(function(s){return s.blob()}).then(function(s){return createImageBitmap(s,i.options)}).then(function(s){qd.add(e,s),t&&t(s),i.manager.itemEnd(e)}).catch(function(s){r&&r(s),i.manager.itemError(e),i.manager.itemEnd(e)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}};function w8(){this.type="ShapePath",this.color=new We,this.subPaths=[],this.currentPath=null}Object.assign(w8.prototype,{moveTo:function(e,t){this.currentPath=new us,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(G){for(var Z=[],ee=0,V=G.length;ee<V;ee++){var B=G[ee],D=new yc;D.curves=B.curves,Z.push(D)}return Z}function r(G,Z){for(var ee=Z.length,V=!1,B=ee-1,D=0;D<ee;B=D++){var J=Z[B],j=Z[D],oe=j.x-J.x,q=j.y-J.y;if(Math.abs(q)>Number.EPSILON){if(q<0&&(J=Z[D],oe=-oe,j=Z[B],q=-q),G.y<J.y||G.y>j.y)continue;if(G.y===J.y){if(G.x===J.x)return!0}else{var te=q*(G.x-J.x)-oe*(G.y-J.y);if(te===0)return!0;if(te<0)continue;V=!V}}else{if(G.y!==J.y)continue;if(j.x<=G.x&&G.x<=J.x||J.x<=G.x&&G.x<=j.x)return!0}}return V}var i=gl.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return n(o);var s,a,l,c=[];if(o.length===1)return a=o[0],l=new yc,l.curves=a.curves,c.push(l),c;var d=!i(o[0].getPoints());d=e?!d:d;var h=[],f=[],m=[],g=0,y;f[g]=void 0,m[g]=[];for(var b=0,x=o.length;b<x;b++)a=o[b],y=a.getPoints(),s=i(y),s=e?!s:s,s?(!d&&f[g]&&g++,f[g]={s:new yc,p:y},f[g].s.curves=a.curves,d&&g++,m[g]=[]):m[g].push({h:a,p:y[0]});if(!f[0])return n(o);if(f.length>1){for(var w=!1,S=[],_=0,T=f.length;_<T;_++)h[_]=[];for(var _=0,T=f.length;_<T;_++)for(var A=m[_],P=0;P<A.length;P++){for(var k=A[P],M=!0,I=0;I<f.length;I++)r(k.p,f[I].p)&&(_!==I&&S.push({froms:_,tos:I,hole:P}),M?(M=!1,h[I].push(k)):w=!0);M&&h[_].push(k)}S.length>0&&(w||(m=h))}for(var N,b=0,U=f.length;b<U;b++){l=f[b].s,c.push(l),N=m[b];for(var Y=0,H=N.length;Y<H;Y++)l.holes.push(N[Y].h)}return c}});function _8(e){this.type="Font",this.data=e}Object.assign(_8.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);for(var n=[],r=Lve(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}});function Lve(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,s=[],a=0,l=0,c=0;c<r.length;c++){var d=r[c];if(d===`
`)a=0,l-=o;else{var h=Pve(d,i,a,l,n);a+=h.offsetX,s.push(h.path)}}return s}function Pve(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var s=new w8,a,l,c,d,h,f,m,g;if(o.o)for(var y=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),b=0,x=y.length;b<x;){var w=y[b++];switch(w){case"m":a=y[b++]*t+n,l=y[b++]*t+r,s.moveTo(a,l);break;case"l":a=y[b++]*t+n,l=y[b++]*t+r,s.lineTo(a,l);break;case"q":c=y[b++]*t+n,d=y[b++]*t+r,h=y[b++]*t+n,f=y[b++]*t+r,s.quadraticCurveTo(h,f,c,d);break;case"b":c=y[b++]*t+n,d=y[b++]*t+r,h=y[b++]*t+n,f=y[b++]*t+r,m=y[b++]*t+n,g=y[b++]*t+r,s.bezierCurveTo(h,f,m,g,c,d);break}}return{offsetX:o.ha*t,path:s}}}function Rve(e){this.manager=e!==void 0?e:Wi}Object.assign(Rve.prototype,{load:function(e,t,n,r){var i=this,o=new wa(this.manager);o.setPath(this.path),o.load(e,function(s){var a;try{a=JSON.parse(s)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),a=JSON.parse(s.substring(65,s.length-2))}var l=i.parse(a);t&&t(l)},n,r)},parse:function(e){return new _8(e)},setPath:function(e){return this.path=e,this}});function Dy(){}Dy.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}};Object.assign(Dy.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:Ff,NormalBlending:od,AdditiveBlending:YE,SubtractiveBlending:qE,MultiplyBlending:ZE,CustomBlending:FF},t=new We,n=new SA,r=new CA;return function(o,s,a){var l={};function c(m,g,y,b,x){var w=s+m,S=Dy.Handlers.get(w),_;S!==null?_=S.load(w):(n.setCrossOrigin(a),_=n.load(w)),g!==void 0&&(_.repeat.fromArray(g),g[0]!==1&&(_.wrapS=Qa),g[1]!==1&&(_.wrapT=Qa)),y!==void 0&&_.offset.fromArray(y),b!==void 0&&(b[0]==="repeat"&&(_.wrapS=Qa),b[0]==="mirror"&&(_.wrapS=Md),b[1]==="repeat"&&(_.wrapT=Qa),b[1]==="mirror"&&(_.wrapT=Md)),x!==void 0&&(_.anisotropy=x);var T=ft.generateUUID();return l[T]=_,T}var d={uuid:ft.generateUUID(),type:"MeshLambertMaterial"};for(var h in o){var f=o[h];switch(h){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":d.name=f;break;case"blending":d.blending=e[f];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",h,"is no longer supported.");break;case"colorDiffuse":d.color=t.fromArray(f).getHex();break;case"colorSpecular":d.specular=t.fromArray(f).getHex();break;case"colorEmissive":d.emissive=t.fromArray(f).getHex();break;case"specularCoef":d.shininess=f;break;case"shading":f.toLowerCase()==="basic"&&(d.type="MeshBasicMaterial"),f.toLowerCase()==="phong"&&(d.type="MeshPhongMaterial"),f.toLowerCase()==="standard"&&(d.type="MeshStandardMaterial");break;case"mapDiffuse":d.map=c(f,o.mapDiffuseRepeat,o.mapDiffuseOffset,o.mapDiffuseWrap,o.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":d.emissiveMap=c(f,o.mapEmissiveRepeat,o.mapEmissiveOffset,o.mapEmissiveWrap,o.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":d.lightMap=c(f,o.mapLightRepeat,o.mapLightOffset,o.mapLightWrap,o.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":d.aoMap=c(f,o.mapAORepeat,o.mapAOOffset,o.mapAOWrap,o.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":d.bumpMap=c(f,o.mapBumpRepeat,o.mapBumpOffset,o.mapBumpWrap,o.mapBumpAnisotropy);break;case"mapBumpScale":d.bumpScale=f;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":d.normalMap=c(f,o.mapNormalRepeat,o.mapNormalOffset,o.mapNormalWrap,o.mapNormalAnisotropy);break;case"mapNormalFactor":d.normalScale=f;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":d.specularMap=c(f,o.mapSpecularRepeat,o.mapSpecularOffset,o.mapSpecularWrap,o.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":d.metalnessMap=c(f,o.mapMetalnessRepeat,o.mapMetalnessOffset,o.mapMetalnessWrap,o.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":d.roughnessMap=c(f,o.mapRoughnessRepeat,o.mapRoughnessOffset,o.mapRoughnessWrap,o.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":d.alphaMap=c(f,o.mapAlphaRepeat,o.mapAlphaOffset,o.mapAlphaWrap,o.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":d.side=Wr;break;case"doubleSided":d.side=Jm;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),d.opacity=f;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":d[h]=f;break;case"vertexColors":f===!0&&(d.vertexColors=ch),f==="face"&&(d.vertexColors=BF);break;default:console.error("THREE.Loader.createMaterial: Unsupported",h,f);break}}return d.type==="MeshBasicMaterial"&&delete d.emissive,d.type!=="MeshPhongMaterial"&&delete d.specular,d.opacity<1&&(d.transparent=!0),r.setTextures(l),r.parse(d)}}()});var av,E8={getContext:function(){return av===void 0&&(av=new(window.AudioContext||window.webkitAudioContext)),av},setContext:function(e){av=e}};function S8(e){this.manager=e!==void 0?e:Wi}Object.assign(S8.prototype,{load:function(e,t,n,r){var i=new wa(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,function(o){var s=o.slice(0),a=E8.getContext();a.decodeAudioData(s,function(l){t(l)})},n,r)},setPath:function(e){return this.path=e,this}});function Ove(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new $n,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new $n,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}Object.assign(Ove.prototype,{update:function(){var e,t,n,r,i,o,s,a,l=new Qe,c=new Qe;return function(h){var f=e!==this||t!==h.focus||n!==h.fov||r!==h.aspect*this.aspect||i!==h.near||o!==h.far||s!==h.zoom||a!==this.eyeSep;if(f){e=this,t=h.focus,n=h.fov,r=h.aspect*this.aspect,i=h.near,o=h.far,s=h.zoom;var m=h.projectionMatrix.clone();a=this.eyeSep/2;var g=a*i/t,y=i*Math.tan(ft.DEG2RAD*n*.5)/s,b,x;c.elements[12]=-a,l.elements[12]=a,b=-y*r+g,x=y*r+g,m.elements[0]=2*i/(x-b),m.elements[8]=(x+b)/(x-b),this.cameraL.projectionMatrix.copy(m),b=-y*r-g,x=y*r-g,m.elements[0]=2*i/(x-b),m.elements[8]=(x+b)/(x-b),this.cameraR.projectionMatrix.copy(m)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(l)}}()});function By(e,t,n,r){Le.call(this),this.type="CubeCamera";var i=90,o=1,s=new $n(i,o,e,t);s.up.set(0,-1,0),s.lookAt(new W(1,0,0)),this.add(s);var a=new $n(i,o,e,t);a.up.set(0,-1,0),a.lookAt(new W(-1,0,0)),this.add(a);var l=new $n(i,o,e,t);l.up.set(0,0,1),l.lookAt(new W(0,1,0)),this.add(l);var c=new $n(i,o,e,t);c.up.set(0,0,-1),c.lookAt(new W(0,-1,0)),this.add(c);var d=new $n(i,o,e,t);d.up.set(0,-1,0),d.lookAt(new W(0,0,1)),this.add(d);var h=new $n(i,o,e,t);h.up.set(0,-1,0),h.lookAt(new W(0,0,-1)),this.add(h),r=r||{format:Pc,magFilter:yr,minFilter:yr},this.renderTarget=new Op(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(f,m){this.parent===null&&this.updateMatrixWorld();var g=f.getRenderTarget(),y=this.renderTarget,b=y.texture.generateMipmaps;y.texture.generateMipmaps=!1,y.activeCubeFace=0,f.render(m,s,y),y.activeCubeFace=1,f.render(m,a,y),y.activeCubeFace=2,f.render(m,l,y),y.activeCubeFace=3,f.render(m,c,y),y.activeCubeFace=4,f.render(m,d,y),y.texture.generateMipmaps=b,y.activeCubeFace=5,f.render(m,h,y),f.setRenderTarget(g)},this.clear=function(f,m,g,y){for(var b=f.getRenderTarget(),x=this.renderTarget,w=0;w<6;w++)x.activeCubeFace=w,f.setRenderTarget(x),f.clear(m,g,y);f.setRenderTarget(b)}}By.prototype=Object.create(Le.prototype);By.prototype.constructor=By;function T8(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(T8.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=(typeof performance>"u"?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});function yO(){Le.call(this),this.type="AudioListener",this.context=E8.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}yO.prototype=Object.assign(Object.create(Le.prototype),{constructor:yO,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new W,t=new ir,n=new W,r=new W,i=new T8;return function(s){Le.prototype.updateMatrixWorld.call(this,s);var a=this.context.listener,l=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),a.positionX){var c=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(e.x,c),a.positionY.linearRampToValueAtTime(e.y,c),a.positionZ.linearRampToValueAtTime(e.z,c),a.forwardX.linearRampToValueAtTime(r.x,c),a.forwardY.linearRampToValueAtTime(r.y,c),a.forwardZ.linearRampToValueAtTime(r.z,c),a.upX.linearRampToValueAtTime(l.x,c),a.upY.linearRampToValueAtTime(l.y,c),a.upZ.linearRampToValueAtTime(l.z,c)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z,l.x,l.y,l.z)}}()});function lm(e){Le.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}lm.prototype=Object.assign(Object.create(Le.prototype),{constructor:lm,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}var e=this.context.createBufferSource();return e.buffer=this.buffer,e.detune.value=this.detune,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){return this.detune=e,this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});function xO(e){lm.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}xO.prototype=Object.assign(Object.create(lm.prototype),{constructor:xO,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new W,t=new ir,n=new W,r=new W;return function(o){if(Le.prototype.updateMatrixWorld.call(this,o),this.isPlaying!==!1){this.matrixWorld.decompose(e,t,n),r.set(0,0,1).applyQuaternion(t);var s=this.panner;if(s.positionX){var a=this.context.currentTime+this.listener.timeDelta;s.positionX.linearRampToValueAtTime(e.x,a),s.positionY.linearRampToValueAtTime(e.y,a),s.positionZ.linearRampToValueAtTime(e.z,a),s.orientationX.linearRampToValueAtTime(r.x,a),s.orientationY.linearRampToValueAtTime(r.y,a),s.orientationZ.linearRampToValueAtTime(r.z,a)}else s.setPosition(e.x,e.y,e.z),s.setOrientation(r.x,r.y,r.z)}}}()});function C8(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}Object.assign(C8.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}});function A8(e,t,n){this.binding=e,this.valueSize=n;var r=Float64Array,i;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(n*4),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(A8.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(o===0){for(var s=0;s!==r;++s)n[i+s]=n[s];o=t}else{o+=t;var a=t/o;this._mixBufferRegion(n,i,0,a,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var s=t*3;this._mixBufferRegion(n,r,s,1-i,t)}for(var a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*3;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){ir.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,s=0;s!==i;++s){var a=t+s;e[a]=e[a]*o+e[n+s]*r}}});var Gw="\\[\\]\\.:\\/";function k8(e,t,n){var r=n||Qr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}Object.assign(k8.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function Qr(e,t,n){this.path=t,this.parsedPath=n||Qr.parseTrackName(t),this.node=Qr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(Qr,{Composite:k8,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Qr.Composite(e,t,n):new Qr(e,t,n)},sanitizeNodeName:function(){var e=new RegExp("["+Gw+"]","g");return function(n){return n.replace(/\s/g,"_").replace(e,"")}}(),parseTrackName:function(){var e="[^"+Gw+"]",t="[^"+Gw.replace("\\.","")+"]",n=/((?:WC+[\/:])*)/.source.replace("WC",e),r=/(WCOD+)?/.source.replace("WCOD",t),i=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",e),o=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",e),s=new RegExp("^"+n+r+i+o+"$"),a=["material","materials","bones"];return function(c){var d=s.exec(c);if(!d)throw new Error("PropertyBinding: Cannot parse trackName: "+c);var h={nodeName:d[2],objectName:d[3],objectIndex:d[4],propertyName:d[5],propertyIndex:d[6]},f=h.nodeName&&h.nodeName.lastIndexOf(".");if(f!==void 0&&f!==-1){var m=h.nodeName.substring(f+1);a.indexOf(m)!==-1&&(h.nodeName=h.nodeName.substring(0,f),h.objectName=m)}if(h.propertyName===null||h.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+c);return h}}(),findNode:function(e,t){if(!t||t===""||t==="root"||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){var r=function(o){for(var s=0;s<o.length;s++){var a=o[s];if(a.name===t||a.uuid===t)return a;var l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}});Object.assign(Qr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)t[n++]=r[i]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=t[n++]},function(t,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Qr.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(var s=0;s<e.length;s++)if(e[s].name===o){o=s;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(o!==void 0){if(e[o]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[o]}}var a=e[r];if(a===void 0){var l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+r+" but it wasn't found.",e);return}var c=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?c=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(c=this.Versioning.MatrixWorldNeedsUpdate);var d=this.BindingType.Direct;if(i!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(var s=0;s<this.node.geometry.morphAttributes.position.length;s++)if(e.geometry.morphAttributes.position[s].name===i){i=s;break}}else{if(!e.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(var s=0;s<this.node.geometry.morphTargets.length;s++)if(e.geometry.morphTargets[s].name===i){i=s;break}}}d=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else a.fromArray!==void 0&&a.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(d=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Qr.prototype,{_getValue_unbound:Qr.prototype.getValue,_setValue_unbound:Qr.prototype.setValue});function Ive(){this.uuid=ft.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}Object.assign(Ive.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length,l=void 0,c=0,d=arguments.length;c!==d;++c){var h=arguments[c],f=h.uuid,m=r[f];if(m===void 0){m=t++,r[f]=m,e.push(h);for(var g=0,y=a;g!==y;++g)s[g].push(new Qr(h,i[g],o[g]))}else if(m<n){l=e[m];var b=--n,x=e[b];r[x.uuid]=m,e[m]=x,r[f]=b,e[b]=h;for(var g=0,y=a;g!==y;++g){var w=s[g],S=w[b],_=w[m];w[m]=S,_===void 0&&(_=new Qr(h,i[g],o[g])),w[b]=_}}else e[m]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,s=arguments.length;o!==s;++o){var a=arguments[o],l=a.uuid,c=n[l];if(c!==void 0&&c>=t){var d=t++,h=e[d];n[h.uuid]=c,e[c]=h,n[l]=d,e[d]=a;for(var f=0,m=i;f!==m;++f){var g=r[f],y=g[d],b=g[c];g[c]=y,g[d]=b}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,s=0,a=arguments.length;s!==a;++s){var l=arguments[s],c=l.uuid,d=r[c];if(d!==void 0)if(delete r[c],d<n){var h=--n,f=e[h],m=--t,g=e[m];r[f.uuid]=d,e[d]=f,r[g.uuid]=h,e[h]=g,e.pop();for(var y=0,b=o;y!==b;++y){var x=i[y],w=x[h],S=x[m];x[d]=w,x[h]=S,x.pop()}}else{var m=--t,g=e[m];r[g.uuid]=d,e[d]=g,e.pop();for(var y=0,b=o;y!==b;++y){var x=i[y];x[d]=x[m],x.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(r!==void 0)return i[r];var o=this._paths,s=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,d=new Array(l);r=i.length,n[e]=r,o.push(e),s.push(t),i.push(d);for(var h=c,f=a.length;h!==f;++h){var m=a[h];d[h]=new Qr(m,e,t)}return d},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){var r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s],l=e[s];t[l]=n,o[n]=a,o.pop(),i[n]=i[s],i.pop(),r[n]=r[s],r.pop()}}});function M8(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),s={endingStart:Ld,endingEnd:Ld},a=0;a!==i;++a){var l=r[a].createInterpolant(null);o[a]=l,l.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xfe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(M8.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,s=r/i;e.warp(1,o,t),this.warp(s,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,s=this.timeScale;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var a=o.parameterPositions,l=o.sampleValues;return a[0]=i,a[1]=i+n,l[0]=e/s,l[1]=t/s,this},stopWarping:function(){var e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}var i=this._startTime;if(i!==null){var o=(e-i)*n;if(o<0||n===0)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var s=this._updateTime(t),a=this._updateWeight(e);if(a>0)for(var l=this._interpolants,c=this._propertyBindings,d=0,h=l.length;d!==h;++d)l[d].evaluate(s),c[d].accumulate(r,a)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(n!==null){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(n!==null){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=r===bfe;if(e===0)return i===-1?t:o&&(i&1)===1?n-t:t;if(r===yfe){i===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else if(t<0)t=0;else break e;this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(i===-1&&(e>=0?(i=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),t>=n||t<0){var s=Math.floor(t/n);t-=n*s,i+=Math.abs(s);var a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(a===1){var l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}if(o&&(i&1)===1)return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Vu,r.endingEnd=Vu):(e?r.endingStart=this.zeroSlopeAtStart?Vu:Ld:r.endingStart=iy,t?r.endingEnd=this.zeroSlopeAtEnd?Vu:Ld:r.endingEnd=iy)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var s=o.parameterPositions,a=o.sampleValues;return s[0]=i,a[0]=t,s[1]=i+e,a[1]=n,this}});function bO(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}bO.prototype=Object.assign(Object.create(Dl.prototype),{constructor:bO,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName,c=l[a];c===void 0&&(c={},l[a]=c);for(var d=0;d!==i;++d){var h=r[d],f=h.name,m=c[f];if(m!==void 0)o[d]=m;else{if(m=o[d],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,a,f));continue}var g=t&&t._propertyBindings[d].binding.parsedPath;m=new A8(Qr.create(n,f,g),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,a,f),o[d]=m}s[d].resultBuffer=m.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,s=i.length;o!==s;++o){var a=i[o];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];--i.useCount===0&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,s=o[i],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;var d=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],a.length===0&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];--i.referenceCount===0&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;i===void 0&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,s=o[r],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[i];e:{for(var c in s)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return n===void 0&&(n=new Iy(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i=typeof e=="string"?cs.findByName(n,e):e,o=i!==null?i.uuid:e,s=this._actionsByClip[o],a=null;if(s!==void 0){var l=s.actionByRoot[r];if(l!==void 0)return l;a=s.knownActions[0],i===null&&(i=a._clip)}if(i===null)return null;var c=new M8(this,i,t);return this._bindAction(c,a),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i=typeof e=="string"?cs.findByName(n,e):e,o=i?i.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,s=0;s!==n;++s){var a=t[s];a._update(r,e,i,o)}for(var l=this._bindings,c=this._nActiveBindings,s=0;s!==c;++s)l[s].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(i!==void 0){for(var o=i.knownActions,s=0,a=o.length;s!==a;++s){var l=o[s];this._deactivateAction(l);var c=l._cacheIndex,d=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,d._cacheIndex=c,t[c]=d,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}var s=this._bindingsByRootAndName,a=s[t];if(a!==void 0)for(var l in a){var c=a[l];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});function CS(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}CS.prototype.clone=function(){return new CS(this.value.clone===void 0?this.value:this.value.clone())};function wO(){Be.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}wO.prototype=Object.assign(Object.create(Be.prototype),{constructor:wO,isInstancedBufferGeometry:!0,copy:function(e){return Be.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)}});function _O(e,t,n){Od.call(this,e,t),this.meshPerAttribute=n||1}_O.prototype=Object.assign(Object.create(Od.prototype),{constructor:_O,isInstancedInterleavedBuffer:!0,copy:function(e){return Od.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}});function EO(e,t,n,r){typeof n=="number"&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),wt.call(this,e,t,n),this.meshPerAttribute=r||1}EO.prototype=Object.assign(Object.create(wt.prototype),{constructor:EO,isInstancedBufferAttribute:!0,copy:function(e){return wt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}});function Nve(e,t,n,r){this.ray=new dh(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function SO(e,t){return e.distance-t.distance}function AS(e,t,n,r){if(e.visible!==!1&&(e.raycast(t,n),r===!0))for(var i=e.children,o=0,s=i.length;o<s;o++)AS(i[o],t,n,!0)}Object.assign(Nve.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return AS(e,this,r,t),r.sort(SO),r},intersectObjects:function(e,t,n){var r=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)AS(e[i],this,r,t);return r.sort(SO),r}});function Dve(e,t,n){return this.radius=e!==void 0?e:1,this.phi=t!==void 0?t:0,this.theta=n!==void 0?n:0,this}Object.assign(Dve.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(ft.clamp(t/this.radius,-1,1))),this}});function Bve(e,t,n){return this.radius=e!==void 0?e:1,this.theta=t!==void 0?t:0,this.y=n!==void 0?n:0,this}Object.assign(Bve.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});function L8(e,t){this.min=e!==void 0?e:new me(1/0,1/0),this.max=t!==void 0?t:new me(-1/0,-1/0)}Object.assign(L8.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new me;return function(n,r){var i=e.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(i),this.max.copy(n).add(i),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new me),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new me),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new me),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new me),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new me;return function(n){var r=e.copy(n).clamp(this.min,this.max);return r.sub(n).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function P8(e,t){this.start=e!==void 0?e:new W,this.end=t!==void 0?t:new W}Object.assign(P8.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new W),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new W),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return t===void 0&&(console.warn("THREE.Line3: .at() target is now required"),t=new W),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new W,t=new W;return function(r,i){e.subVectors(r,this.start),t.subVectors(this.end,this.start);var o=t.dot(t),s=t.dot(e),a=s/o;return i&&(a=ft.clamp(a,0,1)),a}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return n===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new W),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function Fy(e){Le.call(this),this.material=e,this.render=function(){}}Fy.prototype=Object.create(Le.prototype);Fy.prototype.constructor=Fy;Fy.prototype.isImmediateRenderObject=!0;function jy(e,t,n,r){this.object=e,this.size=t!==void 0?t:1;var i=n!==void 0?n:16711680,o=r!==void 0?r:1,s=0,a=this.object.geometry;a&&a.isGeometry?s=a.faces.length*3:a&&a.isBufferGeometry&&(s=a.attributes.normal.count);var l=new Be,c=new Ce(s*2*3,3);l.addAttribute("position",c),kn.call(this,l,new wn({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}jy.prototype=Object.create(kn.prototype);jy.prototype.constructor=jy;jy.prototype.update=function(){var e=new W,t=new W,n=new Rr;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var o=this.object.matrixWorld,s=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var l=a.vertices,c=a.faces,d=0,h=0,f=c.length;h<f;h++)for(var m=c[h],g=0,y=m.vertexNormals.length;g<y;g++){var b=l[m[i[g]]],x=m.vertexNormals[g];e.copy(b).applyMatrix4(o),t.copy(x).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(d,e.x,e.y,e.z),d=d+1,s.setXYZ(d,t.x,t.y,t.z),d=d+1}else if(a&&a.isBufferGeometry)for(var w=a.attributes.position,S=a.attributes.normal,d=0,g=0,y=w.count;g<y;g++)e.set(w.getX(g),w.getY(g),w.getZ(g)).applyMatrix4(o),t.set(S.getX(g),S.getY(g),S.getZ(g)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(d,e.x,e.y,e.z),d=d+1,s.setXYZ(d,t.x,t.y,t.z),d=d+1;s.needsUpdate=!0}}();function cm(e,t){Le.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Be,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1,s=32;i<s;i++,o++){var a=i/s*Math.PI*2,l=o/s*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(l),Math.sin(l),1)}n.addAttribute("position",new Ce(r,3));var c=new wn({fog:!1});this.cone=new kn(n,c),this.add(this.cone),this.update()}cm.prototype=Object.create(Le.prototype);cm.prototype.constructor=cm;cm.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};cm.prototype.update=function(){var e=new W;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}();function R8(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,R8(e.children[n]));return t}function um(e){for(var t=R8(e),n=new Be,r=[],i=[],o=new We(0,0,1),s=new We(0,1,0),a=0;a<t.length;a++){var l=t[a];l.parent&&l.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(s.r,s.g,s.b))}n.addAttribute("position",new Ce(r,3)),n.addAttribute("color",new Ce(i,3));var c=new wn({vertexColors:ch,depthTest:!1,depthWrite:!1,transparent:!0});kn.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}um.prototype=Object.create(kn.prototype);um.prototype.constructor=um;um.prototype.updateMatrixWorld=function(){var e=new W,t=new Qe,n=new Qe;return function(i){var o=this.bones,s=this.geometry,a=s.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var l=0,c=0;l<o.length;l++){var d=o[l];d.parent&&d.parent.isBone&&(t.multiplyMatrices(n,d.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(c,e.x,e.y,e.z),t.multiplyMatrices(n,d.parent.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(c+1,e.x,e.y,e.z),c+=2)}s.getAttribute("position").needsUpdate=!0,Le.prototype.updateMatrixWorld.call(this,i)}}();function dm(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new Bd(t,4,2),i=new yo({wireframe:!0,fog:!1});Ir.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dm.prototype=Object.create(Ir.prototype);dm.prototype.constructor=dm;dm.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};dm.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};function hm(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=[1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],r=new Be;r.addAttribute("position",new Ce(n,3)),r.computeBoundingSphere();var i=new wn({fog:!1});bi.call(this,r,i);var o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],s=new Be;s.addAttribute("position",new Ce(o,3)),s.computeBoundingSphere(),this.add(new Ir(s,new yo({side:THREE.BackSide,fog:!1}))),this.update()}hm.prototype=Object.create(bi.prototype);hm.prototype.constructor=hm;hm.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),this.color!==void 0)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}};hm.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};function fm(e,t,n){Le.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new Nd(t);r.rotateY(Math.PI*.5),this.material=new yo({wireframe:!0,fog:!1}),this.color===void 0&&(this.material.vertexColors=ch);var i=r.getAttribute("position"),o=new Float32Array(i.count*3);r.addAttribute("color",new wt(o,3)),this.add(new Ir(r,this.material)),this.update()}fm.prototype=Object.create(Le.prototype);fm.prototype.constructor=fm;fm.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};fm.prototype.update=function(){var e=new W,t=new We,n=new We;return function(){var i=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var o=i.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var s=0,a=o.count;s<a;s++){var l=s<a/2?t:n;o.setXYZ(s,l.r,l.g,l.b)}o.needsUpdate=!0}i.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}();function zy(e,t,n,r){e=e||10,t=t||10,n=new We(n!==void 0?n:4473924),r=new We(r!==void 0?r:8947848);for(var i=t/2,o=e/t,s=e/2,a=[],l=[],c=0,d=0,h=-s;c<=t;c++,h+=o){a.push(-s,0,h,s,0,h),a.push(h,0,-s,h,0,s);var f=c===i?n:r;f.toArray(l,d),d+=3,f.toArray(l,d),d+=3,f.toArray(l,d),d+=3,f.toArray(l,d),d+=3}var m=new Be;m.addAttribute("position",new Ce(a,3)),m.addAttribute("color",new Ce(l,3));var g=new wn({vertexColors:ch});kn.call(this,m,g)}zy.prototype=Object.create(kn.prototype);zy.prototype.constructor=zy;function kS(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new We(i!==void 0?i:4473924),o=new We(o!==void 0?o:8947848);var s=[],a=[],l,c,d,h,f,m,g;for(h=0;h<=t;h++)d=h/t*(Math.PI*2),l=Math.sin(d)*e,c=Math.cos(d)*e,s.push(0,0,0),s.push(l,0,c),g=h&1?i:o,a.push(g.r,g.g,g.b),a.push(g.r,g.g,g.b);for(h=0;h<=n;h++)for(g=h&1?i:o,m=e-e/n*h,f=0;f<r;f++)d=f/r*(Math.PI*2),l=Math.sin(d)*m,c=Math.cos(d)*m,s.push(l,0,c),a.push(g.r,g.g,g.b),d=(f+1)/r*(Math.PI*2),l=Math.sin(d)*m,c=Math.cos(d)*m,s.push(l,0,c),a.push(g.r,g.g,g.b);var y=new Be;y.addAttribute("position",new Ce(s,3)),y.addAttribute("color",new Ce(a,3));var b=new wn({vertexColors:ch});kn.call(this,y,b)}kS.prototype=Object.create(kn.prototype);kS.prototype.constructor=kS;function Uy(e,t,n,r){this.object=e,this.size=t!==void 0?t:1;var i=n!==void 0?n:16776960,o=r!==void 0?r:1,s=0,a=this.object.geometry;a&&a.isGeometry?s=a.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new Be,c=new Ce(s*2*3,3);l.addAttribute("position",c),kn.call(this,l,new wn({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}Uy.prototype=Object.create(kn.prototype);Uy.prototype.constructor=Uy;Uy.prototype.update=function(){var e=new W,t=new W,n=new Rr;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,o=this.geometry.attributes.position,s=this.object.geometry,a=s.vertices,l=s.faces,c=0,d=0,h=l.length;d<h;d++){var f=l[d],m=f.normal;e.copy(a[f.a]).add(a[f.b]).add(a[f.c]).divideScalar(3).applyMatrix4(i),t.copy(m).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c=c+1,o.setXYZ(c,t.x,t.y,t.z),c=c+1}o.needsUpdate=!0}}();function pm(e,t,n){Le.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);var r=new Be;r.addAttribute("position",new Ce([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new wn({fog:!1});this.lightPlane=new bi(r,i),this.add(this.lightPlane),r=new Be,r.addAttribute("position",new Ce([0,0,0,0,0,1],3)),this.targetLine=new bi(r,i),this.add(this.targetLine),this.update()}pm.prototype=Object.create(Le.prototype);pm.prototype.constructor=pm;pm.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};pm.prototype.update=function(){var e=new W,t=new W,n=new W;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}();function Hy(e){var t=new Be,n=new wn({color:16777215,vertexColors:BF}),r=[],i=[],o={},s=new We(16755200),a=new We(16711680),l=new We(43775),c=new We(16777215),d=new We(3355443);h("n1","n2",s),h("n2","n4",s),h("n4","n3",s),h("n3","n1",s),h("f1","f2",s),h("f2","f4",s),h("f4","f3",s),h("f3","f1",s),h("n1","f1",s),h("n2","f2",s),h("n3","f3",s),h("n4","f4",s),h("p","n1",a),h("p","n2",a),h("p","n3",a),h("p","n4",a),h("u1","u2",l),h("u2","u3",l),h("u3","u1",l),h("c","t",c),h("p","c",d),h("cn1","cn2",d),h("cn3","cn4",d),h("cf1","cf2",d),h("cf3","cf4",d);function h(m,g,y){f(m,y),f(g,y)}function f(m,g){r.push(0,0,0),i.push(g.r,g.g,g.b),o[m]===void 0&&(o[m]=[]),o[m].push(r.length/3-1)}t.addAttribute("position",new Ce(r,3)),t.addAttribute("color",new Ce(i,3)),kn.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}Hy.prototype=Object.create(kn.prototype);Hy.prototype.constructor=Hy;Hy.prototype.update=function(){var e,t,n=new W,r=new ha;function i(o,s,a,l){n.set(s,a,l).unproject(r);var c=t[o];if(c!==void 0)for(var d=e.getAttribute("position"),h=0,f=c.length;h<f;h++)d.setXYZ(c[h],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap;var s=1,a=1;r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-s,-a,-1),i("n2",s,-a,-1),i("n3",-s,a,-1),i("n4",s,a,-1),i("f1",-s,-a,1),i("f2",s,-a,1),i("f3",-s,a,1),i("f4",s,a,1),i("u1",s*.7,a*1.1,-1),i("u2",-s*.7,a*1.1,-1),i("u3",0,a*2,-1),i("cf1",-s,0,1),i("cf2",s,0,1),i("cf3",0,-a,1),i("cf4",0,a,1),i("cn1",-s,0,-1),i("cn2",s,0,-1),i("cn3",0,-a,-1),i("cn4",0,a,-1),e.getAttribute("position").needsUpdate=!0}}();function Bc(e,t){this.object=e,t===void 0&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),i=new Be;i.setIndex(new wt(n,1)),i.addAttribute("position",new wt(r,3)),kn.call(this,i,new wn({color:t})),this.matrixAutoUpdate=!1,this.update()}Bc.prototype=Object.create(kn.prototype);Bc.prototype.constructor=Bc;Bc.prototype.update=function(){var e=new Sl;return function(n){if(n!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&e.setFromObject(this.object),!e.isEmpty()){var r=e.min,i=e.max,o=this.geometry.attributes.position,s=o.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=r.x,s[4]=i.y,s[5]=i.z,s[6]=r.x,s[7]=r.y,s[8]=i.z,s[9]=i.x,s[10]=r.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=r.z,s[15]=r.x,s[16]=i.y,s[17]=r.z,s[18]=r.x,s[19]=r.y,s[20]=r.z,s[21]=i.x,s[22]=r.y,s[23]=r.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();Bc.prototype.setFromObject=function(e){return this.object=e,this.update(),this};Bc.prototype.copy=function(e){return kn.prototype.copy.call(this,e),this.object=e.object,this};Bc.prototype.clone=function(){return new this.constructor().copy(this)};function Gy(e,t){this.type="Box3Helper",this.box=e;var n=t!==void 0?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Be;o.setIndex(new wt(r,1)),o.addAttribute("position",new Ce(i,3)),kn.call(this,o,new wn({color:n})),this.geometry.computeBoundingSphere()}Gy.prototype=Object.create(kn.prototype);Gy.prototype.constructor=Gy;Gy.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Le.prototype.updateMatrixWorld.call(this,e))};function Vy(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=t===void 0?1:t;var r=n!==void 0?n:16776960,i=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new Be;o.addAttribute("position",new Ce(i,3)),o.computeBoundingSphere(),bi.call(this,o,new wn({color:r}));var s=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],a=new Be;a.addAttribute("position",new Ce(s,3)),a.computeBoundingSphere(),this.add(new Ir(a,new yo({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}Vy.prototype=Object.create(bi.prototype);Vy.prototype.constructor=Vy;Vy.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Wr:Km,this.lookAt(this.plane.normal),Le.prototype.updateMatrixWorld.call(this,e)};var lv,Vw;function kl(e,t,n,r,i,o){Le.call(this),e===void 0&&(e=new THREE.Vector3(0,0,1)),t===void 0&&(t=new THREE.Vector3(0,0,0)),n===void 0&&(n=1),r===void 0&&(r=16776960),i===void 0&&(i=.2*n),o===void 0&&(o=.2*i),lv===void 0&&(lv=new Be,lv.addAttribute("position",new Ce([0,0,0,0,1,0],3)),Vw=new Al(0,.5,1,5,1),Vw.translate(0,-.5,0)),this.position.copy(t),this.line=new bi(lv,new wn({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ir(Vw,new yo({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}kl.prototype=Object.create(Le.prototype);kl.prototype.constructor=kl;kl.prototype.setDirection=function(){var e=new W,t;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(r.z,0,-r.x).normalize(),t=Math.acos(r.y),this.quaternion.setFromAxisAngle(e,t))}}();kl.prototype.setLength=function(e,t,n){t===void 0&&(t=.2*e),n===void 0&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()};kl.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)};kl.prototype.copy=function(e){return Le.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this};kl.prototype.clone=function(){return new this.constructor().copy(this)};function MS(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Be;r.addAttribute("position",new Ce(t,3)),r.addAttribute("color",new Ce(n,3));var i=new wn({vertexColors:ch});kn.call(this,r,i)}MS.prototype=Object.create(kn.prototype);MS.prototype.constructor=MS;Ye.create=function(e,t){return e.prototype=Object.create(Ye.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(el.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new et,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new W(i.x,i.y,i.z||0))}return t}});Object.assign(us.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(ji.prototype);Object.create(ji.prototype);function O8(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ji.call(this,e),this.type="catmullrom"}O8.prototype=Object.create(ji.prototype);Object.assign(O8.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});zy.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};um.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(Dy.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),y8.extractUrlBase(e)}});Object.assign(b8.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}});Object.assign(L8.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Sl.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});P8.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(ft,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),ft.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),ft.ceilPowerOfTwo(e)}});Object.assign(Rr.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(Qe.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return e===void 0&&(e=new W),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}});qs.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};ir.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(dh.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign($r.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign($r,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),$r.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),$r.getNormal(e,t,n,r)}});Object.assign(yc.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Dd(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Fd(this,e)}});Object.assign(me.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(W.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(an.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(et.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}});Object.assign(Le.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}});Object.defineProperties(Le.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(dy.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(aS.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});hy.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Ye.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});$n.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(jn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(wt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}});Object.assign(Be.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(Be.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.assign(fa.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(CS.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(lt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new We}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===NF}}});Object.defineProperties(ws.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Bi.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(EA.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}});Object.defineProperties(EA.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(a8.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Zo.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(c8.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}});lm.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this,n=new S8;return n.load(e,function(r){t.setBuffer(r)}),this};C8.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};By.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};Rc.crossOrigin=void 0;Rc.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new SA;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o};Rc.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new g8;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o};Rc.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Rc.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};//! CONFIG
const Fve="",jve="files[]";var yu=!1,TO;function CO(e){const t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return new Blob([r],{type:n})}class zve{constructor(){pk(this,"requestScreenshot",(t,n)=>new Promise(r=>{this.createTempCanvas(),t=t||Fve,n=n||jve,yu=!0,setTimeout(()=>{if(/^(http|https):\/\/[^ "]+$/.test(t)){const i=this.canvas.toDataURL("image/jpeg",.92),o=new FormData;o.append(n,CO(i),"quasar-store_qs-dispatch_screenshot.png"),fetch(t,{method:"POST",mode:"cors",body:o}).then(s=>s.text()).then(s=>{var a,l;s=JSON.parse(s),r((a=s==null?void 0:s.attachments[0])==null?void 0:a.proxy_url),yu=!1,typeof((l=this==null?void 0:this.canvas)==null?void 0:l.remove)=="function"&&this.canvas.remove(),this.canvas=!1})}else{const i=this.canvas.toDataURL("image/jpeg",.92),o=new FormData;o.append("image",CO(i),"quasar-store_qs-dispatch_screenshot.png"),fetch(`https://api.fivemanage.com/api/image?apiKey=${t}`,{method:"POST",mode:"cors",body:o}).then(s=>s.json()).then(s=>{var a;r(s==null?void 0:s.url),yu=!1,typeof((a=this==null?void 0:this.canvas)==null?void 0:a.remove)=="function"&&this.canvas.remove(),this.canvas=!1})}},50)}));window.addEventListener("resize",this.resize);const t=new Zd(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4);t.position.z=0,t.setViewOffset(window.innerWidth,window.innerHeight,0,0,window.innerWidth,window.innerHeight);const n=new Up,r=new Zo(window.innerWidth,window.innerHeight,{minFilter:yr,magFilter:or,format:xs,type:Lp}),i=new Id;i.needsUpdate=!0;const o=new Bi({uniforms:{tDiffuse:{value:i}},vertexShader:`
			varying vec2 vUv;

			void main() {
				vUv = vec2(uv.x, 1.0-uv.y);
				gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
			}
`,fragmentShader:`
			varying vec2 vUv;
			uniform sampler2D tDiffuse;

			void main() {
				gl_FragColor = texture2D(tDiffuse, vUv);
			}
`});this.material=o;const s=new Tl(window.innerWidth,window.innerHeight),a=new Ir(s,o);a.position.z=-100,n.add(a);const l=new EA;l.setSize(window.innerWidth,window.innerHeight),l.autoClear=!1;let c=document.createElement("div");c.id="three-game-render",document.body.append(c),c.appendChild(l.domElement),c.style.display="none",this.renderer=l,this.rtTexture=r,this.sceneRTT=n,this.cameraRTT=t,this.gameTexture=i,this.animate=this.animate.bind(this),requestAnimationFrame(this.animate)}resize(t){const n=new Zd(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4);if(t===!0)n.setViewOffset(window.innerWidth,window.innerHeight,0,0,window.innerWidth,window.innerHeight);else{const s=Math.floor(window.innerHeight*10/23);n.setViewOffset(window.innerWidth,window.innerHeight,window.innerWidth/3.8,0,s,window.innerHeight)}this.cameraRTT=n;const r=new Up,i=new Tl(window.innerWidth,window.innerHeight),o=new Ir(i,this.material);o.position.z=-100,r.add(o),this.sceneRTT=r,this.rtTexture=new Zo(window.innerWidth,window.innerHeight,{minFilter:yr,magFilter:or,format:xs,type:Lp}),this.renderer.setSize(window.innerWidth,window.innerHeight)}animate(){if(requestAnimationFrame(this.animate),yu){this.renderer.clear(),this.renderer.render(this.sceneRTT,this.cameraRTT,this.rtTexture,!0);const t=new Uint8Array(window.innerWidth*window.innerHeight*4);this.renderer.readRenderTargetPixels(this.rtTexture,0,0,window.innerWidth,window.innerHeight,t),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight;const n=new Uint8ClampedArray(t.buffer),r=this.canvas.getContext("2d"),i=new ImageData(n,window.innerWidth,window.innerHeight);r.putImageData(i,0,0)}}createTempCanvas(){this.canvas=document.createElement("canvas"),this.canvas.style.display="inline",this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}renderToTarget(t){this.resize(!1),this.canvas=t,yu=!0}stop(){yu=!1,this.canvas&&this.canvas.style.display!="none"&&(this.canvas.style.display="none"),this.resize(!0)}}setTimeout(()=>{TO=new zve,window.MainRender=TO},1e3);const Uve=R3({palette:{mode:"dark",primary:{main:"#0D80D8"}}}),Hve=document.getElementById("root"),Gve=zN(Hve);Gve.render(v.jsx(bG,{theme:Uve,children:v.jsx(xhe,{children:v.jsx(iq,{children:v.jsx(oq,{children:v.jsx(hJ,{children:v.jsx(Bee,{children:v.jsx(vhe,{})})})})})})}));
//# sourceMappingURL=index-9ec3a9cd.js.map
